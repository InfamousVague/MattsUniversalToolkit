import{s as h,q as u,v as p}from"./scheduler.BSglW4Eu.js";import{S as m,i as K}from"./index.B6nwG8t1.js";import{K as c}from"./Store.jZGzll8E.js";function w(f,n,y){let{keybinds:r=[]}=n;const o=u();let a=!1;function l(e){if(e.repeat)return;let i=[];e.shiftKey&&i.push("shift"),e.ctrlKey&&i.push("ctrl"),e.altKey&&i.push("alt");let t=e.key.toWellFormed();e.altKey&&(e.code.startsWith("Key")?t=e.code.replace("Key",""):e.code.startsWith("Digit")&&(t=e.code.replace("Digit",""))),a=!0,o("event",{key:t,modifiers:i,state:c.Pressed}),r.forEach(s=>{s.key===t&&s.modifiers.sort().join()===i.sort().join()&&o("matchRelease",s)})}function d(e){if(!a)return;let i=e.key,t=[];e.shiftKey&&t.push("shift"),e.ctrlKey&&t.push("ctrl"),o("event",{key:i,modifiers:t,state:c.Released}),r.forEach(s=>{s.key===i&&s.modifiers.sort().join()===t.sort().join()&&o("match",s)}),a=!1}return p(()=>(window.addEventListener("keydown",l),window.addEventListener("keyup",d),()=>{window.removeEventListener("keydown",l),window.removeEventListener("keyup",d)})),f.$$set=e=>{"keybinds"in e&&y(0,r=e.keybinds)},[r]}class j extends m{constructor(n){super(),K(this,n,w,null,h,{keybinds:0})}}export{j as K};
