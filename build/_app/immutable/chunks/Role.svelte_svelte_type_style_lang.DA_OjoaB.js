var Jt=Object.defineProperty;var Xt=B=>{throw TypeError(B)};var Qt=(B,S,D)=>S in B?Jt(B,S,{enumerable:!0,configurable:!0,writable:!0,value:D}):B[S]=D;var Lt=(B,S,D)=>Qt(B,typeof S!="symbol"?S+"":S,D);var jt=(B,S,D)=>S.has(B)?Xt("Cannot add the same private member more than once"):S instanceof WeakSet?S.add(B):S.set(B,D);import{V as getDefaultExportFromCjs,b as Store$1,l as log$1,ah as CallDirection,$ as $format,q as RaygunStoreInstance,ai as create_cancellable_handler,h as playSound,j as Sounds,aj as getAugmentedNamespace,Q as commonjsGlobal,s as global,R as Route,a as Shape,N as CommunityChannelKind,a0 as mock_users}from"./Store.Cvqh3Vpc.js";import{w as writable,a as dist,B as Buffer,b as Buffer$1}from"./entry.CGRmQe8A.js";import{A as process$1}from"./UnderConstruction.svelte_svelte_type_style_lang.BBY_KauG.js";import{u as get_store_value}from"./scheduler.BSglW4Eu.js";function _mergeNamespaces(B,S){for(var D=0;D<S.length;D++){const q=S[D];if(typeof q!="string"&&!Array.isArray(q)){for(const O in q)if(O!=="default"&&!(O in B)){const $=Object.getOwnPropertyDescriptor(q,O);$&&Object.defineProperty(B,O,$.get?$:{enumerable:!0,get:()=>q[O]})}}}return Object.freeze(Object.defineProperty(B,Symbol.toStringTag,{value:"Module"}))}class $e8379818650e2442$export$93654d4f2d6cd524{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(S){this.flush(),this._parts.push(S)}append(S){this._pieces.push(S)}flush(){if(this._pieces.length>0){const S=new Uint8Array(this._pieces);this._parts.push(S),this._pieces=[]}}toArrayBuffer(){const S=[];for(const D of this._parts)S.push(D);return $e8379818650e2442$var$concatArrayBuffers(S).buffer}}function $e8379818650e2442$var$concatArrayBuffers(B){let S=0;for(const O of B)S+=O.byteLength;const D=new Uint8Array(S);let q=0;for(const O of B){const $=new Uint8Array(O.buffer,O.byteOffset,O.byteLength);D.set($,q),q+=O.byteLength}return D}function $0cfd7828ad59115f$export$417857010dc9287f(B){return new $0cfd7828ad59115f$var$Unpacker(B).unpack()}function $0cfd7828ad59115f$export$2a703dbb0cb35339(B){const S=new $0cfd7828ad59115f$export$b9ec4b114aa40074,D=S.pack(B);return D instanceof Promise?D.then(()=>S.getBuffer()):S.getBuffer()}class $0cfd7828ad59115f$var$Unpacker{constructor(S){this.index=0,this.dataBuffer=S,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const S=this.unpack_uint8();if(S<128)return S;if((S^224)<32)return(S^224)-32;let D;if((D=S^160)<=15)return this.unpack_raw(D);if((D=S^176)<=15)return this.unpack_string(D);if((D=S^144)<=15)return this.unpack_array(D);if((D=S^128)<=15)return this.unpack_map(D);switch(S){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return D=this.unpack_uint16(),this.unpack_string(D);case 217:return D=this.unpack_uint32(),this.unpack_string(D);case 218:return D=this.unpack_uint16(),this.unpack_raw(D);case 219:return D=this.unpack_uint32(),this.unpack_raw(D);case 220:return D=this.unpack_uint16(),this.unpack_array(D);case 221:return D=this.unpack_uint32(),this.unpack_array(D);case 222:return D=this.unpack_uint16(),this.unpack_map(D);case 223:return D=this.unpack_uint32(),this.unpack_map(D)}}unpack_uint8(){const S=this.dataView[this.index]&255;return this.index++,S}unpack_uint16(){const S=this.read(2),D=(S[0]&255)*256+(S[1]&255);return this.index+=2,D}unpack_uint32(){const S=this.read(4),D=((S[0]*256+S[1])*256+S[2])*256+S[3];return this.index+=4,D}unpack_uint64(){const S=this.read(8),D=((((((S[0]*256+S[1])*256+S[2])*256+S[3])*256+S[4])*256+S[5])*256+S[6])*256+S[7];return this.index+=8,D}unpack_int8(){const S=this.unpack_uint8();return S<128?S:S-256}unpack_int16(){const S=this.unpack_uint16();return S<32768?S:S-65536}unpack_int32(){const S=this.unpack_uint32();return S<2**31?S:S-2**32}unpack_int64(){const S=this.unpack_uint64();return S<2**63?S:S-2**64}unpack_raw(S){if(this.length<this.index+S)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${S} ${this.length}`);const D=this.dataBuffer.slice(this.index,this.index+S);return this.index+=S,D}unpack_string(S){const D=this.read(S);let q=0,O="",$,j;for(;q<S;)$=D[q],$<160?(j=$,q++):($^192)<32?(j=($&31)<<6|D[q+1]&63,q+=2):($^224)<16?(j=($&15)<<12|(D[q+1]&63)<<6|D[q+2]&63,q+=3):(j=($&7)<<18|(D[q+1]&63)<<12|(D[q+2]&63)<<6|D[q+3]&63,q+=4),O+=String.fromCodePoint(j);return this.index+=S,O}unpack_array(S){const D=new Array(S);for(let q=0;q<S;q++)D[q]=this.unpack();return D}unpack_map(S){const D={};for(let q=0;q<S;q++){const O=this.unpack();D[O]=this.unpack()}return D}unpack_float(){const S=this.unpack_uint32(),D=S>>31,q=(S>>23&255)-127,O=S&8388607|8388608;return(D===0?1:-1)*O*2**(q-23)}unpack_double(){const S=this.unpack_uint32(),D=this.unpack_uint32(),q=S>>31,O=(S>>20&2047)-1023,j=(S&1048575|1048576)*2**(O-20)+D*2**(O-52);return(q===0?1:-1)*j}read(S){const D=this.index;if(D+S<=this.length)return this.dataView.subarray(D,D+S);throw new Error("BinaryPackFailure: read index out of range")}}class $0cfd7828ad59115f$export$b9ec4b114aa40074{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(S){if(typeof S=="string")this.pack_string(S);else if(typeof S=="number")Math.floor(S)===S?this.pack_integer(S):this.pack_double(S);else if(typeof S=="boolean")S===!0?this._bufferBuilder.append(195):S===!1&&this._bufferBuilder.append(194);else if(S===void 0)this._bufferBuilder.append(192);else if(typeof S=="object")if(S===null)this._bufferBuilder.append(192);else{const D=S.constructor;if(S instanceof Array){const q=this.pack_array(S);if(q instanceof Promise)return q.then(()=>this._bufferBuilder.flush())}else if(S instanceof ArrayBuffer)this.pack_bin(new Uint8Array(S));else if("BYTES_PER_ELEMENT"in S){const q=S;this.pack_bin(new Uint8Array(q.buffer,q.byteOffset,q.byteLength))}else if(S instanceof Date)this.pack_string(S.toString());else{if(S instanceof Blob)return S.arrayBuffer().then(q=>{this.pack_bin(new Uint8Array(q)),this._bufferBuilder.flush()});if(D==Object||D.toString().startsWith("class")){const q=this.pack_object(S);if(q instanceof Promise)return q.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${D.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof S}" not yet supported`);this._bufferBuilder.flush()}pack_bin(S){const D=S.length;if(D<=15)this.pack_uint8(160+D);else if(D<=65535)this._bufferBuilder.append(218),this.pack_uint16(D);else if(D<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(D);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(S)}pack_string(S){const D=this._textEncoder.encode(S),q=D.length;if(q<=15)this.pack_uint8(176+q);else if(q<=65535)this._bufferBuilder.append(216),this.pack_uint16(q);else if(q<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(q);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(D)}pack_array(S){const D=S.length;if(D<=15)this.pack_uint8(144+D);else if(D<=65535)this._bufferBuilder.append(220),this.pack_uint16(D);else if(D<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(D);else throw new Error("Invalid length");const q=O=>{if(O<D){const $=this.pack(S[O]);return $ instanceof Promise?$.then(()=>q(O+1)):q(O+1)}};return q(0)}pack_integer(S){if(S>=-32&&S<=127)this._bufferBuilder.append(S&255);else if(S>=0&&S<=255)this._bufferBuilder.append(204),this.pack_uint8(S);else if(S>=-128&&S<=127)this._bufferBuilder.append(208),this.pack_int8(S);else if(S>=0&&S<=65535)this._bufferBuilder.append(205),this.pack_uint16(S);else if(S>=-32768&&S<=32767)this._bufferBuilder.append(209),this.pack_int16(S);else if(S>=0&&S<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(S);else if(S>=-2147483648&&S<=2147483647)this._bufferBuilder.append(210),this.pack_int32(S);else if(S>=-9223372036854776e3&&S<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(S);else if(S>=0&&S<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(S);else throw new Error("Invalid integer")}pack_double(S){let D=0;S<0&&(D=1,S=-S);const q=Math.floor(Math.log(S)/Math.LN2),O=S/2**q-1,$=Math.floor(O*2**52),j=2**32,G=D<<31|q+1023<<20|$/j&1048575,V=$%j;this._bufferBuilder.append(203),this.pack_int32(G),this.pack_int32(V)}pack_object(S){const D=Object.keys(S),q=D.length;if(q<=15)this.pack_uint8(128+q);else if(q<=65535)this._bufferBuilder.append(222),this.pack_uint16(q);else if(q<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(q);else throw new Error("Invalid length");const O=$=>{if($<D.length){const j=D[$];if(S.hasOwnProperty(j)){this.pack(j);const G=this.pack(S[j]);if(G instanceof Promise)return G.then(()=>O($+1))}return O($+1)}};return O(0)}pack_uint8(S){this._bufferBuilder.append(S)}pack_uint16(S){this._bufferBuilder.append(S>>8),this._bufferBuilder.append(S&255)}pack_uint32(S){const D=S&4294967295;this._bufferBuilder.append((D&4278190080)>>>24),this._bufferBuilder.append((D&16711680)>>>16),this._bufferBuilder.append((D&65280)>>>8),this._bufferBuilder.append(D&255)}pack_uint64(S){const D=S/4294967296,q=S%2**32;this._bufferBuilder.append((D&4278190080)>>>24),this._bufferBuilder.append((D&16711680)>>>16),this._bufferBuilder.append((D&65280)>>>8),this._bufferBuilder.append(D&255),this._bufferBuilder.append((q&4278190080)>>>24),this._bufferBuilder.append((q&16711680)>>>16),this._bufferBuilder.append((q&65280)>>>8),this._bufferBuilder.append(q&255)}pack_int8(S){this._bufferBuilder.append(S&255)}pack_int16(S){this._bufferBuilder.append((S&65280)>>8),this._bufferBuilder.append(S&255)}pack_int32(S){this._bufferBuilder.append(S>>>24&255),this._bufferBuilder.append((S&16711680)>>>16),this._bufferBuilder.append((S&65280)>>>8),this._bufferBuilder.append(S&255)}pack_int64(S){const D=Math.floor(S/4294967296),q=S%2**32;this._bufferBuilder.append((D&4278190080)>>>24),this._bufferBuilder.append((D&16711680)>>>16),this._bufferBuilder.append((D&65280)>>>8),this._bufferBuilder.append(D&255),this._bufferBuilder.append((q&4278190080)>>>24),this._bufferBuilder.append((q&16711680)>>>16),this._bufferBuilder.append((q&65280)>>>8),this._bufferBuilder.append(q&255)}constructor(){this._bufferBuilder=new $e8379818650e2442$export$93654d4f2d6cd524,this._textEncoder=new TextEncoder}}let logDisabled_=!0,deprecationWarnings_=!0;function extractVersion(B,S,D){const q=B.match(S);return q&&q.length>=D&&parseInt(q[D],10)}function wrapPeerConnectionEvent(B,S,D){if(!B.RTCPeerConnection)return;const q=B.RTCPeerConnection.prototype,O=q.addEventListener;q.addEventListener=function(j,G){if(j!==S)return O.apply(this,arguments);const V=K=>{const H=D(K);H&&(G.handleEvent?G.handleEvent(H):G(H))};return this._eventMap=this._eventMap||{},this._eventMap[S]||(this._eventMap[S]=new Map),this._eventMap[S].set(G,V),O.apply(this,[j,V])};const $=q.removeEventListener;q.removeEventListener=function(j,G){if(j!==S||!this._eventMap||!this._eventMap[S])return $.apply(this,arguments);if(!this._eventMap[S].has(G))return $.apply(this,arguments);const V=this._eventMap[S].get(G);return this._eventMap[S].delete(G),this._eventMap[S].size===0&&delete this._eventMap[S],Object.keys(this._eventMap).length===0&&delete this._eventMap,$.apply(this,[j,V])},Object.defineProperty(q,"on"+S,{get(){return this["_on"+S]},set(j){this["_on"+S]&&(this.removeEventListener(S,this["_on"+S]),delete this["_on"+S]),j&&this.addEventListener(S,this["_on"+S]=j)},enumerable:!0,configurable:!0})}function disableLog(B){return typeof B!="boolean"?new Error("Argument type: "+typeof B+". Please use a boolean."):(logDisabled_=B,B?"adapter.js logging disabled":"adapter.js logging enabled")}function disableWarnings(B){return typeof B!="boolean"?new Error("Argument type: "+typeof B+". Please use a boolean."):(deprecationWarnings_=!B,"adapter.js deprecation warnings "+(B?"disabled":"enabled"))}function log(){if(typeof window=="object"){if(logDisabled_)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function deprecated(B,S){deprecationWarnings_&&console.warn(B+" is deprecated, please use "+S+" instead.")}function detectBrowser(B){const S={browser:null,version:null};if(typeof B>"u"||!B.navigator||!B.navigator.userAgent)return S.browser="Not a browser.",S;const{navigator:D}=B;if(D.userAgentData&&D.userAgentData.brands){const q=D.userAgentData.brands.find(O=>O.brand==="Chromium");if(q)return{browser:"chrome",version:parseInt(q.version,10)}}if(D.mozGetUserMedia)S.browser="firefox",S.version=extractVersion(D.userAgent,/Firefox\/(\d+)\./,1);else if(D.webkitGetUserMedia||B.isSecureContext===!1&&B.webkitRTCPeerConnection)S.browser="chrome",S.version=extractVersion(D.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(B.RTCPeerConnection&&D.userAgent.match(/AppleWebKit\/(\d+)\./))S.browser="safari",S.version=extractVersion(D.userAgent,/AppleWebKit\/(\d+)\./,1),S.supportsUnifiedPlan=B.RTCRtpTransceiver&&"currentDirection"in B.RTCRtpTransceiver.prototype;else return S.browser="Not a supported browser.",S;return S}function isObject$1(B){return Object.prototype.toString.call(B)==="[object Object]"}function compactObject(B){return isObject$1(B)?Object.keys(B).reduce(function(S,D){const q=isObject$1(B[D]),O=q?compactObject(B[D]):B[D],$=q&&!Object.keys(O).length;return O===void 0||$?S:Object.assign(S,{[D]:O})},{}):B}function walkStats(B,S,D){!S||D.has(S.id)||(D.set(S.id,S),Object.keys(S).forEach(q=>{q.endsWith("Id")?walkStats(B,B.get(S[q]),D):q.endsWith("Ids")&&S[q].forEach(O=>{walkStats(B,B.get(O),D)})}))}function filterStats(B,S,D){const q=D?"outbound-rtp":"inbound-rtp",O=new Map;if(S===null)return O;const $=[];return B.forEach(j=>{j.type==="track"&&j.trackIdentifier===S.id&&$.push(j)}),$.forEach(j=>{B.forEach(G=>{G.type===q&&G.trackId===j.id&&walkStats(B,G,O)})}),O}const logging=log;function shimGetUserMedia$2(B,S){const D=B&&B.navigator;if(!D.mediaDevices)return;const q=function(G){if(typeof G!="object"||G.mandatory||G.optional)return G;const V={};return Object.keys(G).forEach(K=>{if(K==="require"||K==="advanced"||K==="mediaSource")return;const H=typeof G[K]=="object"?G[K]:{ideal:G[K]};H.exact!==void 0&&typeof H.exact=="number"&&(H.min=H.max=H.exact);const Y=function(X,Q){return X?X+Q.charAt(0).toUpperCase()+Q.slice(1):Q==="deviceId"?"sourceId":Q};if(H.ideal!==void 0){V.optional=V.optional||[];let X={};typeof H.ideal=="number"?(X[Y("min",K)]=H.ideal,V.optional.push(X),X={},X[Y("max",K)]=H.ideal,V.optional.push(X)):(X[Y("",K)]=H.ideal,V.optional.push(X))}H.exact!==void 0&&typeof H.exact!="number"?(V.mandatory=V.mandatory||{},V.mandatory[Y("",K)]=H.exact):["min","max"].forEach(X=>{H[X]!==void 0&&(V.mandatory=V.mandatory||{},V.mandatory[Y(X,K)]=H[X])})}),G.advanced&&(V.optional=(V.optional||[]).concat(G.advanced)),V},O=function(G,V){if(S.version>=61)return V(G);if(G=JSON.parse(JSON.stringify(G)),G&&typeof G.audio=="object"){const K=function(H,Y,X){Y in H&&!(X in H)&&(H[X]=H[Y],delete H[Y])};G=JSON.parse(JSON.stringify(G)),K(G.audio,"autoGainControl","googAutoGainControl"),K(G.audio,"noiseSuppression","googNoiseSuppression"),G.audio=q(G.audio)}if(G&&typeof G.video=="object"){let K=G.video.facingMode;K=K&&(typeof K=="object"?K:{ideal:K});const H=S.version<66;if(K&&(K.exact==="user"||K.exact==="environment"||K.ideal==="user"||K.ideal==="environment")&&!(D.mediaDevices.getSupportedConstraints&&D.mediaDevices.getSupportedConstraints().facingMode&&!H)){delete G.video.facingMode;let Y;if(K.exact==="environment"||K.ideal==="environment"?Y=["back","rear"]:(K.exact==="user"||K.ideal==="user")&&(Y=["front"]),Y)return D.mediaDevices.enumerateDevices().then(X=>{X=X.filter(ee=>ee.kind==="videoinput");let Q=X.find(ee=>Y.some(re=>ee.label.toLowerCase().includes(re)));return!Q&&X.length&&Y.includes("back")&&(Q=X[X.length-1]),Q&&(G.video.deviceId=K.exact?{exact:Q.deviceId}:{ideal:Q.deviceId}),G.video=q(G.video),logging("chrome: "+JSON.stringify(G)),V(G)})}G.video=q(G.video)}return logging("chrome: "+JSON.stringify(G)),V(G)},$=function(G){return S.version>=64?G:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[G.name]||G.name,message:G.message,constraint:G.constraint||G.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},j=function(G,V,K){O(G,H=>{D.webkitGetUserMedia(H,V,Y=>{K&&K($(Y))})})};if(D.getUserMedia=j.bind(D),D.mediaDevices.getUserMedia){const G=D.mediaDevices.getUserMedia.bind(D.mediaDevices);D.mediaDevices.getUserMedia=function(V){return O(V,K=>G(K).then(H=>{if(K.audio&&!H.getAudioTracks().length||K.video&&!H.getVideoTracks().length)throw H.getTracks().forEach(Y=>{Y.stop()}),new DOMException("","NotFoundError");return H},H=>Promise.reject($(H))))}}}function shimMediaStream(B){B.MediaStream=B.MediaStream||B.webkitMediaStream}function shimOnTrack$1(B){if(typeof B=="object"&&B.RTCPeerConnection&&!("ontrack"in B.RTCPeerConnection.prototype)){Object.defineProperty(B.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(D){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=D)},enumerable:!0,configurable:!0});const S=B.RTCPeerConnection.prototype.setRemoteDescription;B.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=q=>{q.stream.addEventListener("addtrack",O=>{let $;B.RTCPeerConnection.prototype.getReceivers?$=this.getReceivers().find(G=>G.track&&G.track.id===O.track.id):$={track:O.track};const j=new Event("track");j.track=O.track,j.receiver=$,j.transceiver={receiver:$},j.streams=[q.stream],this.dispatchEvent(j)}),q.stream.getTracks().forEach(O=>{let $;B.RTCPeerConnection.prototype.getReceivers?$=this.getReceivers().find(G=>G.track&&G.track.id===O.id):$={track:O};const j=new Event("track");j.track=O,j.receiver=$,j.transceiver={receiver:$},j.streams=[q.stream],this.dispatchEvent(j)})},this.addEventListener("addstream",this._ontrackpoly)),S.apply(this,arguments)}}else wrapPeerConnectionEvent(B,"track",S=>(S.transceiver||Object.defineProperty(S,"transceiver",{value:{receiver:S.receiver}}),S))}function shimGetSendersWithDtmf(B){if(typeof B=="object"&&B.RTCPeerConnection&&!("getSenders"in B.RTCPeerConnection.prototype)&&"createDTMFSender"in B.RTCPeerConnection.prototype){const S=function(O,$){return{track:$,get dtmf(){return this._dtmf===void 0&&($.kind==="audio"?this._dtmf=O.createDTMFSender($):this._dtmf=null),this._dtmf},_pc:O}};if(!B.RTCPeerConnection.prototype.getSenders){B.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const O=B.RTCPeerConnection.prototype.addTrack;B.RTCPeerConnection.prototype.addTrack=function(G,V){let K=O.apply(this,arguments);return K||(K=S(this,G),this._senders.push(K)),K};const $=B.RTCPeerConnection.prototype.removeTrack;B.RTCPeerConnection.prototype.removeTrack=function(G){$.apply(this,arguments);const V=this._senders.indexOf(G);V!==-1&&this._senders.splice(V,1)}}const D=B.RTCPeerConnection.prototype.addStream;B.RTCPeerConnection.prototype.addStream=function($){this._senders=this._senders||[],D.apply(this,[$]),$.getTracks().forEach(j=>{this._senders.push(S(this,j))})};const q=B.RTCPeerConnection.prototype.removeStream;B.RTCPeerConnection.prototype.removeStream=function($){this._senders=this._senders||[],q.apply(this,[$]),$.getTracks().forEach(j=>{const G=this._senders.find(V=>V.track===j);G&&this._senders.splice(this._senders.indexOf(G),1)})}}else if(typeof B=="object"&&B.RTCPeerConnection&&"getSenders"in B.RTCPeerConnection.prototype&&"createDTMFSender"in B.RTCPeerConnection.prototype&&B.RTCRtpSender&&!("dtmf"in B.RTCRtpSender.prototype)){const S=B.RTCPeerConnection.prototype.getSenders;B.RTCPeerConnection.prototype.getSenders=function(){const q=S.apply(this,[]);return q.forEach(O=>O._pc=this),q},Object.defineProperty(B.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function shimSenderReceiverGetStats(B){if(!(typeof B=="object"&&B.RTCPeerConnection&&B.RTCRtpSender&&B.RTCRtpReceiver))return;if(!("getStats"in B.RTCRtpSender.prototype)){const D=B.RTCPeerConnection.prototype.getSenders;D&&(B.RTCPeerConnection.prototype.getSenders=function(){const $=D.apply(this,[]);return $.forEach(j=>j._pc=this),$});const q=B.RTCPeerConnection.prototype.addTrack;q&&(B.RTCPeerConnection.prototype.addTrack=function(){const $=q.apply(this,arguments);return $._pc=this,$}),B.RTCRtpSender.prototype.getStats=function(){const $=this;return this._pc.getStats().then(j=>filterStats(j,$.track,!0))}}if(!("getStats"in B.RTCRtpReceiver.prototype)){const D=B.RTCPeerConnection.prototype.getReceivers;D&&(B.RTCPeerConnection.prototype.getReceivers=function(){const O=D.apply(this,[]);return O.forEach($=>$._pc=this),O}),wrapPeerConnectionEvent(B,"track",q=>(q.receiver._pc=q.srcElement,q)),B.RTCRtpReceiver.prototype.getStats=function(){const O=this;return this._pc.getStats().then($=>filterStats($,O.track,!1))}}if(!("getStats"in B.RTCRtpSender.prototype&&"getStats"in B.RTCRtpReceiver.prototype))return;const S=B.RTCPeerConnection.prototype.getStats;B.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof B.MediaStreamTrack){const q=arguments[0];let O,$,j;return this.getSenders().forEach(G=>{G.track===q&&(O?j=!0:O=G)}),this.getReceivers().forEach(G=>(G.track===q&&($?j=!0:$=G),G.track===q)),j||O&&$?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):O?O.getStats():$?$.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return S.apply(this,arguments)}}function shimAddTrackRemoveTrackWithNative(B){B.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(j=>this._shimmedLocalStreams[j][0])};const S=B.RTCPeerConnection.prototype.addTrack;B.RTCPeerConnection.prototype.addTrack=function(j,G){if(!G)return S.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const V=S.apply(this,arguments);return this._shimmedLocalStreams[G.id]?this._shimmedLocalStreams[G.id].indexOf(V)===-1&&this._shimmedLocalStreams[G.id].push(V):this._shimmedLocalStreams[G.id]=[G,V],V};const D=B.RTCPeerConnection.prototype.addStream;B.RTCPeerConnection.prototype.addStream=function(j){this._shimmedLocalStreams=this._shimmedLocalStreams||{},j.getTracks().forEach(K=>{if(this.getSenders().find(Y=>Y.track===K))throw new DOMException("Track already exists.","InvalidAccessError")});const G=this.getSenders();D.apply(this,arguments);const V=this.getSenders().filter(K=>G.indexOf(K)===-1);this._shimmedLocalStreams[j.id]=[j].concat(V)};const q=B.RTCPeerConnection.prototype.removeStream;B.RTCPeerConnection.prototype.removeStream=function(j){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[j.id],q.apply(this,arguments)};const O=B.RTCPeerConnection.prototype.removeTrack;B.RTCPeerConnection.prototype.removeTrack=function(j){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},j&&Object.keys(this._shimmedLocalStreams).forEach(G=>{const V=this._shimmedLocalStreams[G].indexOf(j);V!==-1&&this._shimmedLocalStreams[G].splice(V,1),this._shimmedLocalStreams[G].length===1&&delete this._shimmedLocalStreams[G]}),O.apply(this,arguments)}}function shimAddTrackRemoveTrack(B,S){if(!B.RTCPeerConnection)return;if(B.RTCPeerConnection.prototype.addTrack&&S.version>=65)return shimAddTrackRemoveTrackWithNative(B);const D=B.RTCPeerConnection.prototype.getLocalStreams;B.RTCPeerConnection.prototype.getLocalStreams=function(){const H=D.apply(this);return this._reverseStreams=this._reverseStreams||{},H.map(Y=>this._reverseStreams[Y.id])};const q=B.RTCPeerConnection.prototype.addStream;B.RTCPeerConnection.prototype.addStream=function(H){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},H.getTracks().forEach(Y=>{if(this.getSenders().find(Q=>Q.track===Y))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[H.id]){const Y=new B.MediaStream(H.getTracks());this._streams[H.id]=Y,this._reverseStreams[Y.id]=H,H=Y}q.apply(this,[H])};const O=B.RTCPeerConnection.prototype.removeStream;B.RTCPeerConnection.prototype.removeStream=function(H){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},O.apply(this,[this._streams[H.id]||H]),delete this._reverseStreams[this._streams[H.id]?this._streams[H.id].id:H.id],delete this._streams[H.id]},B.RTCPeerConnection.prototype.addTrack=function(H,Y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const X=[].slice.call(arguments,1);if(X.length!==1||!X[0].getTracks().find(re=>re===H))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(re=>re.track===H))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const ee=this._streams[Y.id];if(ee)ee.addTrack(H),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const re=new B.MediaStream([H]);this._streams[Y.id]=re,this._reverseStreams[re.id]=Y,this.addStream(re)}return this.getSenders().find(re=>re.track===H)};function $(K,H){let Y=H.sdp;return Object.keys(K._reverseStreams||[]).forEach(X=>{const Q=K._reverseStreams[X],ee=K._streams[Q.id];Y=Y.replace(new RegExp(ee.id,"g"),Q.id)}),new RTCSessionDescription({type:H.type,sdp:Y})}function j(K,H){let Y=H.sdp;return Object.keys(K._reverseStreams||[]).forEach(X=>{const Q=K._reverseStreams[X],ee=K._streams[Q.id];Y=Y.replace(new RegExp(Q.id,"g"),ee.id)}),new RTCSessionDescription({type:H.type,sdp:Y})}["createOffer","createAnswer"].forEach(function(K){const H=B.RTCPeerConnection.prototype[K],Y={[K](){const X=arguments;return arguments.length&&typeof arguments[0]=="function"?H.apply(this,[ee=>{const re=$(this,ee);X[0].apply(null,[re])},ee=>{X[1]&&X[1].apply(null,ee)},arguments[2]]):H.apply(this,arguments).then(ee=>$(this,ee))}};B.RTCPeerConnection.prototype[K]=Y[K]});const G=B.RTCPeerConnection.prototype.setLocalDescription;B.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?G.apply(this,arguments):(arguments[0]=j(this,arguments[0]),G.apply(this,arguments))};const V=Object.getOwnPropertyDescriptor(B.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(B.RTCPeerConnection.prototype,"localDescription",{get(){const K=V.get.apply(this);return K.type===""?K:$(this,K)}}),B.RTCPeerConnection.prototype.removeTrack=function(H){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!H._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(H._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let X;Object.keys(this._streams).forEach(Q=>{this._streams[Q].getTracks().find(re=>H.track===re)&&(X=this._streams[Q])}),X&&(X.getTracks().length===1?this.removeStream(this._reverseStreams[X.id]):X.removeTrack(H.track),this.dispatchEvent(new Event("negotiationneeded")))}}function shimPeerConnection$1(B,S){!B.RTCPeerConnection&&B.webkitRTCPeerConnection&&(B.RTCPeerConnection=B.webkitRTCPeerConnection),B.RTCPeerConnection&&S.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(D){const q=B.RTCPeerConnection.prototype[D],O={[D](){return arguments[0]=new(D==="addIceCandidate"?B.RTCIceCandidate:B.RTCSessionDescription)(arguments[0]),q.apply(this,arguments)}};B.RTCPeerConnection.prototype[D]=O[D]})}function fixNegotiationNeeded(B,S){wrapPeerConnectionEvent(B,"negotiationneeded",D=>{const q=D.target;if(!((S.version<72||q.getConfiguration&&q.getConfiguration().sdpSemantics==="plan-b")&&q.signalingState!=="stable"))return D})}const chromeShim=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded,shimAddTrackRemoveTrack,shimAddTrackRemoveTrackWithNative,shimGetSendersWithDtmf,shimGetUserMedia:shimGetUserMedia$2,shimMediaStream,shimOnTrack:shimOnTrack$1,shimPeerConnection:shimPeerConnection$1,shimSenderReceiverGetStats},Symbol.toStringTag,{value:"Module"}));function shimGetUserMedia$1(B,S){const D=B&&B.navigator,q=B&&B.MediaStreamTrack;if(D.getUserMedia=function(O,$,j){deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),D.mediaDevices.getUserMedia(O).then($,j)},!(S.version>55&&"autoGainControl"in D.mediaDevices.getSupportedConstraints())){const O=function(j,G,V){G in j&&!(V in j)&&(j[V]=j[G],delete j[G])},$=D.mediaDevices.getUserMedia.bind(D.mediaDevices);if(D.mediaDevices.getUserMedia=function(j){return typeof j=="object"&&typeof j.audio=="object"&&(j=JSON.parse(JSON.stringify(j)),O(j.audio,"autoGainControl","mozAutoGainControl"),O(j.audio,"noiseSuppression","mozNoiseSuppression")),$(j)},q&&q.prototype.getSettings){const j=q.prototype.getSettings;q.prototype.getSettings=function(){const G=j.apply(this,arguments);return O(G,"mozAutoGainControl","autoGainControl"),O(G,"mozNoiseSuppression","noiseSuppression"),G}}if(q&&q.prototype.applyConstraints){const j=q.prototype.applyConstraints;q.prototype.applyConstraints=function(G){return this.kind==="audio"&&typeof G=="object"&&(G=JSON.parse(JSON.stringify(G)),O(G,"autoGainControl","mozAutoGainControl"),O(G,"noiseSuppression","mozNoiseSuppression")),j.apply(this,[G])}}}}function shimGetDisplayMedia(B,S){B.navigator.mediaDevices&&"getDisplayMedia"in B.navigator.mediaDevices||B.navigator.mediaDevices&&(B.navigator.mediaDevices.getDisplayMedia=function(q){if(!(q&&q.video)){const O=new DOMException("getDisplayMedia without video constraints is undefined");return O.name="NotFoundError",O.code=8,Promise.reject(O)}return q.video===!0?q.video={mediaSource:S}:q.video.mediaSource=S,B.navigator.mediaDevices.getUserMedia(q)})}function shimOnTrack(B){typeof B=="object"&&B.RTCTrackEvent&&"receiver"in B.RTCTrackEvent.prototype&&!("transceiver"in B.RTCTrackEvent.prototype)&&Object.defineProperty(B.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function shimPeerConnection(B,S){if(typeof B!="object"||!(B.RTCPeerConnection||B.mozRTCPeerConnection))return;!B.RTCPeerConnection&&B.mozRTCPeerConnection&&(B.RTCPeerConnection=B.mozRTCPeerConnection),S.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(O){const $=B.RTCPeerConnection.prototype[O],j={[O](){return arguments[0]=new(O==="addIceCandidate"?B.RTCIceCandidate:B.RTCSessionDescription)(arguments[0]),$.apply(this,arguments)}};B.RTCPeerConnection.prototype[O]=j[O]});const D={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},q=B.RTCPeerConnection.prototype.getStats;B.RTCPeerConnection.prototype.getStats=function(){const[$,j,G]=arguments;return q.apply(this,[$||null]).then(V=>{if(S.version<53&&!j)try{V.forEach(K=>{K.type=D[K.type]||K.type})}catch(K){if(K.name!=="TypeError")throw K;V.forEach((H,Y)=>{V.set(Y,Object.assign({},H,{type:D[H.type]||H.type}))})}return V}).then(j,G)}}function shimSenderGetStats(B){if(!(typeof B=="object"&&B.RTCPeerConnection&&B.RTCRtpSender)||B.RTCRtpSender&&"getStats"in B.RTCRtpSender.prototype)return;const S=B.RTCPeerConnection.prototype.getSenders;S&&(B.RTCPeerConnection.prototype.getSenders=function(){const O=S.apply(this,[]);return O.forEach($=>$._pc=this),O});const D=B.RTCPeerConnection.prototype.addTrack;D&&(B.RTCPeerConnection.prototype.addTrack=function(){const O=D.apply(this,arguments);return O._pc=this,O}),B.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function shimReceiverGetStats(B){if(!(typeof B=="object"&&B.RTCPeerConnection&&B.RTCRtpSender)||B.RTCRtpSender&&"getStats"in B.RTCRtpReceiver.prototype)return;const S=B.RTCPeerConnection.prototype.getReceivers;S&&(B.RTCPeerConnection.prototype.getReceivers=function(){const q=S.apply(this,[]);return q.forEach(O=>O._pc=this),q}),wrapPeerConnectionEvent(B,"track",D=>(D.receiver._pc=D.srcElement,D)),B.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function shimRemoveStream(B){!B.RTCPeerConnection||"removeStream"in B.RTCPeerConnection.prototype||(B.RTCPeerConnection.prototype.removeStream=function(D){deprecated("removeStream","removeTrack"),this.getSenders().forEach(q=>{q.track&&D.getTracks().includes(q.track)&&this.removeTrack(q)})})}function shimRTCDataChannel(B){B.DataChannel&&!B.RTCDataChannel&&(B.RTCDataChannel=B.DataChannel)}function shimAddTransceiver(B){if(!(typeof B=="object"&&B.RTCPeerConnection))return;const S=B.RTCPeerConnection.prototype.addTransceiver;S&&(B.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let q=arguments[1]&&arguments[1].sendEncodings;q===void 0&&(q=[]),q=[...q];const O=q.length>0;O&&q.forEach(j=>{if("rid"in j&&!/^[a-z0-9]{0,16}$/i.test(j.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in j&&!(parseFloat(j.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in j&&!(parseFloat(j.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const $=S.apply(this,arguments);if(O){const{sender:j}=$,G=j.getParameters();(!("encodings"in G)||G.encodings.length===1&&Object.keys(G.encodings[0]).length===0)&&(G.encodings=q,j.sendEncodings=q,this.setParametersPromises.push(j.setParameters(G).then(()=>{delete j.sendEncodings}).catch(()=>{delete j.sendEncodings})))}return $})}function shimGetParameters(B){if(!(typeof B=="object"&&B.RTCRtpSender))return;const S=B.RTCRtpSender.prototype.getParameters;S&&(B.RTCRtpSender.prototype.getParameters=function(){const q=S.apply(this,arguments);return"encodings"in q||(q.encodings=[].concat(this.sendEncodings||[{}])),q})}function shimCreateOffer(B){if(!(typeof B=="object"&&B.RTCPeerConnection))return;const S=B.RTCPeerConnection.prototype.createOffer;B.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>S.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):S.apply(this,arguments)}}function shimCreateAnswer(B){if(!(typeof B=="object"&&B.RTCPeerConnection))return;const S=B.RTCPeerConnection.prototype.createAnswer;B.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>S.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):S.apply(this,arguments)}}const firefoxShim=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver,shimCreateAnswer,shimCreateOffer,shimGetDisplayMedia,shimGetParameters,shimGetUserMedia:shimGetUserMedia$1,shimOnTrack,shimPeerConnection,shimRTCDataChannel,shimReceiverGetStats,shimRemoveStream,shimSenderGetStats},Symbol.toStringTag,{value:"Module"}));function shimLocalStreamsAPI(B){if(!(typeof B!="object"||!B.RTCPeerConnection)){if("getLocalStreams"in B.RTCPeerConnection.prototype||(B.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in B.RTCPeerConnection.prototype)){const S=B.RTCPeerConnection.prototype.addTrack;B.RTCPeerConnection.prototype.addStream=function(q){this._localStreams||(this._localStreams=[]),this._localStreams.includes(q)||this._localStreams.push(q),q.getAudioTracks().forEach(O=>S.call(this,O,q)),q.getVideoTracks().forEach(O=>S.call(this,O,q))},B.RTCPeerConnection.prototype.addTrack=function(q,...O){return O&&O.forEach($=>{this._localStreams?this._localStreams.includes($)||this._localStreams.push($):this._localStreams=[$]}),S.apply(this,arguments)}}"removeStream"in B.RTCPeerConnection.prototype||(B.RTCPeerConnection.prototype.removeStream=function(D){this._localStreams||(this._localStreams=[]);const q=this._localStreams.indexOf(D);if(q===-1)return;this._localStreams.splice(q,1);const O=D.getTracks();this.getSenders().forEach($=>{O.includes($.track)&&this.removeTrack($)})})}}function shimRemoteStreamsAPI(B){if(!(typeof B!="object"||!B.RTCPeerConnection)&&("getRemoteStreams"in B.RTCPeerConnection.prototype||(B.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in B.RTCPeerConnection.prototype))){Object.defineProperty(B.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(D){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=D),this.addEventListener("track",this._onaddstreampoly=q=>{q.streams.forEach(O=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(O))return;this._remoteStreams.push(O);const $=new Event("addstream");$.stream=O,this.dispatchEvent($)})})}});const S=B.RTCPeerConnection.prototype.setRemoteDescription;B.RTCPeerConnection.prototype.setRemoteDescription=function(){const q=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(O){O.streams.forEach($=>{if(q._remoteStreams||(q._remoteStreams=[]),q._remoteStreams.indexOf($)>=0)return;q._remoteStreams.push($);const j=new Event("addstream");j.stream=$,q.dispatchEvent(j)})}),S.apply(q,arguments)}}}function shimCallbacksAPI(B){if(typeof B!="object"||!B.RTCPeerConnection)return;const S=B.RTCPeerConnection.prototype,D=S.createOffer,q=S.createAnswer,O=S.setLocalDescription,$=S.setRemoteDescription,j=S.addIceCandidate;S.createOffer=function(K,H){const Y=arguments.length>=2?arguments[2]:arguments[0],X=D.apply(this,[Y]);return H?(X.then(K,H),Promise.resolve()):X},S.createAnswer=function(K,H){const Y=arguments.length>=2?arguments[2]:arguments[0],X=q.apply(this,[Y]);return H?(X.then(K,H),Promise.resolve()):X};let G=function(V,K,H){const Y=O.apply(this,[V]);return H?(Y.then(K,H),Promise.resolve()):Y};S.setLocalDescription=G,G=function(V,K,H){const Y=$.apply(this,[V]);return H?(Y.then(K,H),Promise.resolve()):Y},S.setRemoteDescription=G,G=function(V,K,H){const Y=j.apply(this,[V]);return H?(Y.then(K,H),Promise.resolve()):Y},S.addIceCandidate=G}function shimGetUserMedia(B){const S=B&&B.navigator;if(S.mediaDevices&&S.mediaDevices.getUserMedia){const D=S.mediaDevices,q=D.getUserMedia.bind(D);S.mediaDevices.getUserMedia=O=>q(shimConstraints(O))}!S.getUserMedia&&S.mediaDevices&&S.mediaDevices.getUserMedia&&(S.getUserMedia=(function(q,O,$){S.mediaDevices.getUserMedia(q).then(O,$)}).bind(S))}function shimConstraints(B){return B&&B.video!==void 0?Object.assign({},B,{video:compactObject(B.video)}):B}function shimRTCIceServerUrls(B){if(!B.RTCPeerConnection)return;const S=B.RTCPeerConnection;B.RTCPeerConnection=function(q,O){if(q&&q.iceServers){const $=[];for(let j=0;j<q.iceServers.length;j++){let G=q.iceServers[j];G.urls===void 0&&G.url?(deprecated("RTCIceServer.url","RTCIceServer.urls"),G=JSON.parse(JSON.stringify(G)),G.urls=G.url,delete G.url,$.push(G)):$.push(q.iceServers[j])}q.iceServers=$}return new S(q,O)},B.RTCPeerConnection.prototype=S.prototype,"generateCertificate"in S&&Object.defineProperty(B.RTCPeerConnection,"generateCertificate",{get(){return S.generateCertificate}})}function shimTrackEventTransceiver(B){typeof B=="object"&&B.RTCTrackEvent&&"receiver"in B.RTCTrackEvent.prototype&&!("transceiver"in B.RTCTrackEvent.prototype)&&Object.defineProperty(B.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function shimCreateOfferLegacy(B){const S=B.RTCPeerConnection.prototype.createOffer;B.RTCPeerConnection.prototype.createOffer=function(q){if(q){typeof q.offerToReceiveAudio<"u"&&(q.offerToReceiveAudio=!!q.offerToReceiveAudio);const O=this.getTransceivers().find(j=>j.receiver.track.kind==="audio");q.offerToReceiveAudio===!1&&O?O.direction==="sendrecv"?O.setDirection?O.setDirection("sendonly"):O.direction="sendonly":O.direction==="recvonly"&&(O.setDirection?O.setDirection("inactive"):O.direction="inactive"):q.offerToReceiveAudio===!0&&!O&&this.addTransceiver("audio",{direction:"recvonly"}),typeof q.offerToReceiveVideo<"u"&&(q.offerToReceiveVideo=!!q.offerToReceiveVideo);const $=this.getTransceivers().find(j=>j.receiver.track.kind==="video");q.offerToReceiveVideo===!1&&$?$.direction==="sendrecv"?$.setDirection?$.setDirection("sendonly"):$.direction="sendonly":$.direction==="recvonly"&&($.setDirection?$.setDirection("inactive"):$.direction="inactive"):q.offerToReceiveVideo===!0&&!$&&this.addTransceiver("video",{direction:"recvonly"})}return S.apply(this,arguments)}}function shimAudioContext(B){typeof B!="object"||B.AudioContext||(B.AudioContext=B.webkitAudioContext)}const safariShim=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext,shimCallbacksAPI,shimConstraints,shimCreateOfferLegacy,shimGetUserMedia,shimLocalStreamsAPI,shimRTCIceServerUrls,shimRemoteStreamsAPI,shimTrackEventTransceiver},Symbol.toStringTag,{value:"Module"}));var sdp$1={exports:{}};(function(B){const S={};S.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},S.localCName=S.generateIdentifier(),S.splitLines=function(D){return D.trim().split(`
`).map(q=>q.trim())},S.splitSections=function(D){return D.split(`
m=`).map((O,$)=>($>0?"m="+O:O).trim()+`\r
`)},S.getDescription=function(D){const q=S.splitSections(D);return q&&q[0]},S.getMediaSections=function(D){const q=S.splitSections(D);return q.shift(),q},S.matchPrefix=function(D,q){return S.splitLines(D).filter(O=>O.indexOf(q)===0)},S.parseCandidate=function(D){let q;D.indexOf("a=candidate:")===0?q=D.substring(12).split(" "):q=D.substring(10).split(" ");const O={foundation:q[0],component:{1:"rtp",2:"rtcp"}[q[1]]||q[1],protocol:q[2].toLowerCase(),priority:parseInt(q[3],10),ip:q[4],address:q[4],port:parseInt(q[5],10),type:q[7]};for(let $=8;$<q.length;$+=2)switch(q[$]){case"raddr":O.relatedAddress=q[$+1];break;case"rport":O.relatedPort=parseInt(q[$+1],10);break;case"tcptype":O.tcpType=q[$+1];break;case"ufrag":O.ufrag=q[$+1],O.usernameFragment=q[$+1];break;default:O[q[$]]===void 0&&(O[q[$]]=q[$+1]);break}return O},S.writeCandidate=function(D){const q=[];q.push(D.foundation);const O=D.component;O==="rtp"?q.push(1):O==="rtcp"?q.push(2):q.push(O),q.push(D.protocol.toUpperCase()),q.push(D.priority),q.push(D.address||D.ip),q.push(D.port);const $=D.type;return q.push("typ"),q.push($),$!=="host"&&D.relatedAddress&&D.relatedPort&&(q.push("raddr"),q.push(D.relatedAddress),q.push("rport"),q.push(D.relatedPort)),D.tcpType&&D.protocol.toLowerCase()==="tcp"&&(q.push("tcptype"),q.push(D.tcpType)),(D.usernameFragment||D.ufrag)&&(q.push("ufrag"),q.push(D.usernameFragment||D.ufrag)),"candidate:"+q.join(" ")},S.parseIceOptions=function(D){return D.substring(14).split(" ")},S.parseRtpMap=function(D){let q=D.substring(9).split(" ");const O={payloadType:parseInt(q.shift(),10)};return q=q[0].split("/"),O.name=q[0],O.clockRate=parseInt(q[1],10),O.channels=q.length===3?parseInt(q[2],10):1,O.numChannels=O.channels,O},S.writeRtpMap=function(D){let q=D.payloadType;D.preferredPayloadType!==void 0&&(q=D.preferredPayloadType);const O=D.channels||D.numChannels||1;return"a=rtpmap:"+q+" "+D.name+"/"+D.clockRate+(O!==1?"/"+O:"")+`\r
`},S.parseExtmap=function(D){const q=D.substring(9).split(" ");return{id:parseInt(q[0],10),direction:q[0].indexOf("/")>0?q[0].split("/")[1]:"sendrecv",uri:q[1],attributes:q.slice(2).join(" ")}},S.writeExtmap=function(D){return"a=extmap:"+(D.id||D.preferredId)+(D.direction&&D.direction!=="sendrecv"?"/"+D.direction:"")+" "+D.uri+(D.attributes?" "+D.attributes:"")+`\r
`},S.parseFmtp=function(D){const q={};let O;const $=D.substring(D.indexOf(" ")+1).split(";");for(let j=0;j<$.length;j++)O=$[j].trim().split("="),q[O[0].trim()]=O[1];return q},S.writeFmtp=function(D){let q="",O=D.payloadType;if(D.preferredPayloadType!==void 0&&(O=D.preferredPayloadType),D.parameters&&Object.keys(D.parameters).length){const $=[];Object.keys(D.parameters).forEach(j=>{D.parameters[j]!==void 0?$.push(j+"="+D.parameters[j]):$.push(j)}),q+="a=fmtp:"+O+" "+$.join(";")+`\r
`}return q},S.parseRtcpFb=function(D){const q=D.substring(D.indexOf(" ")+1).split(" ");return{type:q.shift(),parameter:q.join(" ")}},S.writeRtcpFb=function(D){let q="",O=D.payloadType;return D.preferredPayloadType!==void 0&&(O=D.preferredPayloadType),D.rtcpFeedback&&D.rtcpFeedback.length&&D.rtcpFeedback.forEach($=>{q+="a=rtcp-fb:"+O+" "+$.type+($.parameter&&$.parameter.length?" "+$.parameter:"")+`\r
`}),q},S.parseSsrcMedia=function(D){const q=D.indexOf(" "),O={ssrc:parseInt(D.substring(7,q),10)},$=D.indexOf(":",q);return $>-1?(O.attribute=D.substring(q+1,$),O.value=D.substring($+1)):O.attribute=D.substring(q+1),O},S.parseSsrcGroup=function(D){const q=D.substring(13).split(" ");return{semantics:q.shift(),ssrcs:q.map(O=>parseInt(O,10))}},S.getMid=function(D){const q=S.matchPrefix(D,"a=mid:")[0];if(q)return q.substring(6)},S.parseFingerprint=function(D){const q=D.substring(14).split(" ");return{algorithm:q[0].toLowerCase(),value:q[1].toUpperCase()}},S.getDtlsParameters=function(D,q){return{role:"auto",fingerprints:S.matchPrefix(D+q,"a=fingerprint:").map(S.parseFingerprint)}},S.writeDtlsParameters=function(D,q){let O="a=setup:"+q+`\r
`;return D.fingerprints.forEach($=>{O+="a=fingerprint:"+$.algorithm+" "+$.value+`\r
`}),O},S.parseCryptoLine=function(D){const q=D.substring(9).split(" ");return{tag:parseInt(q[0],10),cryptoSuite:q[1],keyParams:q[2],sessionParams:q.slice(3)}},S.writeCryptoLine=function(D){return"a=crypto:"+D.tag+" "+D.cryptoSuite+" "+(typeof D.keyParams=="object"?S.writeCryptoKeyParams(D.keyParams):D.keyParams)+(D.sessionParams?" "+D.sessionParams.join(" "):"")+`\r
`},S.parseCryptoKeyParams=function(D){if(D.indexOf("inline:")!==0)return null;const q=D.substring(7).split("|");return{keyMethod:"inline",keySalt:q[0],lifeTime:q[1],mkiValue:q[2]?q[2].split(":")[0]:void 0,mkiLength:q[2]?q[2].split(":")[1]:void 0}},S.writeCryptoKeyParams=function(D){return D.keyMethod+":"+D.keySalt+(D.lifeTime?"|"+D.lifeTime:"")+(D.mkiValue&&D.mkiLength?"|"+D.mkiValue+":"+D.mkiLength:"")},S.getCryptoParameters=function(D,q){return S.matchPrefix(D+q,"a=crypto:").map(S.parseCryptoLine)},S.getIceParameters=function(D,q){const O=S.matchPrefix(D+q,"a=ice-ufrag:")[0],$=S.matchPrefix(D+q,"a=ice-pwd:")[0];return O&&$?{usernameFragment:O.substring(12),password:$.substring(10)}:null},S.writeIceParameters=function(D){let q="a=ice-ufrag:"+D.usernameFragment+`\r
a=ice-pwd:`+D.password+`\r
`;return D.iceLite&&(q+=`a=ice-lite\r
`),q},S.parseRtpParameters=function(D){const q={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},$=S.splitLines(D)[0].split(" ");q.profile=$[2];for(let G=3;G<$.length;G++){const V=$[G],K=S.matchPrefix(D,"a=rtpmap:"+V+" ")[0];if(K){const H=S.parseRtpMap(K),Y=S.matchPrefix(D,"a=fmtp:"+V+" ");switch(H.parameters=Y.length?S.parseFmtp(Y[0]):{},H.rtcpFeedback=S.matchPrefix(D,"a=rtcp-fb:"+V+" ").map(S.parseRtcpFb),q.codecs.push(H),H.name.toUpperCase()){case"RED":case"ULPFEC":q.fecMechanisms.push(H.name.toUpperCase());break}}}S.matchPrefix(D,"a=extmap:").forEach(G=>{q.headerExtensions.push(S.parseExtmap(G))});const j=S.matchPrefix(D,"a=rtcp-fb:* ").map(S.parseRtcpFb);return q.codecs.forEach(G=>{j.forEach(V=>{G.rtcpFeedback.find(H=>H.type===V.type&&H.parameter===V.parameter)||G.rtcpFeedback.push(V)})}),q},S.writeRtpDescription=function(D,q){let O="";O+="m="+D+" ",O+=q.codecs.length>0?"9":"0",O+=" "+(q.profile||"UDP/TLS/RTP/SAVPF")+" ",O+=q.codecs.map(j=>j.preferredPayloadType!==void 0?j.preferredPayloadType:j.payloadType).join(" ")+`\r
`,O+=`c=IN IP4 0.0.0.0\r
`,O+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,q.codecs.forEach(j=>{O+=S.writeRtpMap(j),O+=S.writeFmtp(j),O+=S.writeRtcpFb(j)});let $=0;return q.codecs.forEach(j=>{j.maxptime>$&&($=j.maxptime)}),$>0&&(O+="a=maxptime:"+$+`\r
`),q.headerExtensions&&q.headerExtensions.forEach(j=>{O+=S.writeExtmap(j)}),O},S.parseRtpEncodingParameters=function(D){const q=[],O=S.parseRtpParameters(D),$=O.fecMechanisms.indexOf("RED")!==-1,j=O.fecMechanisms.indexOf("ULPFEC")!==-1,G=S.matchPrefix(D,"a=ssrc:").map(X=>S.parseSsrcMedia(X)).filter(X=>X.attribute==="cname"),V=G.length>0&&G[0].ssrc;let K;const H=S.matchPrefix(D,"a=ssrc-group:FID").map(X=>X.substring(17).split(" ").map(ee=>parseInt(ee,10)));H.length>0&&H[0].length>1&&H[0][0]===V&&(K=H[0][1]),O.codecs.forEach(X=>{if(X.name.toUpperCase()==="RTX"&&X.parameters.apt){let Q={ssrc:V,codecPayloadType:parseInt(X.parameters.apt,10)};V&&K&&(Q.rtx={ssrc:K}),q.push(Q),$&&(Q=JSON.parse(JSON.stringify(Q)),Q.fec={ssrc:V,mechanism:j?"red+ulpfec":"red"},q.push(Q))}}),q.length===0&&V&&q.push({ssrc:V});let Y=S.matchPrefix(D,"b=");return Y.length&&(Y[0].indexOf("b=TIAS:")===0?Y=parseInt(Y[0].substring(7),10):Y[0].indexOf("b=AS:")===0?Y=parseInt(Y[0].substring(5),10)*1e3*.95-50*40*8:Y=void 0,q.forEach(X=>{X.maxBitrate=Y})),q},S.parseRtcpParameters=function(D){const q={},O=S.matchPrefix(D,"a=ssrc:").map(G=>S.parseSsrcMedia(G)).filter(G=>G.attribute==="cname")[0];O&&(q.cname=O.value,q.ssrc=O.ssrc);const $=S.matchPrefix(D,"a=rtcp-rsize");q.reducedSize=$.length>0,q.compound=$.length===0;const j=S.matchPrefix(D,"a=rtcp-mux");return q.mux=j.length>0,q},S.writeRtcpParameters=function(D){let q="";return D.reducedSize&&(q+=`a=rtcp-rsize\r
`),D.mux&&(q+=`a=rtcp-mux\r
`),D.ssrc!==void 0&&D.cname&&(q+="a=ssrc:"+D.ssrc+" cname:"+D.cname+`\r
`),q},S.parseMsid=function(D){let q;const O=S.matchPrefix(D,"a=msid:");if(O.length===1)return q=O[0].substring(7).split(" "),{stream:q[0],track:q[1]};const $=S.matchPrefix(D,"a=ssrc:").map(j=>S.parseSsrcMedia(j)).filter(j=>j.attribute==="msid");if($.length>0)return q=$[0].value.split(" "),{stream:q[0],track:q[1]}},S.parseSctpDescription=function(D){const q=S.parseMLine(D),O=S.matchPrefix(D,"a=max-message-size:");let $;O.length>0&&($=parseInt(O[0].substring(19),10)),isNaN($)&&($=65536);const j=S.matchPrefix(D,"a=sctp-port:");if(j.length>0)return{port:parseInt(j[0].substring(12),10),protocol:q.fmt,maxMessageSize:$};const G=S.matchPrefix(D,"a=sctpmap:");if(G.length>0){const V=G[0].substring(10).split(" ");return{port:parseInt(V[0],10),protocol:V[1],maxMessageSize:$}}},S.writeSctpDescription=function(D,q){let O=[];return D.protocol!=="DTLS/SCTP"?O=["m="+D.kind+" 9 "+D.protocol+" "+q.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+q.port+`\r
`]:O=["m="+D.kind+" 9 "+D.protocol+" "+q.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+q.port+" "+q.protocol+` 65535\r
`],q.maxMessageSize!==void 0&&O.push("a=max-message-size:"+q.maxMessageSize+`\r
`),O.join("")},S.generateSessionId=function(){return Math.random().toString().substr(2,22)},S.writeSessionBoilerplate=function(D,q,O){let $;const j=q!==void 0?q:2;return D?$=D:$=S.generateSessionId(),`v=0\r
o=`+(O||"thisisadapterortc")+" "+$+" "+j+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},S.getDirection=function(D,q){const O=S.splitLines(D);for(let $=0;$<O.length;$++)switch(O[$]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return O[$].substring(2)}return q?S.getDirection(q):"sendrecv"},S.getKind=function(D){return S.splitLines(D)[0].split(" ")[0].substring(2)},S.isRejected=function(D){return D.split(" ",2)[1]==="0"},S.parseMLine=function(D){const O=S.splitLines(D)[0].substring(2).split(" ");return{kind:O[0],port:parseInt(O[1],10),protocol:O[2],fmt:O.slice(3).join(" ")}},S.parseOLine=function(D){const O=S.matchPrefix(D,"o=")[0].substring(2).split(" ");return{username:O[0],sessionId:O[1],sessionVersion:parseInt(O[2],10),netType:O[3],addressType:O[4],address:O[5]}},S.isValidSDP=function(D){if(typeof D!="string"||D.length===0)return!1;const q=S.splitLines(D);for(let O=0;O<q.length;O++)if(q[O].length<2||q[O].charAt(1)!=="=")return!1;return!0},B.exports=S})(sdp$1);var sdpExports=sdp$1.exports;const SDPUtils=getDefaultExportFromCjs(sdpExports),sdp=_mergeNamespaces({__proto__:null,default:SDPUtils},[sdpExports]);function shimRTCIceCandidate(B){if(!B.RTCIceCandidate||B.RTCIceCandidate&&"foundation"in B.RTCIceCandidate.prototype)return;const S=B.RTCIceCandidate;B.RTCIceCandidate=function(q){if(typeof q=="object"&&q.candidate&&q.candidate.indexOf("a=")===0&&(q=JSON.parse(JSON.stringify(q)),q.candidate=q.candidate.substring(2)),q.candidate&&q.candidate.length){const O=new S(q),$=SDPUtils.parseCandidate(q.candidate);for(const j in $)j in O||Object.defineProperty(O,j,{value:$[j]});return O.toJSON=function(){return{candidate:O.candidate,sdpMid:O.sdpMid,sdpMLineIndex:O.sdpMLineIndex,usernameFragment:O.usernameFragment}},O}return new S(q)},B.RTCIceCandidate.prototype=S.prototype,wrapPeerConnectionEvent(B,"icecandidate",D=>(D.candidate&&Object.defineProperty(D,"candidate",{value:new B.RTCIceCandidate(D.candidate),writable:"false"}),D))}function shimRTCIceCandidateRelayProtocol(B){!B.RTCIceCandidate||B.RTCIceCandidate&&"relayProtocol"in B.RTCIceCandidate.prototype||wrapPeerConnectionEvent(B,"icecandidate",S=>{if(S.candidate){const D=SDPUtils.parseCandidate(S.candidate.candidate);D.type==="relay"&&(S.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[D.priority>>24])}return S})}function shimMaxMessageSize(B,S){if(!B.RTCPeerConnection)return;"sctp"in B.RTCPeerConnection.prototype||Object.defineProperty(B.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const D=function(G){if(!G||!G.sdp)return!1;const V=SDPUtils.splitSections(G.sdp);return V.shift(),V.some(K=>{const H=SDPUtils.parseMLine(K);return H&&H.kind==="application"&&H.protocol.indexOf("SCTP")!==-1})},q=function(G){const V=G.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(V===null||V.length<2)return-1;const K=parseInt(V[1],10);return K!==K?-1:K},O=function(G){let V=65536;return S.browser==="firefox"&&(S.version<57?G===-1?V=16384:V=2147483637:S.version<60?V=S.version===57?65535:65536:V=2147483637),V},$=function(G,V){let K=65536;S.browser==="firefox"&&S.version===57&&(K=65535);const H=SDPUtils.matchPrefix(G.sdp,"a=max-message-size:");return H.length>0?K=parseInt(H[0].substring(19),10):S.browser==="firefox"&&V!==-1&&(K=2147483637),K},j=B.RTCPeerConnection.prototype.setRemoteDescription;B.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,S.browser==="chrome"&&S.version>=76){const{sdpSemantics:V}=this.getConfiguration();V==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(D(arguments[0])){const V=q(arguments[0]),K=O(V),H=$(arguments[0],V);let Y;K===0&&H===0?Y=Number.POSITIVE_INFINITY:K===0||H===0?Y=Math.max(K,H):Y=Math.min(K,H);const X={};Object.defineProperty(X,"maxMessageSize",{get(){return Y}}),this._sctp=X}return j.apply(this,arguments)}}function shimSendThrowTypeError(B){if(!(B.RTCPeerConnection&&"createDataChannel"in B.RTCPeerConnection.prototype))return;function S(q,O){const $=q.send;q.send=function(){const G=arguments[0],V=G.length||G.size||G.byteLength;if(q.readyState==="open"&&O.sctp&&V>O.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+O.sctp.maxMessageSize+" bytes)");return $.apply(q,arguments)}}const D=B.RTCPeerConnection.prototype.createDataChannel;B.RTCPeerConnection.prototype.createDataChannel=function(){const O=D.apply(this,arguments);return S(O,this),O},wrapPeerConnectionEvent(B,"datachannel",q=>(S(q.channel,q.target),q))}function shimConnectionState(B){if(!B.RTCPeerConnection||"connectionState"in B.RTCPeerConnection.prototype)return;const S=B.RTCPeerConnection.prototype;Object.defineProperty(S,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(S,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(D){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),D&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=D)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(D=>{const q=S[D];S[D]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=O=>{const $=O.target;if($._lastConnectionState!==$.connectionState){$._lastConnectionState=$.connectionState;const j=new Event("connectionstatechange",O);$.dispatchEvent(j)}return O},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),q.apply(this,arguments)}})}function removeExtmapAllowMixed(B,S){if(!B.RTCPeerConnection||S.browser==="chrome"&&S.version>=71||S.browser==="safari"&&S.version>=605)return;const D=B.RTCPeerConnection.prototype.setRemoteDescription;B.RTCPeerConnection.prototype.setRemoteDescription=function(O){if(O&&O.sdp&&O.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const $=O.sdp.split(`
`).filter(j=>j.trim()!=="a=extmap-allow-mixed").join(`
`);B.RTCSessionDescription&&O instanceof B.RTCSessionDescription?arguments[0]=new B.RTCSessionDescription({type:O.type,sdp:$}):O.sdp=$}return D.apply(this,arguments)}}function shimAddIceCandidateNullOrEmpty(B,S){if(!(B.RTCPeerConnection&&B.RTCPeerConnection.prototype))return;const D=B.RTCPeerConnection.prototype.addIceCandidate;!D||D.length===0||(B.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(S.browser==="chrome"&&S.version<78||S.browser==="firefox"&&S.version<68||S.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():D.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function shimParameterlessSetLocalDescription(B,S){if(!(B.RTCPeerConnection&&B.RTCPeerConnection.prototype))return;const D=B.RTCPeerConnection.prototype.setLocalDescription;!D||D.length===0||(B.RTCPeerConnection.prototype.setLocalDescription=function(){let O=arguments[0]||{};if(typeof O!="object"||O.type&&O.sdp)return D.apply(this,arguments);if(O={type:O.type,sdp:O.sdp},!O.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":O.type="offer";break;default:O.type="answer";break}return O.sdp||O.type!=="offer"&&O.type!=="answer"?D.apply(this,[O]):(O.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(j=>D.apply(this,[j]))})}const commonShim=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed,shimAddIceCandidateNullOrEmpty,shimConnectionState,shimMaxMessageSize,shimParameterlessSetLocalDescription,shimRTCIceCandidate,shimRTCIceCandidateRelayProtocol,shimSendThrowTypeError},Symbol.toStringTag,{value:"Module"}));function adapterFactory({window:B}={},S={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const D=log,q=detectBrowser(B),O={browserDetails:q,commonShim,extractVersion,disableLog,disableWarnings,sdp};switch(q.browser){case"chrome":if(!chromeShim||!shimPeerConnection$1||!S.shimChrome)return D("Chrome shim is not included in this adapter release."),O;if(q.version===null)return D("Chrome shim can not determine version, not shimming."),O;D("adapter.js shimming chrome."),O.browserShim=chromeShim,shimAddIceCandidateNullOrEmpty(B,q),shimParameterlessSetLocalDescription(B),shimGetUserMedia$2(B,q),shimMediaStream(B),shimPeerConnection$1(B,q),shimOnTrack$1(B),shimAddTrackRemoveTrack(B,q),shimGetSendersWithDtmf(B),shimSenderReceiverGetStats(B),fixNegotiationNeeded(B,q),shimRTCIceCandidate(B),shimRTCIceCandidateRelayProtocol(B),shimConnectionState(B),shimMaxMessageSize(B,q),shimSendThrowTypeError(B),removeExtmapAllowMixed(B,q);break;case"firefox":if(!firefoxShim||!shimPeerConnection||!S.shimFirefox)return D("Firefox shim is not included in this adapter release."),O;D("adapter.js shimming firefox."),O.browserShim=firefoxShim,shimAddIceCandidateNullOrEmpty(B,q),shimParameterlessSetLocalDescription(B),shimGetUserMedia$1(B,q),shimPeerConnection(B,q),shimOnTrack(B),shimRemoveStream(B),shimSenderGetStats(B),shimReceiverGetStats(B),shimRTCDataChannel(B),shimAddTransceiver(B),shimGetParameters(B),shimCreateOffer(B),shimCreateAnswer(B),shimRTCIceCandidate(B),shimConnectionState(B),shimMaxMessageSize(B,q),shimSendThrowTypeError(B);break;case"safari":if(!safariShim||!S.shimSafari)return D("Safari shim is not included in this adapter release."),O;D("adapter.js shimming safari."),O.browserShim=safariShim,shimAddIceCandidateNullOrEmpty(B,q),shimParameterlessSetLocalDescription(B),shimRTCIceServerUrls(B),shimCreateOfferLegacy(B),shimCallbacksAPI(B),shimLocalStreamsAPI(B),shimRemoteStreamsAPI(B),shimTrackEventTransceiver(B),shimGetUserMedia(B),shimAudioContext(B),shimRTCIceCandidate(B),shimRTCIceCandidateRelayProtocol(B),shimMaxMessageSize(B,q),shimSendThrowTypeError(B),removeExtmapAllowMixed(B,q);break;default:D("Unsupported browser!");break}return O}const adapter=adapterFactory({window:typeof window>"u"?void 0:window});function $parcel$export(B,S,D,q){Object.defineProperty(B,S,{get:D,set:q,enumerable:!0,configurable:!0})}class $fcbcc7538a6776d5$export$f1c5f4c9cb95390b{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=S=>{const D=[],q=S.byteLength,O=Math.ceil(q/this.chunkedMTU);let $=0,j=0;for(;j<q;){const G=Math.min(q,j+this.chunkedMTU),V=S.slice(j,G),K={__peerData:this._dataCount,n:$,data:V,total:O};D.push(K),j=G,$++}return this._dataCount++,D}}}function $fcbcc7538a6776d5$export$52c89ebcdc4f53f2(B){let S=0;for(const O of B)S+=O.byteLength;const D=new Uint8Array(S);let q=0;for(const O of B)D.set(O,q),q+=O.byteLength;return D}const $fb63e766cfafaab9$var$webRTCAdapter=adapter.default||adapter,$fb63e766cfafaab9$export$25be9502477c137d=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const B=this.getBrowser(),S=this.getVersion();return this.supportedBrowsers.includes(B)?B==="chrome"?S>=this.minChromeVersion:B==="firefox"?S>=this.minFirefoxVersion:B==="safari"?!this.isIOS&&S>=this.minSafariVersion:!1:!1}getBrowser(){return $fb63e766cfafaab9$var$webRTCAdapter.browserDetails.browser}getVersion(){return $fb63e766cfafaab9$var$webRTCAdapter.browserDetails.version||0}isUnifiedPlanSupported(){const B=this.getBrowser(),S=$fb63e766cfafaab9$var$webRTCAdapter.browserDetails.version||0;if(B==="chrome"&&S<this.minChromeVersion)return!1;if(B==="firefox"&&S>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let D,q=!1;try{D=new RTCPeerConnection,D.addTransceiver("audio"),q=!0}catch{}finally{D&&D.close()}return q}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},$9a84a32bf0bf36bb$export$f35f128fd59ea256=B=>!B||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(B),$0e5fd1585784c252$export$4e61f672936bec77=()=>Math.random().toString(36).slice(2),$4f4134156c446392$var$DEFAULT_CONFIG={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class $4f4134156c446392$export$f8f26dd395d7e1bd extends $fcbcc7538a6776d5$export$f1c5f4c9cb95390b{noop(){}blobToArrayBuffer(S,D){const q=new FileReader;return q.onload=function(O){O.target&&D(O.target.result)},q.readAsArrayBuffer(S),q}binaryStringToArrayBuffer(S){const D=new Uint8Array(S.length);for(let q=0;q<S.length;q++)D[q]=S.charCodeAt(q)&255;return D.buffer}isSecure(){return location.protocol==="https:"}constructor(...S){super(...S),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=$4f4134156c446392$var$DEFAULT_CONFIG,this.browser=$fb63e766cfafaab9$export$25be9502477c137d.getBrowser(),this.browserVersion=$fb63e766cfafaab9$export$25be9502477c137d.getVersion(),this.pack=$0cfd7828ad59115f$export$2a703dbb0cb35339,this.unpack=$0cfd7828ad59115f$export$417857010dc9287f,this.supports=function(){const D={browser:$fb63e766cfafaab9$export$25be9502477c137d.isBrowserSupported(),webRTC:$fb63e766cfafaab9$export$25be9502477c137d.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!D.webRTC)return D;let q;try{q=new RTCPeerConnection($4f4134156c446392$var$DEFAULT_CONFIG),D.audioVideo=!0;let O;try{O=q.createDataChannel("_PEERJSTEST",{ordered:!0}),D.data=!0,D.reliable=!!O.ordered;try{O.binaryType="blob",D.binaryBlob=!$fb63e766cfafaab9$export$25be9502477c137d.isIOS}catch{}}catch{}finally{O&&O.close()}}catch{}finally{q&&q.close()}return D}(),this.validateId=$9a84a32bf0bf36bb$export$f35f128fd59ea256,this.randomToken=$0e5fd1585784c252$export$4e61f672936bec77}}const $4f4134156c446392$export$7debb50ef11d5e0b=new $4f4134156c446392$export$f8f26dd395d7e1bd,$257947e92926277a$var$LOG_PREFIX="PeerJS: ";var $257947e92926277a$export$243e62d78d3b544d;(function(B){B[B.Disabled=0]="Disabled",B[B.Errors=1]="Errors",B[B.Warnings=2]="Warnings",B[B.All=3]="All"})($257947e92926277a$export$243e62d78d3b544d||($257947e92926277a$export$243e62d78d3b544d={}));class $257947e92926277a$var$Logger{get logLevel(){return this._logLevel}set logLevel(S){this._logLevel=S}log(...S){this._logLevel>=3&&this._print(3,...S)}warn(...S){this._logLevel>=2&&this._print(2,...S)}error(...S){this._logLevel>=1&&this._print(1,...S)}setLogFunction(S){this._print=S}_print(S,...D){const q=[$257947e92926277a$var$LOG_PREFIX,...D];for(const O in q)q[O]instanceof Error&&(q[O]="("+q[O].name+") "+q[O].message);S>=3?console.log(...q):S>=2?console.warn("WARNING",...q):S>=1&&console.error("ERROR",...q)}constructor(){this._logLevel=0}}var $257947e92926277a$export$2e2bcd8739ae039=new $257947e92926277a$var$Logger,$c4dcfd1d1ea86647$exports={},$c4dcfd1d1ea86647$var$has=Object.prototype.hasOwnProperty,$c4dcfd1d1ea86647$var$prefix="~";function $c4dcfd1d1ea86647$var$Events(){}Object.create&&($c4dcfd1d1ea86647$var$Events.prototype=Object.create(null),new $c4dcfd1d1ea86647$var$Events().__proto__||($c4dcfd1d1ea86647$var$prefix=!1));function $c4dcfd1d1ea86647$var$EE(B,S,D){this.fn=B,this.context=S,this.once=D||!1}function $c4dcfd1d1ea86647$var$addListener(B,S,D,q,O){if(typeof D!="function")throw new TypeError("The listener must be a function");var $=new $c4dcfd1d1ea86647$var$EE(D,q||B,O),j=$c4dcfd1d1ea86647$var$prefix?$c4dcfd1d1ea86647$var$prefix+S:S;return B._events[j]?B._events[j].fn?B._events[j]=[B._events[j],$]:B._events[j].push($):(B._events[j]=$,B._eventsCount++),B}function $c4dcfd1d1ea86647$var$clearEvent(B,S){--B._eventsCount===0?B._events=new $c4dcfd1d1ea86647$var$Events:delete B._events[S]}function $c4dcfd1d1ea86647$var$EventEmitter(){this._events=new $c4dcfd1d1ea86647$var$Events,this._eventsCount=0}$c4dcfd1d1ea86647$var$EventEmitter.prototype.eventNames=function(){var S=[],D,q;if(this._eventsCount===0)return S;for(q in D=this._events)$c4dcfd1d1ea86647$var$has.call(D,q)&&S.push($c4dcfd1d1ea86647$var$prefix?q.slice(1):q);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(D)):S};$c4dcfd1d1ea86647$var$EventEmitter.prototype.listeners=function(S){var D=$c4dcfd1d1ea86647$var$prefix?$c4dcfd1d1ea86647$var$prefix+S:S,q=this._events[D];if(!q)return[];if(q.fn)return[q.fn];for(var O=0,$=q.length,j=new Array($);O<$;O++)j[O]=q[O].fn;return j};$c4dcfd1d1ea86647$var$EventEmitter.prototype.listenerCount=function(S){var D=$c4dcfd1d1ea86647$var$prefix?$c4dcfd1d1ea86647$var$prefix+S:S,q=this._events[D];return q?q.fn?1:q.length:0};$c4dcfd1d1ea86647$var$EventEmitter.prototype.emit=function(S,D,q,O,$,j){var G=$c4dcfd1d1ea86647$var$prefix?$c4dcfd1d1ea86647$var$prefix+S:S;if(!this._events[G])return!1;var V=this._events[G],K=arguments.length,H,Y;if(V.fn){switch(V.once&&this.removeListener(S,V.fn,void 0,!0),K){case 1:return V.fn.call(V.context),!0;case 2:return V.fn.call(V.context,D),!0;case 3:return V.fn.call(V.context,D,q),!0;case 4:return V.fn.call(V.context,D,q,O),!0;case 5:return V.fn.call(V.context,D,q,O,$),!0;case 6:return V.fn.call(V.context,D,q,O,$,j),!0}for(Y=1,H=new Array(K-1);Y<K;Y++)H[Y-1]=arguments[Y];V.fn.apply(V.context,H)}else{var X=V.length,Q;for(Y=0;Y<X;Y++)switch(V[Y].once&&this.removeListener(S,V[Y].fn,void 0,!0),K){case 1:V[Y].fn.call(V[Y].context);break;case 2:V[Y].fn.call(V[Y].context,D);break;case 3:V[Y].fn.call(V[Y].context,D,q);break;case 4:V[Y].fn.call(V[Y].context,D,q,O);break;default:if(!H)for(Q=1,H=new Array(K-1);Q<K;Q++)H[Q-1]=arguments[Q];V[Y].fn.apply(V[Y].context,H)}}return!0};$c4dcfd1d1ea86647$var$EventEmitter.prototype.on=function(S,D,q){return $c4dcfd1d1ea86647$var$addListener(this,S,D,q,!1)};$c4dcfd1d1ea86647$var$EventEmitter.prototype.once=function(S,D,q){return $c4dcfd1d1ea86647$var$addListener(this,S,D,q,!0)};$c4dcfd1d1ea86647$var$EventEmitter.prototype.removeListener=function(S,D,q,O){var $=$c4dcfd1d1ea86647$var$prefix?$c4dcfd1d1ea86647$var$prefix+S:S;if(!this._events[$])return this;if(!D)return $c4dcfd1d1ea86647$var$clearEvent(this,$),this;var j=this._events[$];if(j.fn)j.fn===D&&(!O||j.once)&&(!q||j.context===q)&&$c4dcfd1d1ea86647$var$clearEvent(this,$);else{for(var G=0,V=[],K=j.length;G<K;G++)(j[G].fn!==D||O&&!j[G].once||q&&j[G].context!==q)&&V.push(j[G]);V.length?this._events[$]=V.length===1?V[0]:V:$c4dcfd1d1ea86647$var$clearEvent(this,$)}return this};$c4dcfd1d1ea86647$var$EventEmitter.prototype.removeAllListeners=function(S){var D;return S?(D=$c4dcfd1d1ea86647$var$prefix?$c4dcfd1d1ea86647$var$prefix+S:S,this._events[D]&&$c4dcfd1d1ea86647$var$clearEvent(this,D)):(this._events=new $c4dcfd1d1ea86647$var$Events,this._eventsCount=0),this};$c4dcfd1d1ea86647$var$EventEmitter.prototype.off=$c4dcfd1d1ea86647$var$EventEmitter.prototype.removeListener;$c4dcfd1d1ea86647$var$EventEmitter.prototype.addListener=$c4dcfd1d1ea86647$var$EventEmitter.prototype.on;$c4dcfd1d1ea86647$var$EventEmitter.prefixed=$c4dcfd1d1ea86647$var$prefix;$c4dcfd1d1ea86647$var$EventEmitter.EventEmitter=$c4dcfd1d1ea86647$var$EventEmitter;$c4dcfd1d1ea86647$exports=$c4dcfd1d1ea86647$var$EventEmitter;var $78455e22dea96b8c$exports={};$parcel$export($78455e22dea96b8c$exports,"ConnectionType",()=>$78455e22dea96b8c$export$3157d57b4135e3bc);$parcel$export($78455e22dea96b8c$exports,"PeerErrorType",()=>$78455e22dea96b8c$export$9547aaa2e39030ff);$parcel$export($78455e22dea96b8c$exports,"BaseConnectionErrorType",()=>$78455e22dea96b8c$export$7974935686149686);$parcel$export($78455e22dea96b8c$exports,"DataConnectionErrorType",()=>$78455e22dea96b8c$export$49ae800c114df41d);$parcel$export($78455e22dea96b8c$exports,"SerializationType",()=>$78455e22dea96b8c$export$89f507cf986a947);$parcel$export($78455e22dea96b8c$exports,"SocketEventType",()=>$78455e22dea96b8c$export$3b5c4a4b6354f023);$parcel$export($78455e22dea96b8c$exports,"ServerMessageType",()=>$78455e22dea96b8c$export$adb4a1754da6f10d);var $78455e22dea96b8c$export$3157d57b4135e3bc;(function(B){B.Data="data",B.Media="media"})($78455e22dea96b8c$export$3157d57b4135e3bc||($78455e22dea96b8c$export$3157d57b4135e3bc={}));var $78455e22dea96b8c$export$9547aaa2e39030ff;(function(B){B.BrowserIncompatible="browser-incompatible",B.Disconnected="disconnected",B.InvalidID="invalid-id",B.InvalidKey="invalid-key",B.Network="network",B.PeerUnavailable="peer-unavailable",B.SslUnavailable="ssl-unavailable",B.ServerError="server-error",B.SocketError="socket-error",B.SocketClosed="socket-closed",B.UnavailableID="unavailable-id",B.WebRTC="webrtc"})($78455e22dea96b8c$export$9547aaa2e39030ff||($78455e22dea96b8c$export$9547aaa2e39030ff={}));var $78455e22dea96b8c$export$7974935686149686;(function(B){B.NegotiationFailed="negotiation-failed",B.ConnectionClosed="connection-closed"})($78455e22dea96b8c$export$7974935686149686||($78455e22dea96b8c$export$7974935686149686={}));var $78455e22dea96b8c$export$49ae800c114df41d;(function(B){B.NotOpenYet="not-open-yet",B.MessageToBig="message-too-big"})($78455e22dea96b8c$export$49ae800c114df41d||($78455e22dea96b8c$export$49ae800c114df41d={}));var $78455e22dea96b8c$export$89f507cf986a947;(function(B){B.Binary="binary",B.BinaryUTF8="binary-utf8",B.JSON="json",B.None="raw"})($78455e22dea96b8c$export$89f507cf986a947||($78455e22dea96b8c$export$89f507cf986a947={}));var $78455e22dea96b8c$export$3b5c4a4b6354f023;(function(B){B.Message="message",B.Disconnected="disconnected",B.Error="error",B.Close="close"})($78455e22dea96b8c$export$3b5c4a4b6354f023||($78455e22dea96b8c$export$3b5c4a4b6354f023={}));var $78455e22dea96b8c$export$adb4a1754da6f10d;(function(B){B.Heartbeat="HEARTBEAT",B.Candidate="CANDIDATE",B.Offer="OFFER",B.Answer="ANSWER",B.Open="OPEN",B.Error="ERROR",B.IdTaken="ID-TAKEN",B.InvalidKey="INVALID-KEY",B.Leave="LEAVE",B.Expire="EXPIRE"})($78455e22dea96b8c$export$adb4a1754da6f10d||($78455e22dea96b8c$export$adb4a1754da6f10d={}));var $f5f881ec4575f1fc$exports={};$f5f881ec4575f1fc$exports=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class $8f5bfa60836d261d$export$4798917dbf149b79 extends $c4dcfd1d1ea86647$exports.EventEmitter{constructor(S,D,q,O,$,j=5e3){super(),this.pingInterval=j,this._disconnected=!0,this._messagesQueue=[];const G=S?"wss://":"ws://";this._baseUrl=G+D+":"+q+O+"peerjs?key="+$}start(S,D){this._id=S;const q=`${this._baseUrl}&id=${S}&token=${D}`;this._socket||!this._disconnected||(this._socket=new WebSocket(q+"&version="+$f5f881ec4575f1fc$exports.version),this._disconnected=!1,this._socket.onmessage=O=>{let $;try{$=JSON.parse(O.data),$257947e92926277a$export$2e2bcd8739ae039.log("Server message received:",$)}catch{$257947e92926277a$export$2e2bcd8739ae039.log("Invalid server message",O.data);return}this.emit($78455e22dea96b8c$export$3b5c4a4b6354f023.Message,$)},this._socket.onclose=O=>{this._disconnected||($257947e92926277a$export$2e2bcd8739ae039.log("Socket closed.",O),this._cleanup(),this._disconnected=!0,this.emit($78455e22dea96b8c$export$3b5c4a4b6354f023.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),$257947e92926277a$export$2e2bcd8739ae039.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){$257947e92926277a$export$2e2bcd8739ae039.log("Cannot send heartbeat, because socket closed");return}const S=JSON.stringify({type:$78455e22dea96b8c$export$adb4a1754da6f10d.Heartbeat});this._socket.send(S),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const S=[...this._messagesQueue];this._messagesQueue=[];for(const D of S)this.send(D)}send(S){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(S);return}if(!S.type){this.emit($78455e22dea96b8c$export$3b5c4a4b6354f023.Error,"Invalid message");return}if(!this._wsOpen())return;const D=JSON.stringify(S);this._socket.send(D)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class $b82fb8fc0514bfc1$export$89e6bb5ad64bf4a{constructor(S){this.connection=S}startConnection(S){const D=this._startPeerConnection();if(this.connection.peerConnection=D,this.connection.type===$78455e22dea96b8c$export$3157d57b4135e3bc.Media&&S._stream&&this._addTracksToConnection(S._stream,D),S.originator){const q=this.connection,O={ordered:!!S.reliable},$=D.createDataChannel(q.label,O);q._initializeDataChannel($),this._makeOffer()}else this.handleSDP("OFFER",S.sdp)}_startPeerConnection(){$257947e92926277a$export$2e2bcd8739ae039.log("Creating RTCPeerConnection.");const S=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(S),S}_setupListeners(S){const D=this.connection.peer,q=this.connection.connectionId,O=this.connection.type,$=this.connection.provider;$257947e92926277a$export$2e2bcd8739ae039.log("Listening for ICE candidates."),S.onicecandidate=j=>{!j.candidate||!j.candidate.candidate||($257947e92926277a$export$2e2bcd8739ae039.log(`Received ICE candidates for ${D}:`,j.candidate),$.socket.send({type:$78455e22dea96b8c$export$adb4a1754da6f10d.Candidate,payload:{candidate:j.candidate,type:O,connectionId:q},dst:D}))},S.oniceconnectionstatechange=()=>{switch(S.iceConnectionState){case"failed":$257947e92926277a$export$2e2bcd8739ae039.log("iceConnectionState is failed, closing connections to "+D),this.connection.emitError($78455e22dea96b8c$export$7974935686149686.NegotiationFailed,"Negotiation of connection to "+D+" failed."),this.connection.close();break;case"closed":$257947e92926277a$export$2e2bcd8739ae039.log("iceConnectionState is closed, closing connections to "+D),this.connection.emitError($78455e22dea96b8c$export$7974935686149686.ConnectionClosed,"Connection to "+D+" closed."),this.connection.close();break;case"disconnected":$257947e92926277a$export$2e2bcd8739ae039.log("iceConnectionState changed to disconnected on the connection with "+D);break;case"completed":S.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",S.iceConnectionState)},$257947e92926277a$export$2e2bcd8739ae039.log("Listening for data channel"),S.ondatachannel=j=>{$257947e92926277a$export$2e2bcd8739ae039.log("Received data channel");const G=j.channel;$.getConnection(D,q)._initializeDataChannel(G)},$257947e92926277a$export$2e2bcd8739ae039.log("Listening for remote stream"),S.ontrack=j=>{$257947e92926277a$export$2e2bcd8739ae039.log("Received remote stream");const G=j.streams[0],V=$.getConnection(D,q);if(V.type===$78455e22dea96b8c$export$3157d57b4135e3bc.Media){const K=V;this._addStreamToMediaConnection(G,K)}}}cleanup(){$257947e92926277a$export$2e2bcd8739ae039.log("Cleaning up PeerConnection to "+this.connection.peer);const S=this.connection.peerConnection;if(!S)return;this.connection.peerConnection=null,S.onicecandidate=S.oniceconnectionstatechange=S.ondatachannel=S.ontrack=()=>{};const D=S.signalingState!=="closed";let q=!1;const O=this.connection.dataChannel;O&&(q=!!O.readyState&&O.readyState!=="closed"),(D||q)&&S.close()}async _makeOffer(){const S=this.connection.peerConnection,D=this.connection.provider;try{const q=await S.createOffer(this.connection.options.constraints);$257947e92926277a$export$2e2bcd8739ae039.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(q.sdp=this.connection.options.sdpTransform(q.sdp)||q.sdp);try{await S.setLocalDescription(q),$257947e92926277a$export$2e2bcd8739ae039.log("Set localDescription:",q,`for:${this.connection.peer}`);let O={sdp:q,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===$78455e22dea96b8c$export$3157d57b4135e3bc.Data){const $=this.connection;O={...O,label:$.label,reliable:$.reliable,serialization:$.serialization}}D.socket.send({type:$78455e22dea96b8c$export$adb4a1754da6f10d.Offer,payload:O,dst:this.connection.peer})}catch(O){O!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(D.emitError($78455e22dea96b8c$export$9547aaa2e39030ff.WebRTC,O),$257947e92926277a$export$2e2bcd8739ae039.log("Failed to setLocalDescription, ",O))}}catch(q){D.emitError($78455e22dea96b8c$export$9547aaa2e39030ff.WebRTC,q),$257947e92926277a$export$2e2bcd8739ae039.log("Failed to createOffer, ",q)}}async _makeAnswer(){const S=this.connection.peerConnection,D=this.connection.provider;try{const q=await S.createAnswer();$257947e92926277a$export$2e2bcd8739ae039.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(q.sdp=this.connection.options.sdpTransform(q.sdp)||q.sdp);try{await S.setLocalDescription(q),$257947e92926277a$export$2e2bcd8739ae039.log("Set localDescription:",q,`for:${this.connection.peer}`),D.socket.send({type:$78455e22dea96b8c$export$adb4a1754da6f10d.Answer,payload:{sdp:q,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(O){D.emitError($78455e22dea96b8c$export$9547aaa2e39030ff.WebRTC,O),$257947e92926277a$export$2e2bcd8739ae039.log("Failed to setLocalDescription, ",O)}}catch(q){D.emitError($78455e22dea96b8c$export$9547aaa2e39030ff.WebRTC,q),$257947e92926277a$export$2e2bcd8739ae039.log("Failed to create answer, ",q)}}async handleSDP(S,D){D=new RTCSessionDescription(D);const q=this.connection.peerConnection,O=this.connection.provider;$257947e92926277a$export$2e2bcd8739ae039.log("Setting remote description",D);const $=this;try{await q.setRemoteDescription(D),$257947e92926277a$export$2e2bcd8739ae039.log(`Set remoteDescription:${S} for:${this.connection.peer}`),S==="OFFER"&&await $._makeAnswer()}catch(j){O.emitError($78455e22dea96b8c$export$9547aaa2e39030ff.WebRTC,j),$257947e92926277a$export$2e2bcd8739ae039.log("Failed to setRemoteDescription, ",j)}}async handleCandidate(S){$257947e92926277a$export$2e2bcd8739ae039.log("handleCandidate:",S);try{await this.connection.peerConnection.addIceCandidate(S),$257947e92926277a$export$2e2bcd8739ae039.log(`Added ICE candidate for:${this.connection.peer}`)}catch(D){this.connection.provider.emitError($78455e22dea96b8c$export$9547aaa2e39030ff.WebRTC,D),$257947e92926277a$export$2e2bcd8739ae039.log("Failed to handleCandidate, ",D)}}_addTracksToConnection(S,D){if($257947e92926277a$export$2e2bcd8739ae039.log(`add tracks from stream ${S.id} to peer connection`),!D.addTrack)return $257947e92926277a$export$2e2bcd8739ae039.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");S.getTracks().forEach(q=>{D.addTrack(q,S)})}_addStreamToMediaConnection(S,D){$257947e92926277a$export$2e2bcd8739ae039.log(`add stream ${S.id} to media connection ${D.connectionId}`),D.addStream(S)}}class $23779d1881157a18$export$6a678e589c8a4542 extends $c4dcfd1d1ea86647$exports.EventEmitter{emitError(S,D){$257947e92926277a$export$2e2bcd8739ae039.error("Error:",D),this.emit("error",new $23779d1881157a18$export$98871882f492de82(`${S}`,D))}}class $23779d1881157a18$export$98871882f492de82 extends Error{constructor(S,D){typeof D=="string"?super(D):(super(),Object.assign(this,D)),this.type=S}}class $5045192fc6d387ba$export$23a2a68283c24d80 extends $23779d1881157a18$export$6a678e589c8a4542{get open(){return this._open}constructor(S,D,q){super(),this.peer=S,this.provider=D,this.options=q,this._open=!1,this.metadata=q.metadata}}var Vt;const Ft=class Ft extends $5045192fc6d387ba$export$23a2a68283c24d80{get type(){return $78455e22dea96b8c$export$3157d57b4135e3bc.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(S,D,q){super(S,D,q),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Ft.ID_PREFIX+$4f4134156c446392$export$7debb50ef11d5e0b.randomToken(),this._negotiator=new $b82fb8fc0514bfc1$export$89e6bb5ad64bf4a(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(S){this.dataChannel=S,this.dataChannel.onopen=()=>{$257947e92926277a$export$2e2bcd8739ae039.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{$257947e92926277a$export$2e2bcd8739ae039.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(S){$257947e92926277a$export$2e2bcd8739ae039.log("Receiving stream",S),this._remoteStream=S,super.emit("stream",S)}handleMessage(S){const D=S.type,q=S.payload;switch(S.type){case $78455e22dea96b8c$export$adb4a1754da6f10d.Answer:this._negotiator.handleSDP(D,q.sdp),this._open=!0;break;case $78455e22dea96b8c$export$adb4a1754da6f10d.Candidate:this._negotiator.handleCandidate(q.candidate);break;default:$257947e92926277a$export$2e2bcd8739ae039.warn(`Unrecognized message type:${D} from peer:${this.peer}`);break}}answer(S,D={}){if(this._localStream){$257947e92926277a$export$2e2bcd8739ae039.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=S,D&&D.sdpTransform&&(this.options.sdpTransform=D.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:S});const q=this.provider._getMessages(this.connectionId);for(const O of q)this.handleMessage(O);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};Vt=new WeakMap,jt(Ft,Vt,Ft.ID_PREFIX="mc_");let $5c1d08c7c57da9a3$export$4a84e95a2324ac29=Ft;class $abf266641927cd89$export$2c4e825dc9120f87{constructor(S){this._options=S}_buildRequest(S){const D=this._options.secure?"https":"http",{host:q,port:O,path:$,key:j}=this._options,G=new URL(`${D}://${q}:${O}${$}${j}/${S}`);return G.searchParams.set("ts",`${Date.now()}${Math.random()}`),G.searchParams.set("version",$f5f881ec4575f1fc$exports.version),fetch(G.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const S=await this._buildRequest("id");if(S.status!==200)throw new Error(`Error. Status:${S.status}`);return S.text()}catch(S){$257947e92926277a$export$2e2bcd8739ae039.error("Error retrieving ID",S);let D="";throw this._options.path==="/"&&this._options.host!==$4f4134156c446392$export$7debb50ef11d5e0b.CLOUD_HOST&&(D=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+D)}}async listAllPeers(){try{const S=await this._buildRequest("peers");if(S.status!==200){if(S.status===401){let D="";throw this._options.host===$4f4134156c446392$export$7debb50ef11d5e0b.CLOUD_HOST?D="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":D="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+D)}throw new Error(`Error. Status:${S.status}`)}return S.json()}catch(S){throw $257947e92926277a$export$2e2bcd8739ae039.error("Error retrieving list peers",S),new Error("Could not get list peers from the server."+S)}}}var Kt,Zt;const Ut=class Ut extends $5045192fc6d387ba$export$23a2a68283c24d80{get type(){return $78455e22dea96b8c$export$3157d57b4135e3bc.Data}constructor(S,D,q){super(S,D,q),this.connectionId=this.options.connectionId||Ut.ID_PREFIX+$0e5fd1585784c252$export$4e61f672936bec77(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new $b82fb8fc0514bfc1$export$89e6bb5ad64bf4a(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(S){this.dataChannel=S,this.dataChannel.onopen=()=>{$257947e92926277a$export$2e2bcd8739ae039.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=D=>{$257947e92926277a$export$2e2bcd8739ae039.log(`DC#${this.connectionId} dc onmessage:`,D.data)},this.dataChannel.onclose=()=>{$257947e92926277a$export$2e2bcd8739ae039.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(S){if(S!=null&&S.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(S,D=!1){if(!this.open){this.emitError($78455e22dea96b8c$export$49ae800c114df41d.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(S,D)}async handleMessage(S){const D=S.payload;switch(S.type){case $78455e22dea96b8c$export$adb4a1754da6f10d.Answer:await this._negotiator.handleSDP(S.type,D.sdp);break;case $78455e22dea96b8c$export$adb4a1754da6f10d.Candidate:await this._negotiator.handleCandidate(D.candidate);break;default:$257947e92926277a$export$2e2bcd8739ae039.warn("Unrecognized message type:",S.type,"from peer:",this.peer);break}}};Kt=new WeakMap,Zt=new WeakMap,jt(Ut,Kt,Ut.ID_PREFIX="dc_"),jt(Ut,Zt,Ut.MAX_BUFFERED_AMOUNT=8388608);let $6366c4ca161bc297$export$d365f7ad9d7df9c9=Ut;class $a229bedbcaa6ca23$export$ff7c9d4c11d94e8b extends $6366c4ca161bc297$export$d365f7ad9d7df9c9{get bufferSize(){return this._bufferSize}_initializeDataChannel(S){super._initializeDataChannel(S),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",D=>this._handleDataMessage(D))}_bufferedSend(S){(this._buffering||!this._trySend(S))&&(this._buffer.push(S),this._bufferSize=this._buffer.length)}_trySend(S){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>$6366c4ca161bc297$export$d365f7ad9d7df9c9.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(S)}catch(D){return $257947e92926277a$export$2e2bcd8739ae039.error(`DC#:${this.connectionId} Error when sending:`,D),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const S=this._buffer[0];this._trySend(S)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(S){if(S!=null&&S.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...S){super(...S),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class $9fcfddb3ae148f88$export$f0a5a64d5bb37108 extends $a229bedbcaa6ca23$export$ff7c9d4c11d94e8b{close(S){super.close(S),this._chunkedData={}}constructor(S,D,q){super(S,D,q),this.chunker=new $fcbcc7538a6776d5$export$f1c5f4c9cb95390b,this.serialization=$78455e22dea96b8c$export$89f507cf986a947.Binary,this._chunkedData={}}_handleDataMessage({data:S}){const D=$0cfd7828ad59115f$export$417857010dc9287f(S),q=D.__peerData;if(q){if(q.type==="close"){this.close();return}this._handleChunk(D);return}this.emit("data",D)}_handleChunk(S){const D=S.__peerData,q=this._chunkedData[D]||{data:[],count:0,total:S.total};if(q.data[S.n]=new Uint8Array(S.data),q.count++,this._chunkedData[D]=q,q.total===q.count){delete this._chunkedData[D];const O=$fcbcc7538a6776d5$export$52c89ebcdc4f53f2(q.data);this._handleDataMessage({data:O})}}_send(S,D){const q=$0cfd7828ad59115f$export$2a703dbb0cb35339(S);if(q instanceof Promise)return this._send_blob(q);if(!D&&q.byteLength>this.chunker.chunkedMTU){this._sendChunks(q);return}this._bufferedSend(q)}async _send_blob(S){const D=await S;if(D.byteLength>this.chunker.chunkedMTU){this._sendChunks(D);return}this._bufferedSend(D)}_sendChunks(S){const D=this.chunker.chunk(S);$257947e92926277a$export$2e2bcd8739ae039.log(`DC#${this.connectionId} Try to send ${D.length} chunks...`);for(const q of D)this.send(q,!0)}}class $bbaee3f15f714663$export$6f88fe47d32c9c94 extends $a229bedbcaa6ca23$export$ff7c9d4c11d94e8b{_handleDataMessage({data:S}){super.emit("data",S)}_send(S,D){this._bufferedSend(S)}constructor(...S){super(...S),this.serialization=$78455e22dea96b8c$export$89f507cf986a947.None}}class $817f931e3f9096cf$export$48880ac635f47186 extends $a229bedbcaa6ca23$export$ff7c9d4c11d94e8b{_handleDataMessage({data:S}){const D=this.parse(this.decoder.decode(S)),q=D.__peerData;if(q&&q.type==="close"){this.close();return}this.emit("data",D)}_send(S,D){const q=this.encoder.encode(this.stringify(S));if(q.byteLength>=$4f4134156c446392$export$7debb50ef11d5e0b.chunkedMTU){this.emitError($78455e22dea96b8c$export$49ae800c114df41d.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(q)}constructor(...S){super(...S),this.serialization=$78455e22dea96b8c$export$89f507cf986a947.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var Yt;const zt=class zt extends $23779d1881157a18$export$6a678e589c8a4542{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const S=Object.create(null);for(const[D,q]of this._connections)S[D]=q;return S}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(S,D){super(),this._serializers={raw:$bbaee3f15f714663$export$6f88fe47d32c9c94,json:$817f931e3f9096cf$export$48880ac635f47186,binary:$9fcfddb3ae148f88$export$f0a5a64d5bb37108,"binary-utf8":$9fcfddb3ae148f88$export$f0a5a64d5bb37108,default:$9fcfddb3ae148f88$export$f0a5a64d5bb37108},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let q;if(S&&S.constructor==Object?D=S:S&&(q=S.toString()),D={debug:0,host:$4f4134156c446392$export$7debb50ef11d5e0b.CLOUD_HOST,port:$4f4134156c446392$export$7debb50ef11d5e0b.CLOUD_PORT,path:"/",key:zt.DEFAULT_KEY,token:$4f4134156c446392$export$7debb50ef11d5e0b.randomToken(),config:$4f4134156c446392$export$7debb50ef11d5e0b.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...D},this._options=D,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==$4f4134156c446392$export$7debb50ef11d5e0b.CLOUD_HOST?this._options.secure=$4f4134156c446392$export$7debb50ef11d5e0b.isSecure():this._options.host==$4f4134156c446392$export$7debb50ef11d5e0b.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&$257947e92926277a$export$2e2bcd8739ae039.setLogFunction(this._options.logFunction),$257947e92926277a$export$2e2bcd8739ae039.logLevel=this._options.debug||0,this._api=new $abf266641927cd89$export$2c4e825dc9120f87(D),this._socket=this._createServerConnection(),!$4f4134156c446392$export$7debb50ef11d5e0b.supports.audioVideo&&!$4f4134156c446392$export$7debb50ef11d5e0b.supports.data){this._delayedAbort($78455e22dea96b8c$export$9547aaa2e39030ff.BrowserIncompatible,"The current browser does not support WebRTC");return}if(q&&!$4f4134156c446392$export$7debb50ef11d5e0b.validateId(q)){this._delayedAbort($78455e22dea96b8c$export$9547aaa2e39030ff.InvalidID,`ID "${q}" is invalid`);return}q?this._initialize(q):this._api.retrieveId().then(O=>this._initialize(O)).catch(O=>this._abort($78455e22dea96b8c$export$9547aaa2e39030ff.ServerError,O))}_createServerConnection(){const S=new $8f5bfa60836d261d$export$4798917dbf149b79(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return S.on($78455e22dea96b8c$export$3b5c4a4b6354f023.Message,D=>{this._handleMessage(D)}),S.on($78455e22dea96b8c$export$3b5c4a4b6354f023.Error,D=>{this._abort($78455e22dea96b8c$export$9547aaa2e39030ff.SocketError,D)}),S.on($78455e22dea96b8c$export$3b5c4a4b6354f023.Disconnected,()=>{this.disconnected||(this.emitError($78455e22dea96b8c$export$9547aaa2e39030ff.Network,"Lost connection to server."),this.disconnect())}),S.on($78455e22dea96b8c$export$3b5c4a4b6354f023.Close,()=>{this.disconnected||this._abort($78455e22dea96b8c$export$9547aaa2e39030ff.SocketClosed,"Underlying socket is already closed.")}),S}_initialize(S){this._id=S,this.socket.start(S,this._options.token)}_handleMessage(S){const D=S.type,q=S.payload,O=S.src;switch(D){case $78455e22dea96b8c$export$adb4a1754da6f10d.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case $78455e22dea96b8c$export$adb4a1754da6f10d.Error:this._abort($78455e22dea96b8c$export$9547aaa2e39030ff.ServerError,q.msg);break;case $78455e22dea96b8c$export$adb4a1754da6f10d.IdTaken:this._abort($78455e22dea96b8c$export$9547aaa2e39030ff.UnavailableID,`ID "${this.id}" is taken`);break;case $78455e22dea96b8c$export$adb4a1754da6f10d.InvalidKey:this._abort($78455e22dea96b8c$export$9547aaa2e39030ff.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case $78455e22dea96b8c$export$adb4a1754da6f10d.Leave:$257947e92926277a$export$2e2bcd8739ae039.log(`Received leave message from ${O}`),this._cleanupPeer(O),this._connections.delete(O);break;case $78455e22dea96b8c$export$adb4a1754da6f10d.Expire:this.emitError($78455e22dea96b8c$export$9547aaa2e39030ff.PeerUnavailable,`Could not connect to peer ${O}`);break;case $78455e22dea96b8c$export$adb4a1754da6f10d.Offer:{const $=q.connectionId;let j=this.getConnection(O,$);if(j&&(j.close(),$257947e92926277a$export$2e2bcd8739ae039.warn(`Offer received for existing Connection ID:${$}`)),q.type===$78455e22dea96b8c$export$3157d57b4135e3bc.Media){const V=new $5c1d08c7c57da9a3$export$4a84e95a2324ac29(O,this,{connectionId:$,_payload:q,metadata:q.metadata});j=V,this._addConnection(O,j),this.emit("call",V)}else if(q.type===$78455e22dea96b8c$export$3157d57b4135e3bc.Data){const V=new this._serializers[q.serialization](O,this,{connectionId:$,_payload:q,metadata:q.metadata,label:q.label,serialization:q.serialization,reliable:q.reliable});j=V,this._addConnection(O,j),this.emit("connection",V)}else{$257947e92926277a$export$2e2bcd8739ae039.warn(`Received malformed connection type:${q.type}`);return}const G=this._getMessages($);for(const V of G)j.handleMessage(V);break}default:{if(!q){$257947e92926277a$export$2e2bcd8739ae039.warn(`You received a malformed message from ${O} of type ${D}`);return}const $=q.connectionId,j=this.getConnection(O,$);j&&j.peerConnection?j.handleMessage(S):$?this._storeMessage($,S):$257947e92926277a$export$2e2bcd8739ae039.warn("You received an unrecognized message:",S);break}}}_storeMessage(S,D){this._lostMessages.has(S)||this._lostMessages.set(S,[]),this._lostMessages.get(S).push(D)}_getMessages(S){const D=this._lostMessages.get(S);return D?(this._lostMessages.delete(S),D):[]}connect(S,D={}){if(D={serialization:"default",...D},this.disconnected){$257947e92926277a$export$2e2bcd8739ae039.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError($78455e22dea96b8c$export$9547aaa2e39030ff.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const q=new this._serializers[D.serialization](S,this,D);return this._addConnection(S,q),q}call(S,D,q={}){if(this.disconnected){$257947e92926277a$export$2e2bcd8739ae039.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError($78455e22dea96b8c$export$9547aaa2e39030ff.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!D){$257947e92926277a$export$2e2bcd8739ae039.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const O=new $5c1d08c7c57da9a3$export$4a84e95a2324ac29(S,this,{...q,_stream:D});return this._addConnection(S,O),O}_addConnection(S,D){$257947e92926277a$export$2e2bcd8739ae039.log(`add connection ${D.type}:${D.connectionId} to peerId:${S}`),this._connections.has(S)||this._connections.set(S,[]),this._connections.get(S).push(D)}_removeConnection(S){const D=this._connections.get(S.peer);if(D){const q=D.indexOf(S);q!==-1&&D.splice(q,1)}this._lostMessages.delete(S.connectionId)}getConnection(S,D){const q=this._connections.get(S);if(!q)return null;for(const O of q)if(O.connectionId===D)return O;return null}_delayedAbort(S,D){setTimeout(()=>{this._abort(S,D)},0)}_abort(S,D){$257947e92926277a$export$2e2bcd8739ae039.error("Aborting!"),this.emitError(S,D),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||($257947e92926277a$export$2e2bcd8739ae039.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const S of this._connections.keys())this._cleanupPeer(S),this._connections.delete(S);this.socket.removeAllListeners()}_cleanupPeer(S){const D=this._connections.get(S);if(D)for(const q of D)q.close()}disconnect(){if(this.disconnected)return;const S=this.id;$257947e92926277a$export$2e2bcd8739ae039.log(`Disconnect peer with ID:${S}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=S,this._id=null,this.emit("disconnected",S)}reconnect(){if(this.disconnected&&!this.destroyed)$257947e92926277a$export$2e2bcd8739ae039.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)$257947e92926277a$export$2e2bcd8739ae039.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(S=D=>{}){this._api.listAllPeers().then(D=>S(D)).catch(D=>this._abort($78455e22dea96b8c$export$9547aaa2e39030ff.ServerError,D))}};Yt=new WeakMap,jt(zt,Yt,zt.DEFAULT_KEY="peerjs");let $416260bce337df90$export$ecd1fc136c422448=zt;var $dd0187d7f28e386f$export$2e2bcd8739ae039=$416260bce337df90$export$ecd1fc136c422448;function number$2(B){if(!Number.isSafeInteger(B)||B<0)throw new Error(`positive integer expected, not ${B}`)}function isBytes$1(B){return B instanceof Uint8Array||B!=null&&typeof B=="object"&&B.constructor.name==="Uint8Array"}function bytes$1(B,...S){if(!isBytes$1(B))throw new Error("Uint8Array expected");if(S.length>0&&!S.includes(B.length))throw new Error(`Uint8Array expected of length ${S}, not of length=${B.length}`)}function hash$3(B){if(typeof B!="function"||typeof B.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$2(B.outputLen),number$2(B.blockLen)}function exists$1(B,S=!0){if(B.destroyed)throw new Error("Hash instance has been destroyed");if(S&&B.finished)throw new Error("Hash#digest() has already been called")}function output$1(B,S){bytes$1(B);const D=S.outputLen;if(B.length<D)throw new Error(`digestInto() expects output buffer of length at least ${D}`)}const crypto$3=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const createView=B=>new DataView(B.buffer,B.byteOffset,B.byteLength),rotr=(B,S)=>B<<32-S|B>>>S;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function utf8ToBytes$1(B){if(typeof B!="string")throw new Error(`utf8ToBytes expected string, got ${typeof B}`);return new Uint8Array(new TextEncoder().encode(B))}function toBytes(B){return typeof B=="string"&&(B=utf8ToBytes$1(B)),bytes$1(B),B}function concatBytes$1(...B){let S=0;for(let q=0;q<B.length;q++){const O=B[q];bytes$1(O),S+=O.length}const D=new Uint8Array(S);for(let q=0,O=0;q<B.length;q++){const $=B[q];D.set($,O),O+=$.length}return D}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(B){const S=q=>B().update(toBytes(q)).digest(),D=B();return S.outputLen=D.outputLen,S.blockLen=D.blockLen,S.create=()=>B(),S}function randomBytes$1(B=32){if(crypto$3&&typeof crypto$3.getRandomValues=="function")return crypto$3.getRandomValues(new Uint8Array(B));if(crypto$3&&typeof crypto$3.randomBytes=="function")return crypto$3.randomBytes(B);throw new Error("crypto.getRandomValues must be defined")}function setBigUint64$1(B,S,D,q){if(typeof B.setBigUint64=="function")return B.setBigUint64(S,D,q);const O=BigInt(32),$=BigInt(4294967295),j=Number(D>>O&$),G=Number(D&$),V=q?4:0,K=q?0:4;B.setUint32(S+V,j,q),B.setUint32(S+K,G,q)}const Chi$1=(B,S,D)=>B&S^~B&D,Maj$1=(B,S,D)=>B&S^B&D^S&D;class HashMD extends Hash{constructor(S,D,q,O){super(),this.blockLen=S,this.outputLen=D,this.padOffset=q,this.isLE=O,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(S),this.view=createView(this.buffer)}update(S){exists$1(this);const{view:D,buffer:q,blockLen:O}=this;S=toBytes(S);const $=S.length;for(let j=0;j<$;){const G=Math.min(O-this.pos,$-j);if(G===O){const V=createView(S);for(;O<=$-j;j+=O)this.process(V,j);continue}q.set(S.subarray(j,j+G),this.pos),this.pos+=G,j+=G,this.pos===O&&(this.process(D,0),this.pos=0)}return this.length+=S.length,this.roundClean(),this}digestInto(S){exists$1(this),output$1(S,this),this.finished=!0;const{buffer:D,view:q,blockLen:O,isLE:$}=this;let{pos:j}=this;D[j++]=128,this.buffer.subarray(j).fill(0),this.padOffset>O-j&&(this.process(q,0),j=0);for(let Y=j;Y<O;Y++)D[Y]=0;setBigUint64$1(q,O-8,BigInt(this.length*8),$),this.process(q,0);const G=createView(S),V=this.outputLen;if(V%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const K=V/4,H=this.get();if(K>H.length)throw new Error("_sha2: outputLen bigger than state");for(let Y=0;Y<K;Y++)G.setUint32(4*Y,H[Y],$)}digest(){const{buffer:S,outputLen:D}=this;this.digestInto(S);const q=S.slice(0,D);return this.destroy(),q}_cloneInto(S){S||(S=new this.constructor),S.set(...this.get());const{blockLen:D,buffer:q,length:O,finished:$,destroyed:j,pos:G}=this;return S.length=O,S.pos=G,S.finished=$,S.destroyed=j,O%D&&S.buffer.set(q),S}}const SHA256_K$1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$1=new Uint32Array(64);let SHA256$1=class extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:S,B:D,C:q,D:O,E:$,F:j,G,H:V}=this;return[S,D,q,O,$,j,G,V]}set(S,D,q,O,$,j,G,V){this.A=S|0,this.B=D|0,this.C=q|0,this.D=O|0,this.E=$|0,this.F=j|0,this.G=G|0,this.H=V|0}process(S,D){for(let Y=0;Y<16;Y++,D+=4)SHA256_W$1[Y]=S.getUint32(D,!1);for(let Y=16;Y<64;Y++){const X=SHA256_W$1[Y-15],Q=SHA256_W$1[Y-2],ee=rotr(X,7)^rotr(X,18)^X>>>3,re=rotr(Q,17)^rotr(Q,19)^Q>>>10;SHA256_W$1[Y]=re+SHA256_W$1[Y-7]+ee+SHA256_W$1[Y-16]|0}let{A:q,B:O,C:$,D:j,E:G,F:V,G:K,H}=this;for(let Y=0;Y<64;Y++){const X=rotr(G,6)^rotr(G,11)^rotr(G,25),Q=H+X+Chi$1(G,V,K)+SHA256_K$1[Y]+SHA256_W$1[Y]|0,re=(rotr(q,2)^rotr(q,13)^rotr(q,22))+Maj$1(q,O,$)|0;H=K,K=V,V=G,G=j+Q|0,j=$,$=O,O=q,q=Q+re|0}q=q+this.A|0,O=O+this.B|0,$=$+this.C|0,j=j+this.D|0,G=G+this.E|0,V=V+this.F|0,K=K+this.G|0,H=H+this.H|0,this.set(q,O,$,j,G,V,K,H)}roundClean(){SHA256_W$1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$4=wrapConstructor(()=>new SHA256$1);class HMAC extends Hash{constructor(S,D){super(),this.finished=!1,this.destroyed=!1,hash$3(S);const q=toBytes(D);if(this.iHash=S.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const O=this.blockLen,$=new Uint8Array(O);$.set(q.length>O?S.create().update(q).digest():q);for(let j=0;j<$.length;j++)$[j]^=54;this.iHash.update($),this.oHash=S.create();for(let j=0;j<$.length;j++)$[j]^=106;this.oHash.update($),$.fill(0)}update(S){return exists$1(this),this.iHash.update(S),this}digestInto(S){exists$1(this),bytes$1(S,this.outputLen),this.finished=!0,this.iHash.digestInto(S),this.oHash.update(S),this.oHash.digestInto(S),this.destroy()}digest(){const S=new Uint8Array(this.oHash.outputLen);return this.digestInto(S),S}_cloneInto(S){S||(S=Object.create(Object.getPrototypeOf(this),{}));const{oHash:D,iHash:q,finished:O,destroyed:$,blockLen:j,outputLen:G}=this;return S=S,S.finished=O,S.destroyed=$,S.blockLen=j,S.outputLen=G,S.oHash=D._cloneInto(S.oHash),S.iHash=q._cloneInto(S.iHash),S}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$2=(B,S,D)=>new HMAC(B,S).update(D).digest();hmac$2.create=(B,S)=>new HMAC(B,S);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2);function isBytes(B){return B instanceof Uint8Array||B!=null&&typeof B=="object"&&B.constructor.name==="Uint8Array"}function abytes(B){if(!isBytes(B))throw new Error("Uint8Array expected")}function abool(B,S){if(typeof S!="boolean")throw new Error(`${B} must be valid boolean, got "${S}".`)}const hexes=Array.from({length:256},(B,S)=>S.toString(16).padStart(2,"0"));function bytesToHex(B){abytes(B);let S="";for(let D=0;D<B.length;D++)S+=hexes[B[D]];return S}function numberToHexUnpadded(B){const S=B.toString(16);return S.length&1?`0${S}`:S}function hexToNumber(B){if(typeof B!="string")throw new Error("hex string expected, got "+typeof B);return BigInt(B===""?"0":`0x${B}`)}const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(B){if(B>=asciis._0&&B<=asciis._9)return B-asciis._0;if(B>=asciis._A&&B<=asciis._F)return B-(asciis._A-10);if(B>=asciis._a&&B<=asciis._f)return B-(asciis._a-10)}function hexToBytes(B){if(typeof B!="string")throw new Error("hex string expected, got "+typeof B);const S=B.length,D=S/2;if(S%2)throw new Error("padded hex string expected, got unpadded hex of length "+S);const q=new Uint8Array(D);for(let O=0,$=0;O<D;O++,$+=2){const j=asciiToBase16(B.charCodeAt($)),G=asciiToBase16(B.charCodeAt($+1));if(j===void 0||G===void 0){const V=B[$]+B[$+1];throw new Error('hex string expected, got non-hex character "'+V+'" at index '+$)}q[O]=j*16+G}return q}function bytesToNumberBE(B){return hexToNumber(bytesToHex(B))}function bytesToNumberLE(B){return abytes(B),hexToNumber(bytesToHex(Uint8Array.from(B).reverse()))}function numberToBytesBE(B,S){return hexToBytes(B.toString(16).padStart(S*2,"0"))}function numberToBytesLE(B,S){return numberToBytesBE(B,S).reverse()}function numberToVarBytesBE(B){return hexToBytes(numberToHexUnpadded(B))}function ensureBytes(B,S,D){let q;if(typeof S=="string")try{q=hexToBytes(S)}catch($){throw new Error(`${B} must be valid hex string, got "${S}". Cause: ${$}`)}else if(isBytes(S))q=Uint8Array.from(S);else throw new Error(`${B} must be hex string or Uint8Array`);const O=q.length;if(typeof D=="number"&&O!==D)throw new Error(`${B} expected ${D} bytes, got ${O}`);return q}function concatBytes(...B){let S=0;for(let q=0;q<B.length;q++){const O=B[q];abytes(O),S+=O.length}const D=new Uint8Array(S);for(let q=0,O=0;q<B.length;q++){const $=B[q];D.set($,O),O+=$.length}return D}function equalBytes(B,S){if(B.length!==S.length)return!1;let D=0;for(let q=0;q<B.length;q++)D|=B[q]^S[q];return D===0}function utf8ToBytes(B){if(typeof B!="string")throw new Error(`utf8ToBytes expected string, got ${typeof B}`);return new Uint8Array(new TextEncoder().encode(B))}const isPosBig=B=>typeof B=="bigint"&&_0n$4<=B;function inRange(B,S,D){return isPosBig(B)&&isPosBig(S)&&isPosBig(D)&&S<=B&&B<D}function aInRange(B,S,D,q){if(!inRange(S,D,q))throw new Error(`expected valid ${B}: ${D} <= n < ${q}, got ${typeof S} ${S}`)}function bitLen(B){let S;for(S=0;B>_0n$4;B>>=_1n$4,S+=1);return S}function bitGet(B,S){return B>>BigInt(S)&_1n$4}function bitSet(B,S,D){return B|(D?_1n$4:_0n$4)<<BigInt(S)}const bitMask=B=>(_2n$2<<BigInt(B-1))-_1n$4,u8n=B=>new Uint8Array(B),u8fr=B=>Uint8Array.from(B);function createHmacDrbg(B,S,D){if(typeof B!="number"||B<2)throw new Error("hashLen must be a number");if(typeof S!="number"||S<2)throw new Error("qByteLen must be a number");if(typeof D!="function")throw new Error("hmacFn must be a function");let q=u8n(B),O=u8n(B),$=0;const j=()=>{q.fill(1),O.fill(0),$=0},G=(...Y)=>D(O,q,...Y),V=(Y=u8n())=>{O=G(u8fr([0]),Y),q=G(),Y.length!==0&&(O=G(u8fr([1]),Y),q=G())},K=()=>{if($++>=1e3)throw new Error("drbg: tried 1000 values");let Y=0;const X=[];for(;Y<S;){q=G();const Q=q.slice();X.push(Q),Y+=q.length}return concatBytes(...X)};return(Y,X)=>{j(),V(Y);let Q;for(;!(Q=X(K()));)V();return j(),Q}}const validatorFns={bigint:B=>typeof B=="bigint",function:B=>typeof B=="function",boolean:B=>typeof B=="boolean",string:B=>typeof B=="string",stringOrUint8Array:B=>typeof B=="string"||isBytes(B),isSafeInteger:B=>Number.isSafeInteger(B),array:B=>Array.isArray(B),field:(B,S)=>S.Fp.isValid(B),hash:B=>typeof B=="function"&&Number.isSafeInteger(B.outputLen)};function validateObject(B,S,D={}){const q=(O,$,j)=>{const G=validatorFns[$];if(typeof G!="function")throw new Error(`Invalid validator "${$}", expected function`);const V=B[O];if(!(j&&V===void 0)&&!G(V,B))throw new Error(`Invalid param ${String(O)}=${V} (${typeof V}), expected ${$}`)};for(const[O,$]of Object.entries(S))q(O,$,!1);for(const[O,$]of Object.entries(D))q(O,$,!0);return B}const notImplemented=()=>{throw new Error("not implemented")};function memoized(B){const S=new WeakMap;return(D,...q)=>{const O=S.get(D);if(O!==void 0)return O;const $=B(D,...q);return S.set(D,$),$}}const ut=Object.freeze(Object.defineProperty({__proto__:null,aInRange,abool,abytes,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes,createHmacDrbg,ensureBytes,equalBytes,hexToBytes,hexToNumber,inRange,isBytes,memoized,notImplemented,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes,validateObject},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(B,S){const D=B%S;return D>=_0n$3?D:S+D}function pow(B,S,D){if(D<=_0n$3||S<_0n$3)throw new Error("Expected power/modulo > 0");if(D===_1n$3)return _0n$3;let q=_1n$3;for(;S>_0n$3;)S&_1n$3&&(q=q*B%D),B=B*B%D,S>>=_1n$3;return q}function pow2(B,S,D){let q=B;for(;S-- >_0n$3;)q*=q,q%=D;return q}function invert(B,S){if(B===_0n$3||S<=_0n$3)throw new Error(`invert: expected positive integers, got n=${B} mod=${S}`);let D=mod(B,S),q=S,O=_0n$3,$=_1n$3;for(;D!==_0n$3;){const G=q/D,V=q%D,K=O-$*G;q=D,D=V,O=$,$=K}if(q!==_1n$3)throw new Error("invert: does not exist");return mod(O,S)}function tonelliShanks(B){const S=(B-_1n$3)/_2n$1;let D,q,O;for(D=B-_1n$3,q=0;D%_2n$1===_0n$3;D/=_2n$1,q++);for(O=_2n$1;O<B&&pow(O,S,B)!==B-_1n$3;O++);if(q===1){const j=(B+_1n$3)/_4n;return function(V,K){const H=V.pow(K,j);if(!V.eql(V.sqr(H),K))throw new Error("Cannot find square root");return H}}const $=(D+_1n$3)/_2n$1;return function(G,V){if(G.pow(V,S)===G.neg(G.ONE))throw new Error("Cannot find square root");let K=q,H=G.pow(G.mul(G.ONE,O),D),Y=G.pow(V,$),X=G.pow(V,D);for(;!G.eql(X,G.ONE);){if(G.eql(X,G.ZERO))return G.ZERO;let Q=1;for(let re=G.sqr(X);Q<K&&!G.eql(re,G.ONE);Q++)re=G.sqr(re);const ee=G.pow(H,_1n$3<<BigInt(K-Q-1));H=G.sqr(ee),Y=G.mul(Y,ee),X=G.mul(X,H),K=Q}return Y}}function FpSqrt(B){if(B%_4n===_3n$1){const S=(B+_1n$3)/_4n;return function(q,O){const $=q.pow(O,S);if(!q.eql(q.sqr($),O))throw new Error("Cannot find square root");return $}}if(B%_8n===_5n){const S=(B-_5n)/_8n;return function(q,O){const $=q.mul(O,_2n$1),j=q.pow($,S),G=q.mul(O,j),V=q.mul(q.mul(G,_2n$1),j),K=q.mul(G,q.sub(V,q.ONE));if(!q.eql(q.sqr(K),O))throw new Error("Cannot find square root");return K}}return tonelliShanks(B)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(B){const S={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},D=FIELD_FIELDS.reduce((q,O)=>(q[O]="function",q),S);return validateObject(B,D)}function FpPow(B,S,D){if(D<_0n$3)throw new Error("Expected power > 0");if(D===_0n$3)return B.ONE;if(D===_1n$3)return S;let q=B.ONE,O=S;for(;D>_0n$3;)D&_1n$3&&(q=B.mul(q,O)),O=B.sqr(O),D>>=_1n$3;return q}function FpInvertBatch(B,S){const D=new Array(S.length),q=S.reduce(($,j,G)=>B.is0(j)?$:(D[G]=$,B.mul($,j)),B.ONE),O=B.inv(q);return S.reduceRight(($,j,G)=>B.is0(j)?$:(D[G]=B.mul($,D[G]),B.mul($,j)),O),D}function nLength(B,S){const D=S!==void 0?S:B.toString(2).length,q=Math.ceil(D/8);return{nBitLength:D,nByteLength:q}}function Field(B,S,D=!1,q={}){if(B<=_0n$3)throw new Error(`Expected Field ORDER > 0, got ${B}`);const{nBitLength:O,nByteLength:$}=nLength(B,S);if($>2048)throw new Error("Field lengths over 2048 bytes are not supported");const j=FpSqrt(B),G=Object.freeze({ORDER:B,BITS:O,BYTES:$,MASK:bitMask(O),ZERO:_0n$3,ONE:_1n$3,create:V=>mod(V,B),isValid:V=>{if(typeof V!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof V}`);return _0n$3<=V&&V<B},is0:V=>V===_0n$3,isOdd:V=>(V&_1n$3)===_1n$3,neg:V=>mod(-V,B),eql:(V,K)=>V===K,sqr:V=>mod(V*V,B),add:(V,K)=>mod(V+K,B),sub:(V,K)=>mod(V-K,B),mul:(V,K)=>mod(V*K,B),pow:(V,K)=>FpPow(G,V,K),div:(V,K)=>mod(V*invert(K,B),B),sqrN:V=>V*V,addN:(V,K)=>V+K,subN:(V,K)=>V-K,mulN:(V,K)=>V*K,inv:V=>invert(V,B),sqrt:q.sqrt||(V=>j(G,V)),invertBatch:V=>FpInvertBatch(G,V),cmov:(V,K,H)=>H?K:V,toBytes:V=>D?numberToBytesLE(V,$):numberToBytesBE(V,$),fromBytes:V=>{if(V.length!==$)throw new Error(`Fp.fromBytes: expected ${$}, got ${V.length}`);return D?bytesToNumberLE(V):bytesToNumberBE(V)}});return Object.freeze(G)}function getFieldBytesLength(B){if(typeof B!="bigint")throw new Error("field order must be bigint");const S=B.toString(2).length;return Math.ceil(S/8)}function getMinHashLength(B){const S=getFieldBytesLength(B);return S+Math.ceil(S/2)}function mapHashToField(B,S,D=!1){const q=B.length,O=getFieldBytesLength(S),$=getMinHashLength(S);if(q<16||q<$||q>1024)throw new Error(`expected ${$}-1024 bytes of input, got ${q}`);const j=D?bytesToNumberBE(B):bytesToNumberLE(B),G=mod(j,S-_1n$3)+_1n$3;return D?numberToBytesLE(G,O):numberToBytesBE(G,O)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$2=BigInt(1),pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function wNAF(B,S){const D=($,j)=>{const G=j.negate();return $?G:j},q=$=>{if(!Number.isSafeInteger($)||$<=0||$>S)throw new Error(`Wrong window size=${$}, should be [1..${S}]`)},O=$=>{q($);const j=Math.ceil(S/$)+1,G=2**($-1);return{windows:j,windowSize:G}};return{constTimeNegate:D,unsafeLadder($,j){let G=B.ZERO,V=$;for(;j>_0n$2;)j&_1n$2&&(G=G.add(V)),V=V.double(),j>>=_1n$2;return G},precomputeWindow($,j){const{windows:G,windowSize:V}=O(j),K=[];let H=$,Y=H;for(let X=0;X<G;X++){Y=H,K.push(Y);for(let Q=1;Q<V;Q++)Y=Y.add(H),K.push(Y);H=Y.double()}return K},wNAF($,j,G){const{windows:V,windowSize:K}=O($);let H=B.ZERO,Y=B.BASE;const X=BigInt(2**$-1),Q=2**$,ee=BigInt($);for(let re=0;re<V;re++){const ne=re*K;let se=Number(G&X);G>>=ee,se>K&&(se-=Q,G+=_1n$2);const ae=ne,fe=ne+Math.abs(se)-1,ue=re%2!==0,_e=se<0;se===0?Y=Y.add(D(ue,j[ae])):H=H.add(D(_e,j[fe]))}return{p:H,f:Y}},wNAFCached($,j,G){const V=pointWindowSizes.get($)||1;let K=pointPrecomputes.get($);return K||(K=this.precomputeWindow($,V),V!==1&&pointPrecomputes.set($,G(K))),this.wNAF(V,K,j)},setWindowSize($,j){q(j),pointWindowSizes.set($,j),pointPrecomputes.delete($)}}}function pippenger(B,S,D,q){if(!Array.isArray(D)||!Array.isArray(q)||q.length!==D.length)throw new Error("arrays of points and scalars must have equal length");q.forEach((H,Y)=>{if(!S.isValid(H))throw new Error(`wrong scalar at index ${Y}`)}),D.forEach((H,Y)=>{if(!(H instanceof B))throw new Error(`wrong point at index ${Y}`)});const O=bitLen(BigInt(D.length)),$=O>12?O-3:O>4?O-2:O?2:1,j=(1<<$)-1,G=new Array(j+1).fill(B.ZERO),V=Math.floor((S.BITS-1)/$)*$;let K=B.ZERO;for(let H=V;H>=0;H-=$){G.fill(B.ZERO);for(let X=0;X<q.length;X++){const Q=q[X],ee=Number(Q>>BigInt(H)&BigInt(j));G[ee]=G[ee].add(D[X])}let Y=B.ZERO;for(let X=G.length-1,Q=B.ZERO;X>0;X--)Q=Q.add(G[X]),Y=Y.add(Q);if(K=K.add(Y),H!==0)for(let X=0;X<$;X++)K=K.double()}return K}function validateBasic(B){return validateField(B.Fp),validateObject(B,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(B.n,B.nBitLength),...B,p:B.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts(B){B.lowS!==void 0&&abool("lowS",B.lowS),B.prehash!==void 0&&abool("prehash",B.prehash)}function validatePointOpts(B){const S=validateBasic(B);validateObject(S,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:D,Fp:q,a:O}=S;if(D){if(!q.eql(O,q.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof D!="object"||typeof D.beta!="bigint"||typeof D.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...S})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(S=""){super(S)}},_tlv:{encode:(B,S)=>{const{Err:D}=DER;if(B<0||B>256)throw new D("tlv.encode: wrong tag");if(S.length&1)throw new D("tlv.encode: unpadded data");const q=S.length/2,O=numberToHexUnpadded(q);if(O.length/2&128)throw new D("tlv.encode: long form length too big");const $=q>127?numberToHexUnpadded(O.length/2|128):"";return`${numberToHexUnpadded(B)}${$}${O}${S}`},decode(B,S){const{Err:D}=DER;let q=0;if(B<0||B>256)throw new D("tlv.encode: wrong tag");if(S.length<2||S[q++]!==B)throw new D("tlv.decode: wrong tlv");const O=S[q++],$=!!(O&128);let j=0;if(!$)j=O;else{const V=O&127;if(!V)throw new D("tlv.decode(long): indefinite length not supported");if(V>4)throw new D("tlv.decode(long): byte length is too big");const K=S.subarray(q,q+V);if(K.length!==V)throw new D("tlv.decode: length bytes not complete");if(K[0]===0)throw new D("tlv.decode(long): zero leftmost byte");for(const H of K)j=j<<8|H;if(q+=V,j<128)throw new D("tlv.decode(long): not minimal encoding")}const G=S.subarray(q,q+j);if(G.length!==j)throw new D("tlv.decode: wrong value length");return{v:G,l:S.subarray(q+j)}}},_int:{encode(B){const{Err:S}=DER;if(B<_0n$1)throw new S("integer: negative integers are not allowed");let D=numberToHexUnpadded(B);if(Number.parseInt(D[0],16)&8&&(D="00"+D),D.length&1)throw new S("unexpected assertion");return D},decode(B){const{Err:S}=DER;if(B[0]&128)throw new S("Invalid signature integer: negative");if(B[0]===0&&!(B[1]&128))throw new S("Invalid signature integer: unnecessary leading zero");return b2n(B)}},toSig(B){const{Err:S,_int:D,_tlv:q}=DER,O=typeof B=="string"?h2b(B):B;abytes(O);const{v:$,l:j}=q.decode(48,O);if(j.length)throw new S("Invalid signature: left bytes after parsing");const{v:G,l:V}=q.decode(2,$),{v:K,l:H}=q.decode(2,V);if(H.length)throw new S("Invalid signature: left bytes after parsing");return{r:D.decode(G),s:D.decode(K)}},hexFromSig(B){const{_tlv:S,_int:D}=DER,q=`${S.encode(2,D.encode(B.r))}${S.encode(2,D.encode(B.s))}`;return S.encode(48,q)}},_0n$1=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(B){const S=validatePointOpts(B),{Fp:D}=S,q=Field(S.n,S.nBitLength),O=S.toBytes||((re,ne,se)=>{const ae=ne.toAffine();return concatBytes(Uint8Array.from([4]),D.toBytes(ae.x),D.toBytes(ae.y))}),$=S.fromBytes||(re=>{const ne=re.subarray(1),se=D.fromBytes(ne.subarray(0,D.BYTES)),ae=D.fromBytes(ne.subarray(D.BYTES,2*D.BYTES));return{x:se,y:ae}});function j(re){const{a:ne,b:se}=S,ae=D.sqr(re),fe=D.mul(ae,re);return D.add(D.add(fe,D.mul(re,ne)),se)}if(!D.eql(D.sqr(S.Gy),j(S.Gx)))throw new Error("bad generator point: equation left != right");function G(re){return inRange(re,_1n$1,S.n)}function V(re){const{allowedPrivateKeyLengths:ne,nByteLength:se,wrapPrivateKey:ae,n:fe}=S;if(ne&&typeof re!="bigint"){if(isBytes(re)&&(re=bytesToHex(re)),typeof re!="string"||!ne.includes(re.length))throw new Error("Invalid key");re=re.padStart(se*2,"0")}let ue;try{ue=typeof re=="bigint"?re:bytesToNumberBE(ensureBytes("private key",re,se))}catch{throw new Error(`private key must be ${se} bytes, hex or bigint, not ${typeof re}`)}return ae&&(ue=mod(ue,fe)),aInRange("private key",ue,_1n$1,fe),ue}function K(re){if(!(re instanceof X))throw new Error("ProjectivePoint expected")}const H=memoized((re,ne)=>{const{px:se,py:ae,pz:fe}=re;if(D.eql(fe,D.ONE))return{x:se,y:ae};const ue=re.is0();ne==null&&(ne=ue?D.ONE:D.inv(fe));const _e=D.mul(se,ne),ge=D.mul(ae,ne),Ae=D.mul(fe,ne);if(ue)return{x:D.ZERO,y:D.ZERO};if(!D.eql(Ae,D.ONE))throw new Error("invZ was invalid");return{x:_e,y:ge}}),Y=memoized(re=>{if(re.is0()){if(S.allowInfinityPoint&&!D.is0(re.py))return;throw new Error("bad point: ZERO")}const{x:ne,y:se}=re.toAffine();if(!D.isValid(ne)||!D.isValid(se))throw new Error("bad point: x or y not FE");const ae=D.sqr(se),fe=j(ne);if(!D.eql(ae,fe))throw new Error("bad point: equation left != right");if(!re.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class X{constructor(ne,se,ae){if(this.px=ne,this.py=se,this.pz=ae,ne==null||!D.isValid(ne))throw new Error("x required");if(se==null||!D.isValid(se))throw new Error("y required");if(ae==null||!D.isValid(ae))throw new Error("z required");Object.freeze(this)}static fromAffine(ne){const{x:se,y:ae}=ne||{};if(!ne||!D.isValid(se)||!D.isValid(ae))throw new Error("invalid affine point");if(ne instanceof X)throw new Error("projective point not allowed");const fe=ue=>D.eql(ue,D.ZERO);return fe(se)&&fe(ae)?X.ZERO:new X(se,ae,D.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(ne){const se=D.invertBatch(ne.map(ae=>ae.pz));return ne.map((ae,fe)=>ae.toAffine(se[fe])).map(X.fromAffine)}static fromHex(ne){const se=X.fromAffine($(ensureBytes("pointHex",ne)));return se.assertValidity(),se}static fromPrivateKey(ne){return X.BASE.multiply(V(ne))}static msm(ne,se){return pippenger(X,q,ne,se)}_setWindowSize(ne){ee.setWindowSize(this,ne)}assertValidity(){Y(this)}hasEvenY(){const{y:ne}=this.toAffine();if(D.isOdd)return!D.isOdd(ne);throw new Error("Field doesn't support isOdd")}equals(ne){K(ne);const{px:se,py:ae,pz:fe}=this,{px:ue,py:_e,pz:ge}=ne,Ae=D.eql(D.mul(se,ge),D.mul(ue,fe)),Te=D.eql(D.mul(ae,ge),D.mul(_e,fe));return Ae&&Te}negate(){return new X(this.px,D.neg(this.py),this.pz)}double(){const{a:ne,b:se}=S,ae=D.mul(se,_3n),{px:fe,py:ue,pz:_e}=this;let ge=D.ZERO,Ae=D.ZERO,Te=D.ZERO,be=D.mul(fe,fe),Pe=D.mul(ue,ue),J=D.mul(_e,_e),u=D.mul(fe,ue);return u=D.add(u,u),Te=D.mul(fe,_e),Te=D.add(Te,Te),ge=D.mul(ne,Te),Ae=D.mul(ae,J),Ae=D.add(ge,Ae),ge=D.sub(Pe,Ae),Ae=D.add(Pe,Ae),Ae=D.mul(ge,Ae),ge=D.mul(u,ge),Te=D.mul(ae,Te),J=D.mul(ne,J),u=D.sub(be,J),u=D.mul(ne,u),u=D.add(u,Te),Te=D.add(be,be),be=D.add(Te,be),be=D.add(be,J),be=D.mul(be,u),Ae=D.add(Ae,be),J=D.mul(ue,_e),J=D.add(J,J),be=D.mul(J,u),ge=D.sub(ge,be),Te=D.mul(J,Pe),Te=D.add(Te,Te),Te=D.add(Te,Te),new X(ge,Ae,Te)}add(ne){K(ne);const{px:se,py:ae,pz:fe}=this,{px:ue,py:_e,pz:ge}=ne;let Ae=D.ZERO,Te=D.ZERO,be=D.ZERO;const Pe=S.a,J=D.mul(S.b,_3n);let u=D.mul(se,ue),T=D.mul(ae,_e),P=D.mul(fe,ge),N=D.add(se,ae),L=D.add(ue,_e);N=D.mul(N,L),L=D.add(u,T),N=D.sub(N,L),L=D.add(se,fe);let W=D.add(ue,ge);return L=D.mul(L,W),W=D.add(u,P),L=D.sub(L,W),W=D.add(ae,fe),Ae=D.add(_e,ge),W=D.mul(W,Ae),Ae=D.add(T,P),W=D.sub(W,Ae),be=D.mul(Pe,L),Ae=D.mul(J,P),be=D.add(Ae,be),Ae=D.sub(T,be),be=D.add(T,be),Te=D.mul(Ae,be),T=D.add(u,u),T=D.add(T,u),P=D.mul(Pe,P),L=D.mul(J,L),T=D.add(T,P),P=D.sub(u,P),P=D.mul(Pe,P),L=D.add(L,P),u=D.mul(T,L),Te=D.add(Te,u),u=D.mul(W,L),Ae=D.mul(N,Ae),Ae=D.sub(Ae,u),u=D.mul(N,T),be=D.mul(W,be),be=D.add(be,u),new X(Ae,Te,be)}subtract(ne){return this.add(ne.negate())}is0(){return this.equals(X.ZERO)}wNAF(ne){return ee.wNAFCached(this,ne,X.normalizeZ)}multiplyUnsafe(ne){aInRange("scalar",ne,_0n$1,S.n);const se=X.ZERO;if(ne===_0n$1)return se;if(ne===_1n$1)return this;const{endo:ae}=S;if(!ae)return ee.unsafeLadder(this,ne);let{k1neg:fe,k1:ue,k2neg:_e,k2:ge}=ae.splitScalar(ne),Ae=se,Te=se,be=this;for(;ue>_0n$1||ge>_0n$1;)ue&_1n$1&&(Ae=Ae.add(be)),ge&_1n$1&&(Te=Te.add(be)),be=be.double(),ue>>=_1n$1,ge>>=_1n$1;return fe&&(Ae=Ae.negate()),_e&&(Te=Te.negate()),Te=new X(D.mul(Te.px,ae.beta),Te.py,Te.pz),Ae.add(Te)}multiply(ne){const{endo:se,n:ae}=S;aInRange("scalar",ne,_1n$1,ae);let fe,ue;if(se){const{k1neg:_e,k1:ge,k2neg:Ae,k2:Te}=se.splitScalar(ne);let{p:be,f:Pe}=this.wNAF(ge),{p:J,f:u}=this.wNAF(Te);be=ee.constTimeNegate(_e,be),J=ee.constTimeNegate(Ae,J),J=new X(D.mul(J.px,se.beta),J.py,J.pz),fe=be.add(J),ue=Pe.add(u)}else{const{p:_e,f:ge}=this.wNAF(ne);fe=_e,ue=ge}return X.normalizeZ([fe,ue])[0]}multiplyAndAddUnsafe(ne,se,ae){const fe=X.BASE,ue=(ge,Ae)=>Ae===_0n$1||Ae===_1n$1||!ge.equals(fe)?ge.multiplyUnsafe(Ae):ge.multiply(Ae),_e=ue(this,se).add(ue(ne,ae));return _e.is0()?void 0:_e}toAffine(ne){return H(this,ne)}isTorsionFree(){const{h:ne,isTorsionFree:se}=S;if(ne===_1n$1)return!0;if(se)return se(X,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:ne,clearCofactor:se}=S;return ne===_1n$1?this:se?se(X,this):this.multiplyUnsafe(S.h)}toRawBytes(ne=!0){return abool("isCompressed",ne),this.assertValidity(),O(X,this,ne)}toHex(ne=!0){return abool("isCompressed",ne),bytesToHex(this.toRawBytes(ne))}}X.BASE=new X(S.Gx,S.Gy,D.ONE),X.ZERO=new X(D.ZERO,D.ONE,D.ZERO);const Q=S.nBitLength,ee=wNAF(X,S.endo?Math.ceil(Q/2):Q);return{CURVE:S,ProjectivePoint:X,normPrivateKeyToScalar:V,weierstrassEquation:j,isWithinCurveOrder:G}}function validateOpts(B){const S=validateBasic(B);return validateObject(S,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...S})}function weierstrass(B){const S=validateOpts(B),{Fp:D,n:q}=S,O=D.BYTES+1,$=2*D.BYTES+1;function j(P){return mod(P,q)}function G(P){return invert(P,q)}const{ProjectivePoint:V,normPrivateKeyToScalar:K,weierstrassEquation:H,isWithinCurveOrder:Y}=weierstrassPoints({...S,toBytes(P,N,L){const W=N.toAffine(),Z=D.toBytes(W.x),U=concatBytes;return abool("isCompressed",L),L?U(Uint8Array.from([N.hasEvenY()?2:3]),Z):U(Uint8Array.from([4]),Z,D.toBytes(W.y))},fromBytes(P){const N=P.length,L=P[0],W=P.subarray(1);if(N===O&&(L===2||L===3)){const Z=bytesToNumberBE(W);if(!inRange(Z,_1n$1,D.ORDER))throw new Error("Point is not on curve");const U=H(Z);let M;try{M=D.sqrt(U)}catch(ie){const he=ie instanceof Error?": "+ie.message:"";throw new Error("Point is not on curve"+he)}const F=(M&_1n$1)===_1n$1;return(L&1)===1!==F&&(M=D.neg(M)),{x:Z,y:M}}else if(N===$&&L===4){const Z=D.fromBytes(W.subarray(0,D.BYTES)),U=D.fromBytes(W.subarray(D.BYTES,2*D.BYTES));return{x:Z,y:U}}else throw new Error(`Point of length ${N} was invalid. Expected ${O} compressed bytes or ${$} uncompressed bytes`)}}),X=P=>bytesToHex(numberToBytesBE(P,S.nByteLength));function Q(P){const N=q>>_1n$1;return P>N}function ee(P){return Q(P)?j(-P):P}const re=(P,N,L)=>bytesToNumberBE(P.slice(N,L));class ne{constructor(N,L,W){this.r=N,this.s=L,this.recovery=W,this.assertValidity()}static fromCompact(N){const L=S.nByteLength;return N=ensureBytes("compactSignature",N,L*2),new ne(re(N,0,L),re(N,L,2*L))}static fromDER(N){const{r:L,s:W}=DER.toSig(ensureBytes("DER",N));return new ne(L,W)}assertValidity(){aInRange("r",this.r,_1n$1,q),aInRange("s",this.s,_1n$1,q)}addRecoveryBit(N){return new ne(this.r,this.s,N)}recoverPublicKey(N){const{r:L,s:W,recovery:Z}=this,U=ge(ensureBytes("msgHash",N));if(Z==null||![0,1,2,3].includes(Z))throw new Error("recovery id invalid");const M=Z===2||Z===3?L+S.n:L;if(M>=D.ORDER)throw new Error("recovery id 2 or 3 invalid");const F=Z&1?"03":"02",te=V.fromHex(F+X(M)),ie=G(M),he=j(-U*ie),pe=j(W*ie),de=V.BASE.multiplyAndAddUnsafe(te,he,pe);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return Q(this.s)}normalizeS(){return this.hasHighS()?new ne(this.r,j(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return X(this.r)+X(this.s)}}const se={isValidPrivateKey(P){try{return K(P),!0}catch{return!1}},normPrivateKeyToScalar:K,randomPrivateKey:()=>{const P=getMinHashLength(S.n);return mapHashToField(S.randomBytes(P),S.n)},precompute(P=8,N=V.BASE){return N._setWindowSize(P),N.multiply(BigInt(3)),N}};function ae(P,N=!0){return V.fromPrivateKey(P).toRawBytes(N)}function fe(P){const N=isBytes(P),L=typeof P=="string",W=(N||L)&&P.length;return N?W===O||W===$:L?W===2*O||W===2*$:P instanceof V}function ue(P,N,L=!0){if(fe(P))throw new Error("first arg must be private key");if(!fe(N))throw new Error("second arg must be public key");return V.fromHex(N).multiply(K(P)).toRawBytes(L)}const _e=S.bits2int||function(P){const N=bytesToNumberBE(P),L=P.length*8-S.nBitLength;return L>0?N>>BigInt(L):N},ge=S.bits2int_modN||function(P){return j(_e(P))},Ae=bitMask(S.nBitLength);function Te(P){return aInRange(`num < 2^${S.nBitLength}`,P,_0n$1,Ae),numberToBytesBE(P,S.nByteLength)}function be(P,N,L=Pe){if(["recovered","canonical"].some(le=>le in L))throw new Error("sign() legacy options not supported");const{hash:W,randomBytes:Z}=S;let{lowS:U,prehash:M,extraEntropy:F}=L;U==null&&(U=!0),P=ensureBytes("msgHash",P),validateSigVerOpts(L),M&&(P=ensureBytes("prehashed msgHash",W(P)));const te=ge(P),ie=K(N),he=[Te(ie),Te(te)];if(F!=null&&F!==!1){const le=F===!0?Z(D.BYTES):F;he.push(ensureBytes("extraEntropy",le))}const pe=concatBytes(...he),de=te;function oe(le){const ve=_e(le);if(!Y(ve))return;const Me=G(ve),ye=V.BASE.multiply(ve).toAffine(),ce=j(ye.x);if(ce===_0n$1)return;const Se=j(Me*j(de+ce*ie));if(Se===_0n$1)return;let et=(ye.x===ce?0:2)|Number(ye.y&_1n$1),ke=Se;return U&&Q(Se)&&(ke=ee(Se),et^=1),new ne(ce,ke,et)}return{seed:pe,k2sig:oe}}const Pe={lowS:S.lowS,prehash:!1},J={lowS:S.lowS,prehash:!1};function u(P,N,L=Pe){const{seed:W,k2sig:Z}=be(P,N,L),U=S;return createHmacDrbg(U.hash.outputLen,U.nByteLength,U.hmac)(W,Z)}V.BASE._setWindowSize(8);function T(P,N,L,W=J){var ye;const Z=P;if(N=ensureBytes("msgHash",N),L=ensureBytes("publicKey",L),"strict"in W)throw new Error("options.strict was renamed to lowS");validateSigVerOpts(W);const{lowS:U,prehash:M}=W;let F,te;try{if(typeof Z=="string"||isBytes(Z))try{F=ne.fromDER(Z)}catch(ce){if(!(ce instanceof DER.Err))throw ce;F=ne.fromCompact(Z)}else if(typeof Z=="object"&&typeof Z.r=="bigint"&&typeof Z.s=="bigint"){const{r:ce,s:Se}=Z;F=new ne(ce,Se)}else throw new Error("PARSE");te=V.fromHex(L)}catch(ce){if(ce.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(U&&F.hasHighS())return!1;M&&(N=S.hash(N));const{r:ie,s:he}=F,pe=ge(N),de=G(he),oe=j(pe*de),le=j(ie*de),ve=(ye=V.BASE.multiplyAndAddUnsafe(te,oe,le))==null?void 0:ye.toAffine();return ve?j(ve.x)===ie:!1}return{CURVE:S,getPublicKey:ae,getSharedSecret:ue,sign:u,verify:T,ProjectivePoint:V,Signature:ne,utils:se}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(B){return{hash:B,hmac:(S,...D)=>hmac$2(B,S,concatBytes$1(...D)),randomBytes:randomBytes$1}}function createCurve(B,S){const D=q=>weierstrass({...B,...getHash(q)});return Object.freeze({...D(S),create:D})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(B,S)=>(B+S/_2n)/S;function sqrtMod(B){const S=secp256k1P,D=BigInt(3),q=BigInt(6),O=BigInt(11),$=BigInt(22),j=BigInt(23),G=BigInt(44),V=BigInt(88),K=B*B*B%S,H=K*K*B%S,Y=pow2(H,D,S)*H%S,X=pow2(Y,D,S)*H%S,Q=pow2(X,_2n,S)*K%S,ee=pow2(Q,O,S)*Q%S,re=pow2(ee,$,S)*ee%S,ne=pow2(re,G,S)*re%S,se=pow2(ne,V,S)*ne%S,ae=pow2(se,G,S)*re%S,fe=pow2(ae,D,S)*H%S,ue=pow2(fe,j,S)*ee%S,_e=pow2(ue,q,S)*K%S,ge=pow2(_e,_2n,S);if(!Fp.eql(Fp.sqr(ge),B))throw new Error("Cannot find square root");return ge}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1$2=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:B=>{const S=secp256k1N,D=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),q=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),O=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),$=D,j=BigInt("0x100000000000000000000000000000000"),G=divNearest($*B,S),V=divNearest(-q*B,S);let K=mod(B-G*D-V*O,S),H=mod(-G*q-V*$,S);const Y=K>j,X=H>j;if(Y&&(K=S-K),X&&(H=S-H),K>j||H>j)throw new Error("splitScalar: Endomorphism failed, k="+B);return{k1neg:Y,k1:K,k2neg:X,k2:H}}}},sha256$4),_0n=BigInt(0),TAGGED_HASH_PREFIXES={};function taggedHash(B,...S){let D=TAGGED_HASH_PREFIXES[B];if(D===void 0){const q=sha256$4(Uint8Array.from(B,O=>O.charCodeAt(0)));D=concatBytes(q,q),TAGGED_HASH_PREFIXES[B]=D}return sha256$4(concatBytes(D,...S))}const pointToBytes=B=>B.toRawBytes(!0).slice(1),numTo32b=B=>numberToBytesBE(B,32),modP=B=>mod(B,secp256k1P),modN=B=>mod(B,secp256k1N),Point=secp256k1$2.ProjectivePoint,GmulAdd=(B,S,D)=>Point.BASE.multiplyAndAddUnsafe(B,S,D);function schnorrGetExtPubKey(B){let S=secp256k1$2.utils.normPrivateKeyToScalar(B),D=Point.fromPrivateKey(S);return{scalar:D.hasEvenY()?S:modN(-S),bytes:pointToBytes(D)}}function lift_x(B){aInRange("x",B,_1n,secp256k1P);const S=modP(B*B),D=modP(S*B+BigInt(7));let q=sqrtMod(D);q%_2n!==_0n&&(q=modP(-q));const O=new Point(B,q,_1n);return O.assertValidity(),O}const num=bytesToNumberBE;function challenge(...B){return modN(num(taggedHash("BIP0340/challenge",...B)))}function schnorrGetPublicKey(B){return schnorrGetExtPubKey(B).bytes}function schnorrSign(B,S,D=randomBytes$1(32)){const q=ensureBytes("message",B),{bytes:O,scalar:$}=schnorrGetExtPubKey(S),j=ensureBytes("auxRand",D,32),G=numTo32b($^num(taggedHash("BIP0340/aux",j))),V=taggedHash("BIP0340/nonce",G,O,q),K=modN(num(V));if(K===_0n)throw new Error("sign failed: k is zero");const{bytes:H,scalar:Y}=schnorrGetExtPubKey(K),X=challenge(H,O,q),Q=new Uint8Array(64);if(Q.set(H,0),Q.set(numTo32b(modN(Y+X*$)),32),!schnorrVerify(Q,q,O))throw new Error("sign: Invalid signature produced");return Q}function schnorrVerify(B,S,D){const q=ensureBytes("signature",B,64),O=ensureBytes("message",S),$=ensureBytes("publicKey",D,32);try{const j=lift_x(num($)),G=num(q.subarray(0,32));if(!inRange(G,_1n,secp256k1P))return!1;const V=num(q.subarray(32,64));if(!inRange(V,_1n,secp256k1N))return!1;const K=challenge(numTo32b(G),pointToBytes(j),O),H=GmulAdd(j,V,modN(-K));return!(!H||!H.hasEvenY()||H.toAffine().x!==G)}catch{return!1}}const schnorr={getPublicKey:schnorrGetPublicKey,sign:schnorrSign,verify:schnorrVerify,utils:{randomPrivateKey:secp256k1$2.utils.randomPrivateKey,lift_x,pointToBytes,numberToBytesBE,bytesToNumberBE,taggedHash,mod}},libName="Trystero",alloc=(B,S)=>Array(B).fill().map(S),charSet="0123456789AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz",genId=B=>alloc(B,()=>charSet[Math.floor(Math.random()*charSet.length)]).join(""),selfId=genId(20),all=Promise.all.bind(Promise),isBrowser=typeof window<"u",{entries,fromEntries,keys}=Object,noOp=()=>{},mkErr=B=>new Error(`${libName}: ${B}`),encoder$1=new TextEncoder,decoder=new TextDecoder,encodeBytes=B=>encoder$1.encode(B),decodeBytes=B=>decoder.decode(B),toHex=B=>B.reduce((S,D)=>S+D.toString(16).padStart(2,"0"),""),topicPath=(...B)=>B.join("@"),getRelays=(B,S,D)=>(B.relayUrls||S).slice(0,B.relayUrls?B.relayUrls.length:B.relayRedundancy||D),toJson=JSON.stringify,fromJson=JSON.parse,defaultRetryMs=3333,socketRetryPeriods={},makeSocket=(B,S)=>{const D={},q=()=>{const O=new WebSocket(B);O.onclose=()=>{var $;($=socketRetryPeriods[B])!=null||(socketRetryPeriods[B]=defaultRetryMs),setTimeout(q,socketRetryPeriods[B]),socketRetryPeriods[B]*=2},O.onmessage=$=>S($.data),D.socket=O,D.url=O.url,D.ready=new Promise($=>O.onopen=()=>{$(D),socketRetryPeriods[B]=defaultRetryMs}),D.send=$=>{O.readyState===1&&O.send($)}};return q(),D},algo="AES-GCM",strToSha1={},pack=B=>btoa(String.fromCharCode.apply(null,new Uint8Array(B))),unpack=B=>{const S=atob(B);return new Uint8Array(S.length).map((D,q)=>S.charCodeAt(q)).buffer},sha1$1=async B=>{if(strToSha1[B])return strToSha1[B];const S=Array.from(new Uint8Array(await crypto.subtle.digest("SHA-1",encodeBytes(B)))).map(D=>D.toString(36)).join("");return strToSha1[B]=S,S},genKey=async(B,S,D)=>crypto.subtle.importKey("raw",await crypto.subtle.digest({name:"SHA-256"},encodeBytes(`${B}:${S}:${D}`)),{name:algo},!1,["encrypt","decrypt"]),joinChar="$",ivJoinChar=",",encrypt=async(B,S)=>{const D=crypto.getRandomValues(new Uint8Array(16));return D.join(ivJoinChar)+joinChar+pack(await crypto.subtle.encrypt({name:algo,iv:D},await B,encodeBytes(S)))},decrypt=async(B,S)=>{const[D,q]=S.split(joinChar);return decodeBytes(await crypto.subtle.decrypt({name:algo,iv:new Uint8Array(D.split(ivJoinChar))},await B,unpack(q)))};var browser$c={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var B=1e3,S=B*60,D=S*60,q=D*24,O=q*7,$=q*365.25;ms=function(H,Y){Y=Y||{};var X=typeof H;if(X==="string"&&H.length>0)return j(H);if(X==="number"&&isFinite(H))return Y.long?V(H):G(H);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(H))};function j(H){if(H=String(H),!(H.length>100)){var Y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(H);if(Y){var X=parseFloat(Y[1]),Q=(Y[2]||"ms").toLowerCase();switch(Q){case"years":case"year":case"yrs":case"yr":case"y":return X*$;case"weeks":case"week":case"w":return X*O;case"days":case"day":case"d":return X*q;case"hours":case"hour":case"hrs":case"hr":case"h":return X*D;case"minutes":case"minute":case"mins":case"min":case"m":return X*S;case"seconds":case"second":case"secs":case"sec":case"s":return X*B;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return X;default:return}}}}function G(H){var Y=Math.abs(H);return Y>=q?Math.round(H/q)+"d":Y>=D?Math.round(H/D)+"h":Y>=S?Math.round(H/S)+"m":Y>=B?Math.round(H/B)+"s":H+"ms"}function V(H){var Y=Math.abs(H);return Y>=q?K(H,Y,q,"day"):Y>=D?K(H,Y,D,"hour"):Y>=S?K(H,Y,S,"minute"):Y>=B?K(H,Y,B,"second"):H+" ms"}function K(H,Y,X,Q){var ee=Y>=X*1.5;return Math.round(H/X)+" "+Q+(ee?"s":"")}return ms}function setup(B){D.debug=D,D.default=D,D.coerce=V,D.disable=$,D.enable=O,D.enabled=j,D.humanize=requireMs(),D.destroy=K,Object.keys(B).forEach(H=>{D[H]=B[H]}),D.names=[],D.skips=[],D.formatters={};function S(H){let Y=0;for(let X=0;X<H.length;X++)Y=(Y<<5)-Y+H.charCodeAt(X),Y|=0;return D.colors[Math.abs(Y)%D.colors.length]}D.selectColor=S;function D(H){let Y,X=null,Q,ee;function re(...ne){if(!re.enabled)return;const se=re,ae=Number(new Date),fe=ae-(Y||ae);se.diff=fe,se.prev=Y,se.curr=ae,Y=ae,ne[0]=D.coerce(ne[0]),typeof ne[0]!="string"&&ne.unshift("%O");let ue=0;ne[0]=ne[0].replace(/%([a-zA-Z%])/g,(ge,Ae)=>{if(ge==="%%")return"%";ue++;const Te=D.formatters[Ae];if(typeof Te=="function"){const be=ne[ue];ge=Te.call(se,be),ne.splice(ue,1),ue--}return ge}),D.formatArgs.call(se,ne),(se.log||D.log).apply(se,ne)}return re.namespace=H,re.useColors=D.useColors(),re.color=D.selectColor(H),re.extend=q,re.destroy=D.destroy,Object.defineProperty(re,"enabled",{enumerable:!0,configurable:!1,get:()=>X!==null?X:(Q!==D.namespaces&&(Q=D.namespaces,ee=D.enabled(H)),ee),set:ne=>{X=ne}}),typeof D.init=="function"&&D.init(re),re}function q(H,Y){const X=D(this.namespace+(typeof Y>"u"?":":Y)+H);return X.log=this.log,X}function O(H){D.save(H),D.namespaces=H,D.names=[],D.skips=[];let Y;const X=(typeof H=="string"?H:"").split(/[\s,]+/),Q=X.length;for(Y=0;Y<Q;Y++)X[Y]&&(H=X[Y].replace(/\*/g,".*?"),H[0]==="-"?D.skips.push(new RegExp("^"+H.slice(1)+"$")):D.names.push(new RegExp("^"+H+"$")))}function $(){const H=[...D.names.map(G),...D.skips.map(G).map(Y=>"-"+Y)].join(",");return D.enable(""),H}function j(H){if(H[H.length-1]==="*")return!0;let Y,X;for(Y=0,X=D.skips.length;Y<X;Y++)if(D.skips[Y].test(H))return!1;for(Y=0,X=D.names.length;Y<X;Y++)if(D.names[Y].test(H))return!0;return!1}function G(H){return H.toString().substring(2,H.toString().length-2).replace(/\.\*\?$/,"*")}function V(H){return H instanceof Error?H.stack||H.message:H}function K(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return D.enable(D.load()),D}var common$2=setup;(function(B,S){var D={};S.formatArgs=O,S.save=$,S.load=j,S.useColors=q,S.storage=G(),S.destroy=(()=>{let K=!1;return()=>{K||(K=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),S.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function q(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let K;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(K=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(K[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function O(K){if(K[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+K[0]+(this.useColors?"%c ":" ")+"+"+B.exports.humanize(this.diff),!this.useColors)return;const H="color: "+this.color;K.splice(1,0,H,"color: inherit");let Y=0,X=0;K[0].replace(/%[a-zA-Z%]/g,Q=>{Q!=="%%"&&(Y++,Q==="%c"&&(X=Y))}),K.splice(X,0,H)}S.log=console.debug||console.log||(()=>{});function $(K){try{K?S.storage.setItem("debug",K):S.storage.removeItem("debug")}catch{}}function j(){let K;try{K=S.storage.getItem("debug")}catch{}return!K&&typeof process$1<"u"&&"env"in process$1&&(K=D.DEBUG),K}function G(){try{return localStorage}catch{}}B.exports=common$2(S);const{formatters:V}=B.exports;V.j=function(K){try{return JSON.stringify(K)}catch(H){return"[UnexpectedJSONParseError]: "+H.message}}})(browser$c,browser$c.exports);var browserExports=browser$c.exports;const debug=getDefaultExportFromCjs(browserExports),scope$1=typeof window<"u"?window:self,RTCPeerConnection$1=scope$1.RTCPeerConnection||scope$1.mozRTCPeerConnection||scope$1.webkitRTCPeerConnection,RTCSessionDescription$1=scope$1.RTCSessionDescription||scope$1.mozRTCSessionDescription||scope$1.webkitRTCSessionDescription,RTCIceCandidate=scope$1.RTCIceCandidate||scope$1.mozRTCIceCandidate||scope$1.webkitRTCIceCandidate;var events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(S,D,q){return Function.prototype.apply.call(S,D,q)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:ReflectOwnKeys=function(S){return Object.getOwnPropertyNames(S)};function ProcessEmitWarning(B){console&&console.warn&&console.warn(B)}var NumberIsNaN=Number.isNaN||function(S){return S!==S};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1;events.exports.once=once;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._eventsCount=0;EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(B){if(typeof B!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof B)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(B){if(typeof B!="number"||B<0||NumberIsNaN(B))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");defaultMaxListeners=B}});EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||NumberIsNaN(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function _getMaxListeners(B){return B._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:B._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$1.prototype.emit=function(S){for(var D=[],q=1;q<arguments.length;q++)D.push(arguments[q]);var O=S==="error",$=this._events;if($!==void 0)O=O&&$.error===void 0;else if(!O)return!1;if(O){var j;if(D.length>0&&(j=D[0]),j instanceof Error)throw j;var G=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw G.context=j,G}var V=$[S];if(V===void 0)return!1;if(typeof V=="function")ReflectApply(V,this,D);else for(var K=V.length,H=arrayClone(V,K),q=0;q<K;++q)ReflectApply(H[q],this,D);return!0};function _addListener(B,S,D,q){var O,$,j;if(checkListener(D),$=B._events,$===void 0?($=B._events=Object.create(null),B._eventsCount=0):($.newListener!==void 0&&(B.emit("newListener",S,D.listener?D.listener:D),$=B._events),j=$[S]),j===void 0)j=$[S]=D,++B._eventsCount;else if(typeof j=="function"?j=$[S]=q?[D,j]:[j,D]:q?j.unshift(D):j.push(D),O=_getMaxListeners(B),O>0&&j.length>O&&!j.warned){j.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=B,G.type=S,G.count=j.length,ProcessEmitWarning(G)}return B}EventEmitter$1.prototype.addListener=function(S,D){return _addListener(this,S,D,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function(S,D){return _addListener(this,S,D,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(B,S,D){var q={fired:!1,wrapFn:void 0,target:B,type:S,listener:D},O=onceWrapper.bind(q);return O.listener=D,q.wrapFn=O,O}EventEmitter$1.prototype.once=function(S,D){return checkListener(D),this.on(S,_onceWrap(this,S,D)),this};EventEmitter$1.prototype.prependOnceListener=function(S,D){return checkListener(D),this.prependListener(S,_onceWrap(this,S,D)),this};EventEmitter$1.prototype.removeListener=function(S,D){var q,O,$,j,G;if(checkListener(D),O=this._events,O===void 0)return this;if(q=O[S],q===void 0)return this;if(q===D||q.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete O[S],O.removeListener&&this.emit("removeListener",S,q.listener||D));else if(typeof q!="function"){for($=-1,j=q.length-1;j>=0;j--)if(q[j]===D||q[j].listener===D){G=q[j].listener,$=j;break}if($<0)return this;$===0?q.shift():spliceOne(q,$),q.length===1&&(O[S]=q[0]),O.removeListener!==void 0&&this.emit("removeListener",S,G||D)}return this};EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener;EventEmitter$1.prototype.removeAllListeners=function(S){var D,q,O;if(q=this._events,q===void 0)return this;if(q.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):q[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete q[S]),this;if(arguments.length===0){var $=Object.keys(q),j;for(O=0;O<$.length;++O)j=$[O],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=q[S],typeof D=="function")this.removeListener(S,D);else if(D!==void 0)for(O=D.length-1;O>=0;O--)this.removeListener(S,D[O]);return this};function _listeners(B,S,D){var q=B._events;if(q===void 0)return[];var O=q[S];return O===void 0?[]:typeof O=="function"?D?[O.listener||O]:[O]:D?unwrapListeners(O):arrayClone(O,O.length)}EventEmitter$1.prototype.listeners=function(S){return _listeners(this,S,!0)};EventEmitter$1.prototype.rawListeners=function(S){return _listeners(this,S,!1)};EventEmitter$1.listenerCount=function(B,S){return typeof B.listenerCount=="function"?B.listenerCount(S):listenerCount.call(B,S)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(B){var S=this._events;if(S!==void 0){var D=S[B];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(B,S){for(var D=new Array(S),q=0;q<S;++q)D[q]=B[q];return D}function spliceOne(B,S){for(;S+1<B.length;S++)B[S]=B[S+1];B.pop()}function unwrapListeners(B){for(var S=new Array(B.length),D=0;D<S.length;++D)S[D]=B[D].listener||B[D];return S}function once(B,S){return new Promise(function(D,q){function O(j){B.removeListener(S,$),q(j)}function $(){typeof B.removeListener=="function"&&B.removeListener("error",O),D([].slice.call(arguments))}eventTargetAgnosticAddListener(B,S,$,{once:!0}),S!=="error"&&addErrorHandlerIfEventEmitter(B,O,{once:!0})})}function addErrorHandlerIfEventEmitter(B,S,D){typeof B.on=="function"&&eventTargetAgnosticAddListener(B,"error",S,D)}function eventTargetAgnosticAddListener(B,S,D,q){if(typeof B.on=="function")q.once?B.once(S,D):B.on(S,D);else if(typeof B.addEventListener=="function")B.addEventListener(S,function O($){q.once&&B.removeEventListener(S,O),D($)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof B)}var eventsExports=events.exports,queueMicrotask_1=typeof queueMicrotask=="function"?queueMicrotask:B=>Promise.resolve().then(B),fixedSize=class{constructor(S){if(!(S>0)||S-1&S)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(S),this.mask=S-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(S){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=S,this.top=this.top+1&this.mask,!0)}shift(){const S=this.buffer[this.btm];if(S!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,S}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}};const FixedFIFO=fixedSize;var fastFifo=class{constructor(S){this.hwm=S||16,this.head=new FixedFIFO(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(S){if(this.length++,!this.head.push(S)){const D=this.head;this.head=D.next=new FixedFIFO(2*this.head.buffer.length),this.head.push(S)}}shift(){this.length!==0&&this.length--;const S=this.tail.shift();if(S===void 0&&this.tail.next){const D=this.tail.next;return this.tail.next=null,this.tail=D,this.tail.shift()}return S}peek(){const S=this.tail.peek();return S===void 0&&this.tail.next?this.tail.next.peek():S}isEmpty(){return this.length===0}},browserDecoder=class{constructor(S){this.decoder=new TextDecoder(S==="utf16le"?"utf16-le":S)}get remaining(){return-1}decode(S){return this.decoder.decode(S,{stream:!0})}flush(){return this.decoder.decode(new Uint8Array(0))}};const PassThroughDecoder=browserDecoder,UTF8Decoder=browserDecoder;var textDecoder=class{constructor(S="utf8"){switch(this.encoding=normalizeEncoding(S),this.encoding){case"utf8":this.decoder=new UTF8Decoder;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new PassThroughDecoder(this.encoding)}}get remaining(){return this.decoder.remaining}push(S){return typeof S=="string"?S:this.decoder.decode(S)}write(S){return this.push(S)}end(S){let D="";return S&&(D=this.push(S)),D+=this.decoder.flush(),D}};function normalizeEncoding(B){switch(B=B.toLowerCase(),B){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return B;default:throw new Error("Unknown encoding: "+B)}}const{EventEmitter}=eventsExports,STREAM_DESTROYED=new Error("Stream was destroyed"),PREMATURE_CLOSE=new Error("Premature close"),queueTick=queueMicrotask_1,FIFO=fastFifo,TextDecoder$1=textDecoder,MAX=(1<<29)-1,OPENING=1,PREDESTROYING=2,DESTROYING=4,DESTROYED=8,NOT_OPENING=MAX^OPENING,NOT_PREDESTROYING=MAX^PREDESTROYING,READ_ACTIVE=16,READ_UPDATING=32,READ_PRIMARY=64,READ_QUEUED=128,READ_RESUMED=256,READ_PIPE_DRAINED=512,READ_ENDING=1024,READ_EMIT_DATA=2048,READ_EMIT_READABLE=4096,READ_EMITTED_READABLE=8192,READ_DONE=16384,READ_NEXT_TICK=32768,READ_NEEDS_PUSH=65536,READ_READ_AHEAD=131072,READ_FLOWING=READ_RESUMED|READ_PIPE_DRAINED,READ_ACTIVE_AND_NEEDS_PUSH=READ_ACTIVE|READ_NEEDS_PUSH,READ_PRIMARY_AND_ACTIVE=READ_PRIMARY|READ_ACTIVE,READ_EMIT_READABLE_AND_QUEUED=READ_EMIT_READABLE|READ_QUEUED,READ_RESUMED_READ_AHEAD=READ_RESUMED|READ_READ_AHEAD,READ_NOT_ACTIVE=MAX^READ_ACTIVE,READ_NON_PRIMARY=MAX^READ_PRIMARY,READ_NON_PRIMARY_AND_PUSHED=MAX^(READ_PRIMARY|READ_NEEDS_PUSH),READ_PUSHED=MAX^READ_NEEDS_PUSH,READ_PAUSED=MAX^READ_RESUMED,READ_NOT_QUEUED=MAX^(READ_QUEUED|READ_EMITTED_READABLE),READ_NOT_ENDING=MAX^READ_ENDING,READ_PIPE_NOT_DRAINED=MAX^READ_FLOWING,READ_NOT_NEXT_TICK=MAX^READ_NEXT_TICK,READ_NOT_UPDATING=MAX^READ_UPDATING,READ_NO_READ_AHEAD=MAX^READ_READ_AHEAD,READ_PAUSED_NO_READ_AHEAD=MAX^READ_RESUMED_READ_AHEAD,WRITE_ACTIVE=1<<18,WRITE_UPDATING=2<<18,WRITE_PRIMARY=4<<18,WRITE_QUEUED=8<<18,WRITE_UNDRAINED=16<<18,WRITE_DONE=32<<18,WRITE_EMIT_DRAIN=64<<18,WRITE_NEXT_TICK=128<<18,WRITE_WRITING=256<<18,WRITE_FINISHING=512<<18,WRITE_CORKED=1024<<18,WRITE_NOT_ACTIVE=MAX^(WRITE_ACTIVE|WRITE_WRITING),WRITE_NON_PRIMARY=MAX^WRITE_PRIMARY,WRITE_NOT_FINISHING=MAX^(WRITE_ACTIVE|WRITE_FINISHING),WRITE_DRAINED=MAX^WRITE_UNDRAINED,WRITE_NOT_QUEUED=MAX^WRITE_QUEUED,WRITE_NOT_NEXT_TICK=MAX^WRITE_NEXT_TICK,WRITE_NOT_UPDATING=MAX^WRITE_UPDATING,WRITE_NOT_CORKED=MAX^WRITE_CORKED,ACTIVE=READ_ACTIVE|WRITE_ACTIVE,NOT_ACTIVE=MAX^ACTIVE,DONE=READ_DONE|WRITE_DONE,DESTROY_STATUS=DESTROYING|DESTROYED|PREDESTROYING,OPEN_STATUS=DESTROY_STATUS|OPENING,AUTO_DESTROY=DESTROY_STATUS|DONE,NON_PRIMARY=WRITE_NON_PRIMARY&READ_NON_PRIMARY,ACTIVE_OR_TICKING=WRITE_NEXT_TICK|READ_NEXT_TICK,TICKING=ACTIVE_OR_TICKING&NOT_ACTIVE,IS_OPENING=OPEN_STATUS|TICKING,READ_PRIMARY_STATUS=OPEN_STATUS|READ_ENDING|READ_DONE,READ_STATUS=OPEN_STATUS|READ_DONE|READ_QUEUED,READ_ENDING_STATUS=OPEN_STATUS|READ_ENDING|READ_QUEUED,READ_READABLE_STATUS=OPEN_STATUS|READ_EMIT_READABLE|READ_QUEUED|READ_EMITTED_READABLE,SHOULD_NOT_READ=OPEN_STATUS|READ_ACTIVE|READ_ENDING|READ_DONE|READ_NEEDS_PUSH|READ_READ_AHEAD,READ_BACKPRESSURE_STATUS=DESTROY_STATUS|READ_ENDING|READ_DONE,READ_UPDATE_SYNC_STATUS=READ_UPDATING|OPEN_STATUS|READ_NEXT_TICK|READ_PRIMARY,WRITE_PRIMARY_STATUS=OPEN_STATUS|WRITE_FINISHING|WRITE_DONE,WRITE_QUEUED_AND_UNDRAINED=WRITE_QUEUED|WRITE_UNDRAINED,WRITE_QUEUED_AND_ACTIVE=WRITE_QUEUED|WRITE_ACTIVE,WRITE_DRAIN_STATUS=WRITE_QUEUED|WRITE_UNDRAINED|OPEN_STATUS|WRITE_ACTIVE,WRITE_STATUS=OPEN_STATUS|WRITE_ACTIVE|WRITE_QUEUED|WRITE_CORKED,WRITE_PRIMARY_AND_ACTIVE=WRITE_PRIMARY|WRITE_ACTIVE,WRITE_ACTIVE_AND_WRITING=WRITE_ACTIVE|WRITE_WRITING,WRITE_FINISHING_STATUS=OPEN_STATUS|WRITE_FINISHING|WRITE_QUEUED_AND_ACTIVE|WRITE_DONE,WRITE_BACKPRESSURE_STATUS=WRITE_UNDRAINED|DESTROY_STATUS|WRITE_FINISHING|WRITE_DONE,WRITE_UPDATE_SYNC_STATUS=WRITE_UPDATING|OPEN_STATUS|WRITE_NEXT_TICK|WRITE_PRIMARY,WRITE_DROP_DATA=WRITE_FINISHING|WRITE_DONE|DESTROY_STATUS,asyncIterator=Symbol.asyncIterator||Symbol("asyncIterator");class WritableState{constructor(S,{highWaterMark:D=16384,map:q=null,mapWritable:O,byteLength:$,byteLengthWritable:j}={}){this.stream=S,this.queue=new FIFO,this.highWaterMark=D,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=j||$||defaultByteLength,this.map=O||q,this.afterWrite=afterWrite.bind(this),this.afterUpdateNextTick=updateWriteNT.bind(this)}get ended(){return(this.stream._duplexState&WRITE_DONE)!==0}push(S){return this.stream._duplexState&WRITE_DROP_DATA?!1:(this.map!==null&&(S=this.map(S)),this.buffered+=this.byteLength(S),this.queue.push(S),this.buffered<this.highWaterMark?(this.stream._duplexState|=WRITE_QUEUED,!0):(this.stream._duplexState|=WRITE_QUEUED_AND_UNDRAINED,!1))}shift(){const S=this.queue.shift();return this.buffered-=this.byteLength(S),this.buffered===0&&(this.stream._duplexState&=WRITE_NOT_QUEUED),S}end(S){typeof S=="function"?this.stream.once("finish",S):S!=null&&this.push(S),this.stream._duplexState=(this.stream._duplexState|WRITE_FINISHING)&WRITE_NON_PRIMARY}autoBatch(S,D){const q=[],O=this.stream;for(q.push(S);(O._duplexState&WRITE_STATUS)===WRITE_QUEUED_AND_ACTIVE;)q.push(O._writableState.shift());if(O._duplexState&OPEN_STATUS)return D(null);O._writev(q,D)}update(){const S=this.stream;S._duplexState|=WRITE_UPDATING;do{for(;(S._duplexState&WRITE_STATUS)===WRITE_QUEUED;){const D=this.shift();S._duplexState|=WRITE_ACTIVE_AND_WRITING,S._write(D,this.afterWrite)}S._duplexState&WRITE_PRIMARY_AND_ACTIVE||this.updateNonPrimary()}while(this.continueUpdate()===!0);S._duplexState&=WRITE_NOT_UPDATING}updateNonPrimary(){const S=this.stream;if((S._duplexState&WRITE_FINISHING_STATUS)===WRITE_FINISHING){S._duplexState=S._duplexState|WRITE_ACTIVE,S._final(afterFinal.bind(this));return}if((S._duplexState&DESTROY_STATUS)===DESTROYING){S._duplexState&ACTIVE_OR_TICKING||(S._duplexState|=ACTIVE,S._destroy(afterDestroy.bind(this)));return}(S._duplexState&IS_OPENING)===OPENING&&(S._duplexState=(S._duplexState|ACTIVE)&NOT_OPENING,S._open(afterOpen.bind(this)))}continueUpdate(){return this.stream._duplexState&WRITE_NEXT_TICK?(this.stream._duplexState&=WRITE_NOT_NEXT_TICK,!0):!1}updateCallback(){(this.stream._duplexState&WRITE_UPDATE_SYNC_STATUS)===WRITE_PRIMARY?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&WRITE_NEXT_TICK||(this.stream._duplexState|=WRITE_NEXT_TICK,this.stream._duplexState&WRITE_UPDATING||queueTick(this.afterUpdateNextTick))}}class ReadableState{constructor(S,{highWaterMark:D=16384,map:q=null,mapReadable:O,byteLength:$,byteLengthReadable:j}={}){this.stream=S,this.queue=new FIFO,this.highWaterMark=D===0?1:D,this.buffered=0,this.readAhead=D>0,this.error=null,this.pipeline=null,this.byteLength=j||$||defaultByteLength,this.map=O||q,this.pipeTo=null,this.afterRead=afterRead.bind(this),this.afterUpdateNextTick=updateReadNT.bind(this)}get ended(){return(this.stream._duplexState&READ_DONE)!==0}pipe(S,D){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof D!="function"&&(D=null),this.stream._duplexState|=READ_PIPE_DRAINED,this.pipeTo=S,this.pipeline=new Pipeline(this.stream,S,D),D&&this.stream.on("error",noop$1),isStreamx(S))S._writableState.pipeline=this.pipeline,D&&S.on("error",noop$1),S.on("finish",this.pipeline.finished.bind(this.pipeline));else{const q=this.pipeline.done.bind(this.pipeline,S),O=this.pipeline.done.bind(this.pipeline,S,null);S.on("error",q),S.on("close",O),S.on("finish",this.pipeline.finished.bind(this.pipeline))}S.on("drain",afterDrain.bind(this)),this.stream.emit("piping",S),S.emit("pipe",this.stream)}push(S){const D=this.stream;return S===null?(this.highWaterMark=0,D._duplexState=(D._duplexState|READ_ENDING)&READ_NON_PRIMARY_AND_PUSHED,!1):this.map!==null&&(S=this.map(S),S===null)?(D._duplexState&=READ_PUSHED,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(S),this.queue.push(S),D._duplexState=(D._duplexState|READ_QUEUED)&READ_PUSHED,this.buffered<this.highWaterMark)}shift(){const S=this.queue.shift();return this.buffered-=this.byteLength(S),this.buffered===0&&(this.stream._duplexState&=READ_NOT_QUEUED),S}unshift(S){const D=[this.map!==null?this.map(S):S];for(;this.buffered>0;)D.push(this.shift());for(let q=0;q<D.length-1;q++){const O=D[q];this.buffered+=this.byteLength(O),this.queue.push(O)}this.push(D[D.length-1])}read(){const S=this.stream;if((S._duplexState&READ_STATUS)===READ_QUEUED){const D=this.shift();return this.pipeTo!==null&&this.pipeTo.write(D)===!1&&(S._duplexState&=READ_PIPE_NOT_DRAINED),S._duplexState&READ_EMIT_DATA&&S.emit("data",D),D}return this.readAhead===!1&&(S._duplexState|=READ_READ_AHEAD,this.updateNextTick()),null}drain(){const S=this.stream;for(;(S._duplexState&READ_STATUS)===READ_QUEUED&&S._duplexState&READ_FLOWING;){const D=this.shift();this.pipeTo!==null&&this.pipeTo.write(D)===!1&&(S._duplexState&=READ_PIPE_NOT_DRAINED),S._duplexState&READ_EMIT_DATA&&S.emit("data",D)}}update(){const S=this.stream;S._duplexState|=READ_UPDATING;do{for(this.drain();this.buffered<this.highWaterMark&&(S._duplexState&SHOULD_NOT_READ)===READ_READ_AHEAD;)S._duplexState|=READ_ACTIVE_AND_NEEDS_PUSH,S._read(this.afterRead),this.drain();(S._duplexState&READ_READABLE_STATUS)===READ_EMIT_READABLE_AND_QUEUED&&(S._duplexState|=READ_EMITTED_READABLE,S.emit("readable")),S._duplexState&READ_PRIMARY_AND_ACTIVE||this.updateNonPrimary()}while(this.continueUpdate()===!0);S._duplexState&=READ_NOT_UPDATING}updateNonPrimary(){const S=this.stream;if((S._duplexState&READ_ENDING_STATUS)===READ_ENDING&&(S._duplexState=(S._duplexState|READ_DONE)&READ_NOT_ENDING,S.emit("end"),(S._duplexState&AUTO_DESTROY)===DONE&&(S._duplexState|=DESTROYING),this.pipeTo!==null&&this.pipeTo.end()),(S._duplexState&DESTROY_STATUS)===DESTROYING){S._duplexState&ACTIVE_OR_TICKING||(S._duplexState|=ACTIVE,S._destroy(afterDestroy.bind(this)));return}(S._duplexState&IS_OPENING)===OPENING&&(S._duplexState=(S._duplexState|ACTIVE)&NOT_OPENING,S._open(afterOpen.bind(this)))}continueUpdate(){return this.stream._duplexState&READ_NEXT_TICK?(this.stream._duplexState&=READ_NOT_NEXT_TICK,!0):!1}updateCallback(){(this.stream._duplexState&READ_UPDATE_SYNC_STATUS)===READ_PRIMARY?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&READ_NEXT_TICK||(this.stream._duplexState|=READ_NEXT_TICK,this.stream._duplexState&READ_UPDATING||queueTick(this.afterUpdateNextTick))}}class TransformState{constructor(S){this.data=null,this.afterTransform=afterTransform.bind(S),this.afterFinal=null}}class Pipeline{constructor(S,D,q){this.from=S,this.to=D,this.afterPipe=q,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(S,D){if(D&&(this.error=D),S===this.to&&(this.to=null,this.from!==null)){(!(this.from._duplexState&READ_DONE)||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(S===this.from&&(this.from=null,this.to!==null)){S._duplexState&READ_DONE||this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}}function afterDrain(){this.stream._duplexState|=READ_PIPE_DRAINED,this.updateCallback()}function afterFinal(B){const S=this.stream;B&&S.destroy(B),S._duplexState&DESTROY_STATUS||(S._duplexState|=WRITE_DONE,S.emit("finish")),(S._duplexState&AUTO_DESTROY)===DONE&&(S._duplexState|=DESTROYING),S._duplexState&=WRITE_NOT_FINISHING,S._duplexState&WRITE_UPDATING?this.updateNextTick():this.update()}function afterDestroy(B){const S=this.stream;!B&&this.error!==STREAM_DESTROYED&&(B=this.error),B&&S.emit("error",B),S._duplexState|=DESTROYED,S.emit("close");const D=S._readableState,q=S._writableState;if(D!==null&&D.pipeline!==null&&D.pipeline.done(S,B),q!==null){for(;q.drains!==null&&q.drains.length>0;)q.drains.shift().resolve(!1);q.pipeline!==null&&q.pipeline.done(S,B)}}function afterWrite(B){const S=this.stream;B&&S.destroy(B),S._duplexState&=WRITE_NOT_ACTIVE,this.drains!==null&&tickDrains(this.drains),(S._duplexState&WRITE_DRAIN_STATUS)===WRITE_UNDRAINED&&(S._duplexState&=WRITE_DRAINED,(S._duplexState&WRITE_EMIT_DRAIN)===WRITE_EMIT_DRAIN&&S.emit("drain")),this.updateCallback()}function afterRead(B){B&&this.stream.destroy(B),this.stream._duplexState&=READ_NOT_ACTIVE,this.readAhead===!1&&!(this.stream._duplexState&READ_RESUMED)&&(this.stream._duplexState&=READ_NO_READ_AHEAD),this.updateCallback()}function updateReadNT(){this.stream._duplexState&READ_UPDATING||(this.stream._duplexState&=READ_NOT_NEXT_TICK,this.update())}function updateWriteNT(){this.stream._duplexState&WRITE_UPDATING||(this.stream._duplexState&=WRITE_NOT_NEXT_TICK,this.update())}function tickDrains(B){for(let S=0;S<B.length;S++)--B[S].writes===0&&(B.shift().resolve(!0),S--)}function afterOpen(B){const S=this.stream;B&&S.destroy(B),S._duplexState&DESTROYING||(S._duplexState&READ_PRIMARY_STATUS||(S._duplexState|=READ_PRIMARY),S._duplexState&WRITE_PRIMARY_STATUS||(S._duplexState|=WRITE_PRIMARY),S.emit("open")),S._duplexState&=NOT_ACTIVE,S._writableState!==null&&S._writableState.updateCallback(),S._readableState!==null&&S._readableState.updateCallback()}function afterTransform(B,S){S!=null&&this.push(S),this._writableState.afterWrite(B)}function newListener(B){this._readableState!==null&&(B==="data"&&(this._duplexState|=READ_EMIT_DATA|READ_RESUMED_READ_AHEAD,this._readableState.updateNextTick()),B==="readable"&&(this._duplexState|=READ_EMIT_READABLE,this._readableState.updateNextTick())),this._writableState!==null&&B==="drain"&&(this._duplexState|=WRITE_EMIT_DRAIN,this._writableState.updateNextTick())}class Stream extends EventEmitter{constructor(S){super(),this._duplexState=0,this._readableState=null,this._writableState=null,S&&(S.open&&(this._open=S.open),S.destroy&&(this._destroy=S.destroy),S.predestroy&&(this._predestroy=S.predestroy),S.signal&&S.signal.addEventListener("abort",abort.bind(this))),this.on("newListener",newListener)}_open(S){S(null)}_destroy(S){S(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&DESTROYED)!==0}get destroying(){return(this._duplexState&DESTROY_STATUS)!==0}destroy(S){this._duplexState&DESTROY_STATUS||(S||(S=STREAM_DESTROYED),this._duplexState=(this._duplexState|DESTROYING)&NON_PRIMARY,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=S),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=S),this._duplexState|=PREDESTROYING,this._predestroy(),this._duplexState&=NOT_PREDESTROYING,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}}class Readable extends Stream{constructor(S){super(S),this._duplexState|=OPENING|WRITE_DONE|READ_READ_AHEAD,this._readableState=new ReadableState(this,S),S&&(this._readableState.readAhead===!1&&(this._duplexState&=READ_NO_READ_AHEAD),S.read&&(this._read=S.read),S.eagerOpen&&this._readableState.updateNextTick(),S.encoding&&this.setEncoding(S.encoding))}setEncoding(S){const D=new TextDecoder$1(S),q=this._readableState.map||echo;return this._readableState.map=O,this;function O($){const j=D.push($);return j===""&&($.byteLength!==0||D.remaining>0)?null:q(j)}}_read(S){S(null)}pipe(S,D){return this._readableState.updateNextTick(),this._readableState.pipe(S,D),S}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(S){return this._readableState.updateNextTick(),this._readableState.push(S)}unshift(S){return this._readableState.updateNextTick(),this._readableState.unshift(S)}resume(){return this._duplexState|=READ_RESUMED_READ_AHEAD,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=this._readableState.readAhead===!1?READ_PAUSED_NO_READ_AHEAD:READ_PAUSED,this}static _fromAsyncIterator(S,D){let q;const O=new Readable({...D,read(j){S.next().then($).then(j.bind(null,null)).catch(j)},predestroy(){q=S.return()},destroy(j){if(!q)return j(null);q.then(j.bind(null,null)).catch(j)}});return O;function $(j){j.done?O.push(null):O.push(j.value)}}static from(S,D){if(isReadStreamx(S))return S;if(S[asyncIterator])return this._fromAsyncIterator(S[asyncIterator](),D);Array.isArray(S)||(S=S===void 0?[]:[S]);let q=0;return new Readable({...D,read(O){this.push(q===S.length?null:S[q++]),O(null)}})}static isBackpressured(S){return(S._duplexState&READ_BACKPRESSURE_STATUS)!==0||S._readableState.buffered>=S._readableState.highWaterMark}static isPaused(S){return(S._duplexState&READ_RESUMED)===0}[asyncIterator](){const S=this;let D=null,q=null,O=null;return this.on("error",K=>{D=K}),this.on("readable",$),this.on("close",j),{[asyncIterator](){return this},next(){return new Promise(function(K,H){q=K,O=H;const Y=S.read();Y!==null?G(Y):S._duplexState&DESTROYED&&G(null)})},return(){return V(null)},throw(K){return V(K)}};function $(){q!==null&&G(S.read())}function j(){q!==null&&G(null)}function G(K){O!==null&&(D?O(D):K===null&&!(S._duplexState&READ_DONE)?O(STREAM_DESTROYED):q({value:K,done:K===null}),O=q=null)}function V(K){return S.destroy(K),new Promise((H,Y)=>{if(S._duplexState&DESTROYED)return H({value:void 0,done:!0});S.once("close",function(){K?Y(K):H({value:void 0,done:!0})})})}}}class Writable extends Stream{constructor(S){super(S),this._duplexState|=OPENING|READ_DONE,this._writableState=new WritableState(this,S),S&&(S.writev&&(this._writev=S.writev),S.write&&(this._write=S.write),S.final&&(this._final=S.final),S.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=WRITE_CORKED}uncork(){this._duplexState&=WRITE_NOT_CORKED,this._writableState.updateNextTick()}_writev(S,D){D(null)}_write(S,D){this._writableState.autoBatch(S,D)}_final(S){S(null)}static isBackpressured(S){return(S._duplexState&WRITE_BACKPRESSURE_STATUS)!==0}static drained(S){if(S.destroyed)return Promise.resolve(!1);const D=S._writableState,O=(isWritev(S)?Math.min(1,D.queue.length):D.queue.length)+(S._duplexState&WRITE_WRITING?1:0);return O===0?Promise.resolve(!0):(D.drains===null&&(D.drains=[]),new Promise($=>{D.drains.push({writes:O,resolve:$})}))}write(S){return this._writableState.updateNextTick(),this._writableState.push(S)}end(S){return this._writableState.updateNextTick(),this._writableState.end(S),this}}class Duplex extends Readable{constructor(S){super(S),this._duplexState=OPENING|this._duplexState&READ_READ_AHEAD,this._writableState=new WritableState(this,S),S&&(S.writev&&(this._writev=S.writev),S.write&&(this._write=S.write),S.final&&(this._final=S.final))}cork(){this._duplexState|=WRITE_CORKED}uncork(){this._duplexState&=WRITE_NOT_CORKED,this._writableState.updateNextTick()}_writev(S,D){D(null)}_write(S,D){this._writableState.autoBatch(S,D)}_final(S){S(null)}write(S){return this._writableState.updateNextTick(),this._writableState.push(S)}end(S){return this._writableState.updateNextTick(),this._writableState.end(S),this}}class Transform extends Duplex{constructor(S){super(S),this._transformState=new TransformState(this),S&&(S.transform&&(this._transform=S.transform),S.flush&&(this._flush=S.flush))}_write(S,D){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=S:this._transform(S,this._transformState.afterTransform)}_read(S){if(this._transformState.data!==null){const D=this._transformState.data;this._transformState.data=null,S(null),this._transform(D,this._transformState.afterTransform)}else S(null)}destroy(S){super.destroy(S),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(S,D){D(null,S)}_flush(S){S(null)}_final(S){this._transformState.afterFinal=S,this._flush(transformAfterFlush.bind(this))}}class PassThrough extends Transform{}function transformAfterFlush(B,S){const D=this._transformState.afterFinal;if(B)return D(B);S!=null&&this.push(S),this.push(null),D(null)}function pipelinePromise(...B){return new Promise((S,D)=>pipeline(...B,q=>{if(q)return D(q);S()}))}function pipeline(B,...S){const D=Array.isArray(B)?[...B,...S]:[B,...S],q=D.length&&typeof D[D.length-1]=="function"?D.pop():null;if(D.length<2)throw new Error("Pipeline requires at least 2 streams");let O=D[0],$=null,j=null;for(let K=1;K<D.length;K++)$=D[K],isStreamx(O)?O.pipe($,V):(G(O,!0,K>1,V),O.pipe($)),O=$;if(q){let K=!1;const H=isStreamx($)||!!($._writableState&&$._writableState.autoDestroy);$.on("error",Y=>{j===null&&(j=Y)}),$.on("finish",()=>{K=!0,H||q(j)}),H&&$.on("close",()=>q(j||(K?null:PREMATURE_CLOSE)))}return $;function G(K,H,Y,X){K.on("error",X),K.on("close",Q);function Q(){if(K._readableState&&!K._readableState.ended||Y&&K._writableState&&!K._writableState.ended)return X(PREMATURE_CLOSE)}}function V(K){if(!(!K||j)){j=K;for(const H of D)H.destroy(K)}}}function echo(B){return B}function isStream$1(B){return!!B._readableState||!!B._writableState}function isStreamx(B){return typeof B._duplexState=="number"&&isStream$1(B)}function isEnded(B){return!!B._readableState&&B._readableState.ended}function isFinished(B){return!!B._writableState&&B._writableState.ended}function getStreamError(B,S={}){const D=B._readableState&&B._readableState.error||B._writableState&&B._writableState.error;return!S.all&&D===STREAM_DESTROYED?null:D}function isReadStreamx(B){return isStreamx(B)&&B.readable}function isTypedArray$2(B){return typeof B=="object"&&B!==null&&typeof B.byteLength=="number"}function defaultByteLength(B){return isTypedArray$2(B)?B.byteLength:1024}function noop$1(){}function abort(){this.destroy(new Error("Stream aborted."))}function isWritev(B){return B._writev!==Writable.prototype._writev&&B._writev!==Duplex.prototype._writev}var streamx={pipeline,pipelinePromise,isStream:isStream$1,isStreamx,isEnded,isFinished,getStreamError,Stream,Writable,Readable,Duplex,Transform,PassThrough};function assign(B,S){for(const D in S)Object.defineProperty(B,D,{value:S[D],enumerable:!0,configurable:!0});return B}function createError(B,S,D){if(!B||typeof B=="string")throw new TypeError("Please pass an Error to err-code");D||(D={}),typeof S=="object"&&(D=S,S=""),S&&(D.code=S);try{return assign(B,D)}catch{D.message=B.message,D.stack=B.stack;const O=function(){};return O.prototype=Object.create(Object.getPrototypeOf(B)),assign(new O,D)}}var errCode=createError;const errCode$1=getDefaultExportFromCjs(errCode);/* Common package for dealing with hex/string/uint8 conversions (and sha1 hashing)
*
* @author   Jimmy Wärting <jimmy@warting.se> (https://jimmy.warting.se/opensource)
* @license  MIT
*/const alphabet="0123456789abcdef",encodeLookup=[];for(let B=0;B<256;B++)encodeLookup[B]=alphabet[B>>4&15]+alphabet[B&15];const arr2hex=B=>{const S=B.length;let D="",q=0;for(;q<S;)D+=encodeLookup[B[q++]];return D};var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$2=0;i$2<chars.length;i$2++)lookup$1[chars.charCodeAt(i$2)]=i$2;new TextDecoder;const encoder=new TextEncoder,text2arr=B=>encoder.encode(B),scope=typeof window<"u"?window:self,crypto$2=scope.crypto||scope.msCrypto||{};crypto$2.subtle||crypto$2.webkitSubtle;const randomBytes=B=>{const S=new Uint8Array(B);return crypto$2.getRandomValues(S)};/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const Debug=debug("simple-peer"),MAX_BUFFERED_AMOUNT=64*1024,ICECOMPLETE_TIMEOUT=5*1e3,CHANNEL_CLOSING_TIMEOUT=5*1e3;function filterTrickle(B){return B.replace(/a=ice-options:trickle\s\n/g,"")}function warn(B){console.warn(B)}let Peer$1=class Gt extends streamx.Duplex{constructor(D){D=Object.assign({allowHalfOpen:!1},D);super(D);Lt(this,"_pc");if(this.__objectMode=!!D.objectMode,this._id=arr2hex(randomBytes(4)).slice(0,7),this._debug("new peer %o",D),this.channelName=D.initiator?D.channelName||arr2hex(randomBytes(20)):null,this.initiator=D.initiator||!1,this.channelConfig=D.channelConfig||Gt.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},Gt.config,D.config),this.offerOptions=D.offerOptions||{},this.answerOptions=D.answerOptions||{},this.sdpTransform=D.sdpTransform||(q=>q),this.trickle=D.trickle!==void 0?D.trickle:!0,this.allowHalfTrickle=D.allowHalfTrickle!==void 0?D.allowHalfTrickle:!1,this.iceCompleteTimeout=D.iceCompleteTimeout||ICECOMPLETE_TIMEOUT,this._destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,!RTCPeerConnection$1)throw errCode$1(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new RTCPeerConnection$1(this.config)}catch(q){this.__destroy(errCode$1(q,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=q=>{this._onIceCandidate(q)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(q=>{this.__destroy(errCode$1(q,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=q=>{this._setupData(q)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(D){if(!this._destroying){if(this.destroyed)throw errCode$1(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof D=="string")try{D=JSON.parse(D)}catch{D={}}this._debug("signal()"),D.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),D.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(D.transceiverRequest.kind,D.transceiverRequest.init)),D.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(D.candidate):this._pendingCandidates.push(D.candidate)),D.sdp&&this._pc.setRemoteDescription(new RTCSessionDescription$1(D)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(q=>{this._addIceCandidate(q)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(q=>{this.__destroy(errCode$1(q,"ERR_SET_REMOTE_DESCRIPTION"))}),!D.sdp&&!D.candidate&&!D.renegotiate&&!D.transceiverRequest&&this.__destroy(errCode$1(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(D){const q=new RTCIceCandidate(D);this._pc.addIceCandidate(q).catch(O=>{!q.address||q.address.endsWith(".local")?warn("Ignoring unsupported ICE candidate."):this.__destroy(errCode$1(O,"ERR_ADD_ICE_CANDIDATE"))})}send(D){if(!this._destroying){if(this.destroyed)throw errCode$1(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(D)}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,queueMicrotask(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this._destroying){if(this.destroyed)throw errCode$1(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}_final(D){this._readableState.ended||this.push(null),D(null)}__destroy(D){this.end(),this._destroy(()=>{},D)}_destroy(D,q){this.destroyed||this._destroying||(this._destroying=!0,this._debug("destroying (error: %s)",q&&(q.message||q)),setTimeout(()=>{if(this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,q&&this.emit("error",q),D()},0))}_setupData(D){if(!D.channel)return this.__destroy(errCode$1(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=D.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=MAX_BUFFERED_AMOUNT),this.channelName=this._channel.label,this._channel.onmessage=O=>{this._onChannelMessage(O)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=O=>{const $=O.error instanceof Error?O.error:new Error(`Datachannel error: ${O.message} ${O.filename}:${O.lineno}:${O.colno}`);this.__destroy(errCode$1($,"ERR_DATA_CHANNEL"))};let q=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(q&&this._onChannelClose(),q=!0):q=!1},CHANNEL_CLOSING_TIMEOUT)}_write(D,q){if(this.destroyed)return q(errCode$1(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(D)}catch(O){return this.__destroy(errCode$1(O,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>MAX_BUFFERED_AMOUNT?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=q):q(null)}else this._debug("write before connect"),this._chunk=D,this._cb=q}_onFinish(){if(this.destroyed)return;const D=()=>{setTimeout(()=>this.__destroy(),1e3)};this._connected?D():this.once("connect",D)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(D=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(D.sdp=filterTrickle(D.sdp)),D.sdp=this.sdpTransform(D.sdp);const q=()=>{if(this.destroyed)return;const j=this._pc.localDescription||D;this._debug("signal"),this.emit("signal",{type:j.type,sdp:j.sdp})},O=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?q():this.once("_iceComplete",q))},$=j=>{this.__destroy(errCode$1(j,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(D).then(O).catch($)}).catch(D=>{this.__destroy(errCode$1(D,"ERR_CREATE_OFFER"))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(D=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(D.sdp=filterTrickle(D.sdp)),D.sdp=this.sdpTransform(D.sdp);const q=()=>{var G;if(this.destroyed)return;const j=this._pc.localDescription||D;this._debug("signal"),this.emit("signal",{type:j.type,sdp:j.sdp}),this.initiator||(G=this._requestMissingTransceivers)==null||G.call(this)},O=()=>{this.destroyed||(this.trickle||this._iceComplete?q():this.once("_iceComplete",q))},$=j=>{this.__destroy(errCode$1(j,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(D).then(O).catch($)}).catch(D=>{this.__destroy(errCode$1(D,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._destroying||this._pc.connectionState==="failed"&&this.__destroy(errCode$1(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const D=this._pc.iceConnectionState,q=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",D,q),this.emit("iceStateChange",D,q),(D==="connected"||D==="completed")&&(this._pcReady=!0,this._maybeReady()),D==="failed"&&this.__destroy(errCode$1(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),D==="closed"&&this.__destroy(errCode$1(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(D){const q=O=>(Object.prototype.toString.call(O.values)==="[object Array]"&&O.values.forEach($=>{Object.assign(O,$)}),O);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(O=>{const $=[];O.forEach(j=>{$.push(q(j))}),D(null,$)},O=>D(O)):this._pc.getStats.length>0?this._pc.getStats(O=>{if(this.destroyed)return;const $=[];O.result().forEach(j=>{const G={};j.names().forEach(V=>{G[V]=j.stat(V)}),G.id=j.id,G.type=j.type,G.timestamp=j.timestamp,$.push(q(G))}),D(null,$)},O=>D(O)):D(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const D=()=>{this.destroyed||this._destroying||this.getStats((q,O)=>{if(this.destroyed||this._destroying)return;q&&(O=[]);const $={},j={},G={};let V=!1;O.forEach(H=>{(H.type==="remotecandidate"||H.type==="remote-candidate")&&($[H.id]=H),(H.type==="localcandidate"||H.type==="local-candidate")&&(j[H.id]=H),(H.type==="candidatepair"||H.type==="candidate-pair")&&(G[H.id]=H)});const K=H=>{V=!0;let Y=j[H.localCandidateId];Y&&(Y.ip||Y.address)?(this.localAddress=Y.ip||Y.address,this.localPort=Number(Y.port)):Y&&Y.ipAddress?(this.localAddress=Y.ipAddress,this.localPort=Number(Y.portNumber)):typeof H.googLocalAddress=="string"&&(Y=H.googLocalAddress.split(":"),this.localAddress=Y[0],this.localPort=Number(Y[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let X=$[H.remoteCandidateId];X&&(X.ip||X.address)?(this.remoteAddress=X.ip||X.address,this.remotePort=Number(X.port)):X&&X.ipAddress?(this.remoteAddress=X.ipAddress,this.remotePort=Number(X.portNumber)):typeof H.googRemoteAddress=="string"&&(X=H.googRemoteAddress.split(":"),this.remoteAddress=X[0],this.remotePort=Number(X[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(O.forEach(H=>{H.type==="transport"&&H.selectedCandidatePairId&&K(G[H.selectedCandidatePairId]),(H.type==="googCandidatePair"&&H.googActiveConnection==="true"||(H.type==="candidatepair"||H.type==="candidate-pair")&&H.selected)&&K(H)}),!V&&(!Object.keys(G).length||Object.keys(j).length)){setTimeout(D,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(Y){return this.__destroy(errCode$1(Y,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const H=this._cb;this._cb=null,H(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};D()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>MAX_BUFFERED_AMOUNT||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(D=>{this._pc.removeTrack(D),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(D){this.destroyed||(D.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:D.candidate.candidate,sdpMLineIndex:D.candidate.sdpMLineIndex,sdpMid:D.candidate.sdpMid}}):!D.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),D.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(D){if(this.destroyed)return;let q=D.data;q instanceof ArrayBuffer?q=new Uint8Array(q):this.__objectMode===!1&&(q=text2arr(q)),this.push(q)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const D=this._cb;this._cb=null,D(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.__destroy())}_debug(){const D=[].slice.call(arguments);D[0]="["+this._id+"] "+D[0],Debug.apply(null,D)}};Peer$1.WEBRTC_SUPPORT=!!RTCPeerConnection$1;Peer$1.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};Peer$1.channelConfig={};/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */class Peer extends Peer$1{constructor(S={}){super(S),this._pc&&(this.streams=S.streams||(S.stream?[S.stream]:[]),this._senderMap=new Map,this.streams&&this.streams.forEach(D=>{this.addStream(D)}),this._pc.ontrack=D=>{this._onTrack(D)})}addTransceiver(S,D){if(!this._destroying){if(this.destroyed)throw errCode$1(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(S,D),this._needsNegotiation()}catch(q){this.__destroy(errCode$1(q,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:S,init:D}})}}addStream(S){if(!this._destroying){if(this.destroyed)throw errCode$1(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),S.getTracks().forEach(D=>{this.addTrack(D,S)})}}addTrack(S,D){if(this._destroying)return;if(this.destroyed)throw errCode$1(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const q=this._senderMap.get(S)||new Map;let O=q.get(D);if(!O)O=this._pc.addTrack(S,D),q.set(D,O),this._senderMap.set(S,q),this._needsNegotiation();else throw O.removed?errCode$1(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):errCode$1(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(S,D,q){if(this._destroying)return;if(this.destroyed)throw errCode$1(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const O=this._senderMap.get(S),$=O?O.get(q):null;if(!$)throw errCode$1(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");D&&this._senderMap.set(D,O),$.replaceTrack!=null?$.replaceTrack(D):this.__destroy(errCode$1(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(S,D){if(this._destroying)return;if(this.destroyed)throw errCode$1(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const q=this._senderMap.get(S),O=q?q.get(D):null;if(!O)throw errCode$1(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{O.removed=!0,this._pc.removeTrack(O)}catch($){$.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(O):this.__destroy(errCode$1($,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(S){if(!this._destroying){if(this.destroyed)throw errCode$1(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),S.getTracks().forEach(D=>{this.removeTrack(D,S)})}}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(S=>{!S.mid&&S.sender.track&&!S.requested&&(S.requested=!0,this.addTransceiver(S.sender.track.kind))})}_onTrack(S){this.destroyed||S.streams.forEach(D=>{this._debug("on track"),this.emit("track",S.track,D),this._remoteTracks.push({track:S.track,stream:D}),!this._remoteStreams.some(q=>q.id===D.id)&&(this._remoteStreams.push(D),queueMicrotask(()=>{this._debug("on stream"),this.emit("stream",D)}))})}}const dataEvent="data",signalEvent="signal",initPeer=(B,S)=>{const D=new Peer({iceServers:[{urls:defaultIceServers}],...S,initiator:B,trickle:!1}),q=$=>O.push($);let O=[];return D.on(dataEvent,q),{id:D._id,created:Date.now(),connection:D._pc,get channel(){return D._channel},get isDead(){return D.destroyed},signal:$=>new Promise(j=>{B||D.on(signalEvent,j),D.signal($)}),sendData:$=>D.send($),destroy:()=>D.destroy(),setHandlers:$=>Object.entries($).forEach(([j,G])=>D.on(j,G)),offerPromise:B?new Promise($=>D.on(signalEvent,$)):Promise.resolve(),addStream:$=>D.addStream($),removeStream:$=>D.removeStream($),addTrack:($,j)=>D.addTrack($,j),removeTrack:($,j)=>D.removeTrack($,j),replaceTrack:($,j,G)=>D.replaceTrack($,j,G),drainEarlyData:$=>{D.off(dataEvent,q),O.forEach($),O=null}}},defaultIceServers=[...alloc(5,(B,S)=>`stun:stun${S||""}.l.google.com:19302`),"stun:global.stun.twilio.com:3478"],TypedArray=Object.getPrototypeOf(Uint8Array),typeByteLimit=12,typeIndex=0,nonceIndex=typeIndex+typeByteLimit,tagIndex=nonceIndex+1,progressIndex=tagIndex+1,payloadIndex=progressIndex+1,chunkSize=16*2**10-payloadIndex,oneByteMax=255,buffLowEvent="bufferedamountlow",internalNs=B=>"@_"+B,room=(B,S,D)=>{const q={},O={},$={},j={},G={},V={},K={},H={onPeerJoin:noOp,onPeerLeave:noOp,onPeerStream:noOp,onPeerTrack:noOp},Y=(u,T)=>(u?Array.isArray(u)?u:[u]:keys(q)).flatMap(P=>{const N=q[P];return N?T(P,N):(console.warn(`${libName}: no peer with id ${P} found`),[])}),X=u=>{q[u]&&(delete q[u],delete j[u],delete G[u],H.onPeerLeave(u),S(u))},Q=u=>{if(O[u])return $[u];if(!u)throw mkErr("action type argument is required");const T=encodeBytes(u);if(T.byteLength>typeByteLimit)throw mkErr(`action type string "${u}" (${T.byteLength}b) exceeds byte limit (${typeByteLimit}). Hint: choose a shorter name.`);const P=new Uint8Array(typeByteLimit);P.set(T);let N=0;return O[u]={onComplete:noOp,onProgress:noOp,setOnComplete:L=>O[u]={...O[u],onComplete:L},setOnProgress:L=>O[u]={...O[u],onProgress:L},send:async(L,W,Z,U)=>{if(Z&&typeof Z!="object")throw mkErr("action meta argument must be an object");const M=typeof L;if(M==="undefined")throw mkErr("action data cannot be undefined");const F=M!=="string",te=L instanceof Blob,ie=te||L instanceof ArrayBuffer||L instanceof TypedArray;if(Z&&!ie)throw mkErr("action meta argument can only be used with binary data");const he=ie?new Uint8Array(te?await L.arrayBuffer():L):encodeBytes(F?toJson(L):L),pe=Z?encodeBytes(toJson(Z)):null,de=Math.ceil(he.byteLength/chunkSize)+(Z?1:0)||1,oe=alloc(de,(le,ve)=>{const Me=ve===de-1,ye=Z&&ve===0,ce=new Uint8Array(payloadIndex+(ye?pe.byteLength:Me?he.byteLength-chunkSize*(de-(Z?2:1)):chunkSize));return ce.set(P),ce.set([N],nonceIndex),ce.set([Me|ye<<1|ie<<2|F<<3],tagIndex),ce.set([Math.round((ve+1)/de*oneByteMax)],progressIndex),ce.set(Z?ye?pe:he.subarray((ve-1)*chunkSize,ve*chunkSize):he.subarray(ve*chunkSize,(ve+1)*chunkSize),payloadIndex),ce});return N=N+1&oneByteMax,all(Y(W,async(le,ve)=>{const{channel:Me}=ve;let ye=0;for(;ye<de;){const ce=oe[ye];if(Me.bufferedAmount>Me.bufferedAmountLowThreshold&&await new Promise(Se=>{const et=()=>{Me.removeEventListener(buffLowEvent,et),Se()};Me.addEventListener(buffLowEvent,et)}),!q[le])break;ve.sendData(ce),ye++,U==null||U(ce[progressIndex]/oneByteMax,le,Z)}}))}},$[u]||($[u]=[O[u].send,O[u].setOnComplete,O[u].setOnProgress])},ee=(u,T)=>{var de,oe;const P=new Uint8Array(T),N=decodeBytes(P.subarray(typeIndex,nonceIndex)).replaceAll("\0",""),[L]=P.subarray(nonceIndex,tagIndex),[W]=P.subarray(tagIndex,progressIndex),[Z]=P.subarray(progressIndex,payloadIndex),U=P.subarray(payloadIndex),M=!!(W&1),F=!!(W&2),te=!!(W&4),ie=!!(W&8);if(!O[N]){console.warn(`${libName}: received message with unregistered type (${N})`);return}j[u]||(j[u]={}),(de=j[u])[N]||(de[N]={});const he=(oe=j[u][N])[L]||(oe[L]={chunks:[]});if(F?he.meta=fromJson(decodeBytes(U)):he.chunks.push(U),O[N].onProgress(Z/oneByteMax,u,he.meta),!M)return;const pe=new Uint8Array(he.chunks.reduce((le,ve)=>le+ve.byteLength,0));if(he.chunks.reduce((le,ve)=>(pe.set(ve,le),le+ve.byteLength),0),delete j[u][N][L],te)O[N].onComplete(pe,u,he.meta);else{const le=decodeBytes(pe);O[N].onComplete(ie?fromJson(le):le,u)}},re=async()=>{await Pe(""),await new Promise(u=>setTimeout(u,99)),entries(q).forEach(([u,T])=>{T.destroy(),delete q[u]}),D()},[ne,se]=Q(internalNs("ping")),[ae,fe]=Q(internalNs("pong")),[ue,_e]=Q(internalNs("signal")),[ge,Ae]=Q(internalNs("stream")),[Te,be]=Q(internalNs("track")),[Pe,J]=Q(internalNs("leave"));return B((u,T)=>{var P;q[T]||(q[T]=u,u.setHandlers({data:N=>ee(T,N),stream:N=>{H.onPeerStream(N,T,V[T]),delete V[T]},track:(N,L)=>{H.onPeerTrack(N,L,T,K[T]),delete K[T]},signal:N=>ue(N,T),close:()=>X(T),error:()=>X(T)}),H.onPeerJoin(T),(P=u.drainEarlyData)==null||P.call(u,N=>ee(T,N)))}),se((u,T)=>ae("",T)),fe((u,T)=>{var P;(P=G[T])==null||P.call(G),delete G[T]}),_e((u,T)=>{var P;return(P=q[T])==null?void 0:P.signal(u)}),Ae((u,T)=>V[T]=u),be((u,T)=>K[T]=u),J((u,T)=>X(T)),isBrowser&&addEventListener("beforeunload",re),{makeAction:Q,leave:re,ping:async u=>{if(!u)throw mkErr("ping() must be called with target peer ID");const T=Date.now();return ne("",u),await new Promise(P=>G[u]=P),Date.now()-T},getPeers:()=>fromEntries(entries(q).map(([u,T])=>[u,T.connection])),addStream:(u,T,P)=>Y(T,async(N,L)=>{P&&await ge(P,N),L.addStream(u)}),removeStream:(u,T)=>Y(T,(P,N)=>N.removeStream(u)),addTrack:(u,T,P,N)=>Y(P,async(L,W)=>{N&&await Te(N,L),W.addTrack(u,T)}),removeTrack:(u,T,P)=>Y(P,(N,L)=>L.removeTrack(u,T)),replaceTrack:(u,T,P,N,L)=>Y(N,async(W,Z)=>{L&&await Te(L,W),Z.replaceTrack(u,T,P)}),onPeerJoin:u=>H.onPeerJoin=u,onPeerLeave:u=>H.onPeerLeave=u,onPeerStream:u=>H.onPeerStream=u,onPeerTrack:u=>H.onPeerTrack=u}},poolSize=20,announceIntervalMs=5333,offerTtl=57333,strategy=({init:B,subscribe:S,announce:D})=>{const q={};let O=!1,$,j,G;return(V,K,H)=>{var L;const{appId:Y}=V;if((L=q[Y])!=null&&L[K])return q[Y][K];const X={},Q={},ee=topicPath(libName,Y,K),re=sha1$1(ee),ne=sha1$1(topicPath(ee,selfId)),se=genKey(V.password||"",Y,K),ae=W=>async Z=>({type:Z.type,sdp:await W(se,Z.sdp)}),fe=ae(decrypt),ue=ae(encrypt),_e=()=>initPeer(!0,V.rtcConfig),ge=(W,Z,U)=>{var M;if(Q[Z]){Q[Z]!==W&&W.destroy();return}Q[Z]=W,N(W,Z),(M=X[Z])==null||M.forEach((F,te)=>{te!==U&&F.destroy()}),delete X[Z]},Ae=(W,Z)=>{Q[Z]===W&&delete Q[Z]},Te=(W,Z)=>{var M;if(Q[W])return;const U=(M=X[W])==null?void 0:M[Z];U&&(delete X[W][Z],U.destroy())},be=W=>(j.push(...alloc(W,_e)),all(j.splice(0,W).map(Z=>Z.offerPromise.then(ue).then(U=>({peer:Z,offer:U}))))),Pe=(W,Z)=>H==null?void 0:H({error:`incorrect password (${V.password}) when decrypting ${Z}`,appId:Y,peerId:W,roomId:K}),J=W=>async(Z,U,M)=>{var oe,le,ve;const[F,te]=await all([re,ne]);if(Z!==F&&Z!==te)return;const{peerId:ie,offer:he,answer:pe,peer:de}=typeof U=="string"?fromJson(U):U;if(!(ie===selfId||Q[ie])){if(ie&&!he&&!pe){if((oe=X[ie])!=null&&oe[W])return;const[[{peer:Me,offer:ye}],ce]=await all([be(1),sha1$1(topicPath(ee,ie))]);X[ie]||(X[ie]=[]),X[ie][W]=Me,setTimeout(()=>Te(ie,W),u[W]*.9),Me.setHandlers({connect:()=>ge(Me,ie,W),close:()=>Ae(Me,ie)}),M(ce,toJson({peerId:selfId,offer:ye}))}else if(he){if(((le=X[ie])==null?void 0:le[W])&&selfId>ie)return;const ye=initPeer(!1,V.rtcConfig);ye.setHandlers({connect:()=>ge(ye,ie,W),close:()=>Ae(ye,ie)});let ce;try{ce=await fe(he)}catch{Pe(ie,"offer");return}if(ye.isDead)return;const[Se,et]=await all([sha1$1(topicPath(ee,ie)),ye.signal(ce)]);M(Se,toJson({peerId:selfId,answer:await ue(et)}))}else if(pe){let Me;try{Me=await fe(pe)}catch{Pe(ie,"answer");return}if(de)de.setHandlers({connect:()=>ge(de,ie,W),close:()=>Ae(de,ie)}),de.signal(Me);else{const ye=(ve=X[ie])==null?void 0:ve[W];ye&&!ye.isDead&&ye.signal(Me)}}}};if(!V)throw mkErr("requires a config map as the first argument");if(!Y&&!V.firebaseApp)throw mkErr("config map is missing appId field");if(!K)throw mkErr("roomId argument required");if(!O){const W=B(V);j=alloc(poolSize,_e),$=Array.isArray(W)?W:[W],O=!0,G=setInterval(()=>j=j.filter(Z=>{const U=Date.now()-Z.created<offerTtl;return U||Z.destroy(),U}),offerTtl*1.03)}const u=$.map(()=>announceIntervalMs),T=[],P=$.map(async(W,Z)=>S(await W,await re,await ne,J(Z),be));all([re,ne]).then(([W,Z])=>{const U=async(M,F)=>{const te=await D(M,W,Z);typeof te=="number"&&(u[F]=te),T[F]=setTimeout(()=>U(M,F),u[F])};P.forEach(async(M,F)=>{await M,U(await $[F],F)})});let N=noOp;return q[Y]||(q[Y]={}),q[Y][K]=room(W=>N=W,W=>delete Q[W],()=>{delete q[Y][K],T.forEach(clearTimeout),P.forEach(async W=>(await W)()),clearInterval(G)})}},defaultRedundancy=5,kind=29333,tag="x",eventMsgType="EVENT",privateKey=isBrowser&&schnorr.utils.randomPrivateKey(),publicKey=isBrowser&&toHex(schnorr.getPublicKey(privateKey)),subIdToTopic={},msgHandlers={},now=()=>Math.floor(Date.now()/1e3),createEvent=async(B,S)=>{const D={kind,content:S,pubkey:publicKey,created_at:now(),tags:[[tag,B]]},q=toHex(new Uint8Array(await crypto.subtle.digest("SHA-256",encodeBytes(toJson([0,D.pubkey,D.created_at,D.kind,D.tags,D.content])))));return toJson([eventMsgType,{...D,id:q,sig:toHex(await schnorr.sign(q,privateKey))}])},subscribe=(B,S)=>(subIdToTopic[B]=S,toJson(["REQ",B,{kinds:[kind],since:now(),["#"+tag]:[S]}])),unsubscribe=B=>(delete subIdToTopic[B],toJson(["CLOSE",B])),joinRoom=strategy({init:B=>getRelays(B,defaultRelayUrls,defaultRedundancy).map(S=>{const D=makeSocket(S,q=>{var V;const[O,$,j,G]=fromJson(q);if(O!==eventMsgType){const K=`${libName}: relay failure from ${D.url} - `;O==="NOTICE"?console.warn(K+$):O==="OK"&&!j&&console.warn(K+G);return}(V=msgHandlers[$])==null||V.call(msgHandlers,subIdToTopic[$],j.content)});return D.ready}),subscribe:(B,S,D,q)=>{const O=genId(64),$=genId(64);return msgHandlers[O]=msgHandlers[$]=(j,G)=>q(j,G,async(V,K)=>B.send(await createEvent(V,K))),B.send(subscribe(O,S)),B.send(subscribe($,D)),()=>{B.send(unsubscribe(O)),B.send(unsubscribe($)),delete msgHandlers[O],delete msgHandlers[$]}},announce:async(B,S)=>B.send(await createEvent(S,toJson({peerId:selfId})))}),defaultRelayUrls=["relay.nostr.net","relay.snort.social","relay.piazza.today","relay.exit.pub","nostr.lu.ke","nostr.mom","relay.urbanzap.space","nostr.data.haus","nostr.sathoarder.com","relay.nostromo.social","relay.nostr.bg","nostr.stakey.net","nostr.vulpem.com","a.nos.lol","eu.purplerelay.com","nostr2.sanhauf.com","e.nos.lol"].map(B=>"wss://"+B),NoiseSuppressorWorklet_Name="NoiseSuppressorWorklet",NoiseSuppressorWorklet=""+new URL("../workers/NoiseSuppressorWorklet-9IjTSTAl.js",import.meta.url).href;var analyserFrequencyAverage$1={exports:{}},clamp_1=clamp$1;function clamp$1(B,S,D){return S<D?B<S?S:B>D?D:B:B<D?D:B>S?S:B}var clamp=clamp_1,audioFrequencyToIndex=frequencyToIndex$1;function frequencyToIndex$1(B,S,D){var q=S/2,O=Math.round(B/q*D);return clamp(O,0,D)}var frequencyToIndex=audioFrequencyToIndex;analyserFrequencyAverage$1.exports=analyserFrequencyAverage.bind(null,255);analyserFrequencyAverage$1.exports.floatData=analyserFrequencyAverage.bind(null,1);function analyserFrequencyAverage(B,S,D,q,O){for(var $=S.context.sampleRate,j=S.frequencyBinCount,G=frequencyToIndex(q,$,j),V=frequencyToIndex(O,$,j),K=V-G,H=0;G<V;G++)H+=D[G]/B;return K===0?0:H/K}var analyserFrequencyAverageExports=analyserFrequencyAverage$1.exports,analyserFrequency=analyserFrequencyAverageExports,voiceActivityDetection=function(B,S,D){D=D||{};var q={fftSize:1024,bufferLen:1024,smoothingTimeConstant:.2,minCaptureFreq:85,maxCaptureFreq:255,noiseCaptureDuration:1e3,minNoiseLevel:.3,maxNoiseLevel:.7,avgNoiseMultiplier:1.2,onVoiceStart:function(){},onVoiceStop:function(){},onUpdate:function(J){}},O={};for(var $ in q)O[$]=D.hasOwnProperty($)?D[$]:q[$];var j=0,G=1,V=0,K=0,H=60,Y=5,X=[],Q=!0,ee=void 0,re=!1,ne=null,se=B.createMediaStreamSource(S),ae=B.createAnalyser();ae.smoothingTimeConstant=O.smoothingTimeConstant,ae.fftSize=O.fftSize;var fe=B.createScriptProcessor(O.bufferLen,1,1);_e(),fe.onaudioprocess=Te,Q&&(ne=setTimeout(ue,O.noiseCaptureDuration));function ue(){Q=!1,X=X.filter(function(u){return u}).sort();var J=X.length?X.reduce(function(u,T){return Math.min(u,T)},1):O.minNoiseLevel||.1;j=J*O.avgNoiseMultiplier,O.minNoiseLevel&&j<O.minNoiseLevel&&(j=O.minNoiseLevel),O.maxNoiseLevel&&j>O.maxNoiseLevel&&(j=O.maxNoiseLevel),G=1-j}function _e(){se.connect(ae),ae.connect(fe),fe.connect(B.destination)}function ge(){fe.disconnect(),ae.disconnect(),se.disconnect()}function Ae(){ne&&clearTimeout(ne),ge(),fe.onaudioprocess=null}function Te(){var J=new Uint8Array(ae.frequencyBinCount);ae.getByteFrequencyData(J);var u=analyserFrequency(ae,J,O.minCaptureFreq,O.maxCaptureFreq);if(Q){X.push(u);return}u>=j&&V<H?V++:u<j&&V>K&&V--,re=V>Y,ee!==re&&(re?be():Pe(),ee=re),O.onUpdate(Math.max(0,u-j)/G)}function be(){O.onVoiceStart()}function Pe(){O.onVoiceStop()}return{connect:_e,disconnect:ge,destroy:Ae}};const vad=getDefaultExportFromCjs(voiceActivityDetection),CALL_ACK="CALL_ACCEPT",TIME_TO_WAIT_FOR_ANSWER=35e3,TIME_TO_SHOW_END_CALL_FEEDBACK=3500,TIME_TO_SHOW_CONNECTING=3e4;let timeOuts=[];const usersDeniedTheCall=writable([]),usersAcceptedTheCall=writable([]),connectionOpened=writable(!1),timeCallStarted=writable(null),callInProgress=writable(null),makeCallSound=writable(void 0),callScreenVisible=writable(!1),relaysToTest=["wss://nostr-pub.wellorder.net","wss://brb.io","wss://relay.snort.social","wss://relay.damus.io","wss://nostr.mom","wss://relay.nostr.band","wss://nostr.oxtr.dev","wss://nostr.fmt.wiz.biz","wss://nostr-relay.digitalmob.ro","wss://nostr.openchain.fr"],relaysAvailable=writable(relaysToTest);var VoiceRTCMessageType=(B=>(B.UpdateUser="UPDATE_USER",B.None="NONE",B))(VoiceRTCMessageType||{});function voiceRTCUserToString(B){return`User: ${B.username} (ID: ${B.did}), Video: ${B.videoEnabled}, Audio: ${B.audioEnabled}, Deafened: ${B.isDeafened}`}async function handleStreamMeta(B,S){const D=new window.AudioContext,q=D.createAnalyser();q.fftSize=AUDIO_WINDOW_SIZE,q.smoothingTimeConstant=.1;let O,$=null,j=!1;await D.audioWorklet.addModule(NoiseSuppressorWorklet),O=new AudioWorkletNode(D,NoiseSuppressorWorklet_Name),D.createMediaStreamSource(S).connect(O).connect(q);function V(Y){let X=S.getAudioTracks().some(ee=>!ee.enabled||ee.readyState==="ended");Store$1.getUser(Y).update(ee=>({...ee,media:{...ee.media,is_muted:X,is_playing_audio:j}}))}const H=vad(D,S,{onVoiceStart:()=>{VoiceRTCInstance.localVideoCurrentSrc.volume=1,$&&(clearTimeout($),$=null);let Y=Store$1.getUser(B);log$1.debug(`Voice detected from ${get_store_value(Y).name}.`),j=!0,V(B)},onVoiceStop:()=>{$=setTimeout(()=>{VoiceRTCInstance.localVideoCurrentSrc.volume=0;let Y=Store$1.getUser(B);log$1.debug(`Voice Stopped from ${get_store_value(Y).name}.`),j=!1,V(B)},200)}});return H.connect(),{remove:()=>{q.disconnect(),O&&O.disconnect(),H.disconnect(),H.destroy()}}}class Participant{constructor(S,D){this.remoteVoiceUser={did:"",username:"unknown",videoEnabled:!1,audioEnabled:!1,screenShareEnabled:!1,isDeafened:!1},this.did=S,this.remotePeerId=D,this.remoteVoiceUser={...this.remoteVoiceUser,did:this.did,audioEnabled:!0}}updateUserData(S){var D;this.remoteVoiceUser=S,(D=VoiceRTCInstance.remoteVideoCreator)==null||D.update(this.did,{user:S})}getUser(){return this.remoteVoiceUser}async handleRemoteStream(S){this.streamHandler&&this.streamHandler.remove(),this.streamHandler=await handleStreamMeta(this.did,S),this.stream=S}close(){var S;(S=this.stream)==null||S.getTracks().forEach(D=>D.stop()),this.streamHandler&&this.streamHandler.remove(),VoiceRTCInstance.remoteVideoCreator.delete(this.did)}}class CallRoom{constructor(S){this.participants={},this.start=null,this.room=S;let[D,q]=S.makeAction("messages");this.messageCh=D,this.notify("UPDATE_USER"),q((j,G)=>{VoiceRTCInstance.handleWithDataReceived(j)});let[O,$]=S.makeAction("did_sync");$((j,G)=>{this.participants[j]=new Participant(j,G)}),S.onPeerJoin(async j=>{log$1.debug(`Peer ${j} joined the room`),O(get_store_value(Store$1.state.user).key,j),this.notify("UPDATE_USER",j);let G=await VoiceRTCInstance.getLocalStream();log$1.debug(`Sending local stream ${G} to ${j}`),S.addStream(G,j),playSound(Sounds.Joined),this.start||(this.start=new Date)}),S.onPeerTrack((j,G,V)=>{log$1.debug(`Receiving track from ${G}`)}),S.onPeerLeave(j=>{log$1.debug(`Peer ${j} left the room`);let G=Object.entries(this.participants).find(V=>V[1].remotePeerId===j);G&&(VoiceRTCInstance.remoteVideoCreator.delete(G[0]),delete this.participants[G[0]]),playSound(Sounds.Disconnect),this.empty&&VoiceRTCInstance.leaveCall(!0)}),S.onPeerStream((j,G,V)=>{let K=Object.entries(this.participants).find(H=>H[1].remotePeerId===G);log$1.debug(`Receiving stream from ${G} - ${K==null?void 0:K[1].getUser()}`),K&&(VoiceRTCInstance.remoteVideoCreator.create({user:K[1].getUser(),stream:j}),K[1].handleRemoteStream(j))}),S.onPeerTrack((j,G,V)=>{})}toggleStreams(S,D){var q,O,$;switch(D){case 0:{(q=VoiceRTCInstance.localStream)==null||q.getVideoTracks().forEach(j=>j.enabled=S);break}case 1:{(O=VoiceRTCInstance.localStream)==null||O.getAudioTracks().forEach(j=>j.enabled=!S);break}case 2:{Object.values(this.participants).forEach(G=>{var V;return(V=G.stream)==null?void 0:V.getAudioTracks().forEach(K=>K.enabled=!S)}),($=VoiceRTCInstance.localStream)==null||$.getAudioTracks().forEach(G=>G.enabled=!S);break}}}updateUserData(S){let D=Object.values(this.participants).find(O=>O.did===S.did),q=voiceRTCUserToString(S);log$1.debug(`Updating user data ${q} for ${D}`),D&&D.updateUserData(S)}get send(){return this.messageCh}notify(S,D){let q=get_store_value(Store$1.state.user),O={type:S,channel:VoiceRTCInstance.channel,userInfo:{did:q.key,username:q.name,videoEnabled:VoiceRTCInstance.callOptions.video.enabled,audioEnabled:VoiceRTCInstance.callOptions.audio.enabled,screenShareEnabled:VoiceRTCInstance.isScreenSharing,isDeafened:VoiceRTCInstance.callOptions.audio.deafened,volume:VoiceRTCInstance.callOptions.audio.volume}};this.send(O,D)}get empty(){return Object.keys(this.room.getPeers()).length===0}}const AUDIO_WINDOW_SIZE=512,callTimeout=writable(!1);class VoiceRTC{constructor(S){this.localPeer=null,this.toCall=null,this.localStream=null,this.localVideoCurrentSrc=null,this.call=null,this.incomingConnections=[],this.incomingCallFrom=null,this.invitations=[],this.isScreenSharing=!1,this.screenStream=null,this.callOptions={...S},this.setupLocalPeer(),this.remoteVideoCreator={create:D=>{Store$1.state.activeCallMeta.update(q=>(q[D.user.did]=D,q))},delete:D=>{Store$1.state.activeCallMeta.update(q=>{var O;return q[D]&&((O=q[D].stream)==null||O.getTracks().forEach($=>$.stop()),q[D].stream=null,delete q[D]),q})},update:(D,q)=>{Store$1.state.activeCallMeta.update(O=>{var $,j;if(O[D]){q.user&&(O[D].user=q.user),q.stream&&(O[D].stream=q.stream);const G=document.getElementById(`remote-user-video-${D}`);G&&(log$1.debug(`Updating video element for user ${D}`),G.srcObject=O[D].stream,G.volume=(j=($=q.user)==null?void 0:$.volume)!=null?j:1,G.play().catch(V=>{var K;log$1.error("Error playing the video, for user: ",(K=q.user)==null?void 0:K.did,V)}))}return O})}},this.subscribe()}subscribe(){Store$1.state.devices.muted.subscribe(async S=>this.toggleMute(S)),Store$1.state.devices.cameraEnabled.subscribe(async S=>this.toggleVideo(S)),Store$1.state.devices.deafened.subscribe(async S=>this.toggleDeafen(S))}async toggleScreenShare(S){S?await this.startScreenShare():await this.stopScreenShare()}async toggleVideo(S){var D,q,O;this.callOptions.video.enabled=S,this.isScreenSharing||((D=this.localStream)==null||D.getVideoTracks().forEach($=>$.enabled=S),(q=this.call)==null||q.toggleStreams(S,0)),(O=this.call)==null||O.notify("UPDATE_USER")}async toggleMute(S){var D,q,O;this.callOptions.audio.enabled=!S,(D=this.localStream)==null||D.getAudioTracks().forEach($=>$.enabled=!S),(q=this.call)==null||q.toggleStreams(S,1),(O=this.call)==null||O.notify("UPDATE_USER")}async toggleDeafen(S){var D,q;this.callOptions.audio.enabled=!S,(D=this.call)==null||D.toggleStreams(S,2),(q=this.call)==null||q.notify("UPDATE_USER")}async setVideoElements(S){let D=null;this.localVideoCurrentSrc&&(this.localVideoCurrentSrc.pause(),D=this.localVideoCurrentSrc.srcObject,this.localVideoCurrentSrc.srcObject=null),this.localVideoCurrentSrc=S,D!=null&&(this.localVideoCurrentSrc.srcObject=D,this.localVideoCurrentSrc.play()),new Promise(q=>setTimeout(q,500))}async setupLocalPeer(S){var D,q;if((S&&this.localPeer||(D=this.localPeer)!=null&&D.disconnected||(q=this.localPeer)!=null&&q.destroyed)&&(this.localPeer.destroy(),this.localPeer=null),this.localPeer===null){let O=get_store_value(Store$1.state.user).key;for(;O==="0x0";)O=get_store_value(Store$1.state.user).key,await new Promise(j=>setTimeout(j,500));const $=O.replace("did:key:","");this.localPeer=new $dd0187d7f28e386f$export$2e2bcd8739ae039($),this.localPeer.on("open",j=>{log$1.debug(`My peer ID is: ${j}`)}),this.localPeer.on("connection",j=>{j.on("open",()=>{connectionOpened.set(!0),log$1.info(`Receiving connection on channel: ${j.metadata.channel} from ${j.metadata.id}, username: ${j.metadata.username}`),this.incomingConnections.push(j),this.incomingCallFrom=[j.metadata.channel,j],timeCallStarted.set(new Date(j.metadata.timeCallStarted)),Store$1.setPendingCall(Store$1.getCallingChat(this.channel),CallDirection.Inbound)}),j.on("close",()=>{log$1.info(`Connection closed by ${j.metadata.username}`),this.incomingConnections.length===1&&connectionOpened.set(!1),Store$1.state.pendingCall.set(null),this.incomingConnections=this.incomingConnections.filter(G=>G!==j),this.incomingCallFrom=null})}),this.localPeer.on("error",this.handleError.bind(this))}}async startScreenShare(){var S,D,q,O;try{this.screenStream=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});const $=(S=this.screenStream)==null?void 0:S.getVideoTracks()[0],j=(D=this.localStream)==null?void 0:D.getVideoTracks()[0];this.callOptions.video.screenShareEnabled=!0,this.localStream&&j&&$&&(this.localStream.removeTrack(j),this.localStream.addTrack($),(q=this.call)==null||q.room.replaceTrack(j,$,this.localStream),this.isScreenSharing=!0,$.onended=()=>this.stopScreenShare()),get_store_value(Store$1.state.devices.screenShare)||Store$1.updateScreenShareEnabled(!0),(O=this.call)==null||O.notify("UPDATE_USER")}catch($){Store$1.state.devices.screenShare.set(!1),this.callOptions.video.screenShareEnabled=!1,log$1.error("Error starting screen share:",$)}}async stopScreenShare(){var S,D,q,O;if(this.isScreenSharing&&this.screenStream){const $=this.screenStream.getVideoTracks()[0],j=await navigator.mediaDevices.getUserMedia({video:!0}).then(G=>G.getVideoTracks()[0]);(S=this.localStream)==null||S.removeTrack($),j&&((D=this.localStream)==null||D.addTrack(j),this.localStream&&((q=this.call)==null||q.room.replaceTrack($,j,this.localStream))),this.screenStream.getTracks().forEach(G=>G.stop()),this.screenStream=null,this.isScreenSharing=!1,this.callOptions.video.screenShareEnabled=!1,this.callOptions.video.enabled&&Store$1.updateCameraEnabled(!0),Store$1.updateScreenShareEnabled(!1),(O=this.call)==null||O.notify("UPDATE_USER")}}startToMakeACall(S,D,q=!1){let O=get_store_value(Store$1.state.user).key;S=S.filter($=>$!==O),this.callOptions.video.enabled=!q,Store$1.state.devices.cameraEnabled.set(!q),this.callOptions.call.onlyAudioCall=q,this.callOptions.audio.enabled=!0,this.channel=D,this.toCall=S}async makeCall(S=!0){if(!this.toCall&&!S){log$1.error("Calling not setup");return}this.call&&(this.call.room.leave(),this.call=null);try{if(await this.setupLocalPeer(),this.createAndSetRoom(),S){this.inviteToCall(this.toCall);const q=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),O=get_store_value($format)("settings.calling.startCallMessage",{values:{value:q}});await RaygunStoreInstance.send(this.channel,O.split(`
`),[])}const D=setTimeout(()=>{(this.call===null||this.call.empty)&&(log$1.debug("No one joined the call, leaving"),callTimeout.set(!0),timeOuts.push(setTimeout(()=>{get_store_value(usersAcceptedTheCall).length===0&&(callTimeout.set(!1),this.leaveCall(!0))},TIME_TO_SHOW_END_CALL_FEEDBACK)))},TIME_TO_WAIT_FOR_ANSWER);timeOuts.push(D),callInProgress.set(this.channel),Store$1.setActiveCall(Store$1.getCallingChat(this.channel),CallDirection.Outbound)}catch(D){log$1.error(`Error making call: ${D}`)}this.localVideoCurrentSrc&&(this.localVideoCurrentSrc.srcObject=await this.getLocalStream(),await this.localVideoCurrentSrc.play())}async inviteToCall(S){if(this.call==null){log$1.error("Not in a call");return}await this.setupLocalPeer();let D=S.map(q=>[q,q.replace("did:key:","")]);this.invitations.forEach(q=>q.cancel()),this.invitations=D.map(([q,O])=>create_cancellable_handler(()=>this.sendAndHandleInviteTo(q,O)))}async sendAndHandleInviteTo(S,D){let O=0,$=!1,j=!1,G,V=!1;for(;!$&&!j&&O<5;)try{if(!G){let K=new Date;log$1.debug(`Trying to send invitation send out to ${D} ${G}`),G=this.localPeer.connect(D,{metadata:{did:get_store_value(Store$1.state.user).key,username:get_store_value(Store$1.state.user).name,channel:this.channel,timeCallStarted:K.toISOString()}}),G.on("open",()=>{V=!0,timeCallStarted.set(K)}),G.once("data",H=>{H===CALL_ACK&&(callTimeout.set(!1),usersAcceptedTheCall.set([...get_store_value(usersAcceptedTheCall),S]),j=!0)}),G.on("close",()=>{G=void 0,j||(log$1.info(`Recipient ${S} didn't accept`),usersDeniedTheCall.set([...get_store_value(usersDeniedTheCall),S]),$=!0)}),G.on("error",H=>{O+=1,G=void 0,log$1.debug(`${H}: Attempt ${O} failed. Retrying...`),O>=5&&(log$1.error("Max retries reached. Connection failed."),$=!0)})}if(await new Promise(K=>timeOuts.push(setTimeout(K,3e3))),V){await new Promise(K=>timeOuts.push(setTimeout(K,3e4))),G.close();break}else G=void 0}catch{if(O+=1,log$1.debug(`Attempt ${O} failed. Retrying...`),O>=5){log$1.error("Max retries reached. Connection failed.");break}}return j}testGoodRelaysForCall(){let S=get_store_value(relaysAvailable),D=[];for(let q=0;q<relaysToTest.length;q++){let O=relaysToTest[q];const $=new WebSocket(O);$.onerror=j=>{S=S.filter(G=>G!==O),$.close(),relaysAvailable.set(S)},$.onopen=()=>{D.push(O),$.send("ping")}}log$1.debug(`Relays connected: ${D}`)}createAndSetRoom(){log$1.debug(`Creating/Joining room in channel ${this.channel}`),log$1.info("Remaining relay urls to create room: ",get_store_value(relaysAvailable)),Store$1.updateMuted(!0),this.call=new CallRoom(joinRoom({appId:"uplink",relayRedundancy:3},this.channel))}async acceptCall(S=!1){var D;if(!this.incomingCallFrom){log$1.error("No call to accept");return}this.callOptions.audio.enabled=S,this.callOptions.video.enabled=!S,Store$1.state.devices.cameraEnabled.set(!S),this.callOptions.call.onlyAudioCall=S,(D=this.call)==null||D.room.leave(),this.call=null,this.channel=this.incomingCallFrom[0],callInProgress.set(this.channel),this.incomingCallFrom[1].send(CALL_ACK),this.createAndSetRoom(),this.incomingConnections.forEach(q=>{q.close()}),this.incomingConnections=[],this.incomingCallFrom=null,this.localVideoCurrentSrc&&(this.localVideoCurrentSrc.srcObject=await this.getLocalStream(),await this.localVideoCurrentSrc.play())}async leaveCall(S=!1){var D,q;if(callScreenVisible.set(!1),callInProgress.set(null),timeCallStarted.set(null),usersDeniedTheCall.set([]),callTimeout.set(!1),connectionOpened.set(!1),usersAcceptedTheCall.set([]),timeOuts.forEach(O=>clearTimeout(O)),S=S&&this.channel!==void 0&&this.call!=null,S&&((D=this.call)!=null&&D.start)){const O=new Date,$=this.getDuration(O),j=O.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),G=get_store_value($format)("settings.calling.endCallMessage",{values:{formattedEndTime:j,duration:$}});await RaygunStoreInstance.send(this.channel,G.split(`
`),[])}else if(S&&((q=this.call)==null?void 0:q.start)===null){const O=get_store_value($format)("settings.calling.callMissed");await RaygunStoreInstance.send(this.channel,O.split(`
`),[])}this.clearResources(),get_store_value(Store$1.state.activeCall)&&Store$1.endCall(),get_store_value(Store$1.state.pendingCall)&&Store$1.denyCall(),log$1.info("Call ended and resources cleaned up."),this.setupLocalPeer(!0)}async getLocalStream(S=!1){var D;return this.isScreenSharing&&this.screenStream?this.screenStream:((!this.localStream||S)&&(this.localStream&&(this.localStream.getTracks().forEach(q=>q.stop()),S&&this.call&&this.call.room.removeStream(this.localStream)),this.localStream=await this.createLocalStream(),this.localStreamHandler&&this.localStreamHandler.remove(),this.localStreamHandler=await handleStreamMeta(get_store_value(Store$1.state.user).key,this.localStream),this.localVideoCurrentSrc&&(this.localVideoCurrentSrc.srcObject=this.localStream,await this.localVideoCurrentSrc.play()),(D=this.call)==null||D.room.addStream(this.localStream)),this.localStream)}async createLocalStream(){let S;return S=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),S.getVideoTracks().forEach(D=>{D.enabled=this.callOptions.video.enabled}),S.getAudioTracks().forEach(D=>{D.enabled=this.callOptions.audio.enabled}),S}get isInCall(){return this.call!=null}handleWithDataReceived(S){var D;switch(log$1.debug(`Data received from ${S.userInfo.username}: ${S.type}`),S.type){case"UPDATE_USER":(D=this.call)==null||D.updateUserData(S.userInfo);break;case"NONE":break;default:log$1.debug(`Unknown message type: ${S.type}`)}}getDuration(S){var $;if(!(($=this.call)!=null&&$.start))return"0:00";const D=S.getTime()-this.call.start.getTime(),q=Math.floor(D/1e3),O=Math.floor(q/60);return O===0?`${(D/1e3).toFixed(2)} seconds`:`${O.toString().padStart(2,"0")}min`}clearResources(){var S,D;this.channel=void 0,this.toCall=null,this.incomingConnections=[],this.incomingCallFrom=null,this.invitations.forEach(q=>q.cancel()),this.invitations=[],(S=this.localPeer)==null||S.destroy(),this.localPeer=null,this.localVideoCurrentSrc&&(this.localVideoCurrentSrc.pause(),this.localVideoCurrentSrc.srcObject=null,this.localVideoCurrentSrc=null),this.screenStream&&this.screenStream.getTracks().forEach(q=>q.stop()),this.screenStream=null,this.isScreenSharing=!1,this.localStream&&this.localStream.getTracks().forEach(q=>q.stop()),this.localStream=null,this.localStreamHandler&&this.localStreamHandler.remove(),(D=this.call)==null||D.room.leave(),this.call=null,Store$1.state.activeCallMeta.set({}),Store$1.state.devices.screenShare.set(!1)}handleError(S){log$1.error(`Error: ${S}`)}}const VoiceRTCInstance=new VoiceRTC({audio:{enabled:get_store_value(Store$1.state.devices.muted),deafened:!1},video:{enabled:get_store_value(Store$1.state.devices.cameraEnabled),selfie:!0,screenShareEnabled:!1},call:{onlyAudioCall:!1}});var store2;function getGlobalMessage(B){return store2==null?void 0:store2.get(B)}var store3;function getSchemaMessage(B){return store3==null?void 0:store3.get(B)}var store4;function getSpecificMessage(B,S){var D;return(D=store4==null?void 0:store4.get(B))==null?void 0:D.get(S)}function _stringify(B){var D,q,O;let S=typeof B;return S==="object"&&(S=(O=B&&((q=(D=Object.getPrototypeOf(B))==null?void 0:D.constructor)==null?void 0:q.name))!=null?O:"null"),S==="string"?`"${B}"`:S==="number"||S==="bigint"||S==="boolean"?`${B}`:S}function _addIssue(B,S,D,q,O){var Y,X,Q,ee,re,ne,se,ae;const $=O&&"input"in O?O.input:D.value,j=(X=(Y=O==null?void 0:O.expected)!=null?Y:B.expects)!=null?X:null,G=(Q=O==null?void 0:O.received)!=null?Q:_stringify($),V={kind:B.kind,type:B.type,input:$,expected:j,received:G,message:`Invalid ${S}: ${j?`Expected ${j} but r`:"R"}eceived ${G}`,requirement:B.requirement,path:O==null?void 0:O.path,issues:O==null?void 0:O.issues,lang:q.lang,abortEarly:q.abortEarly,abortPipeEarly:q.abortPipeEarly},K=B.kind==="schema",H=(ae=(se=(ne=(re=(ee=O==null?void 0:O.message)!=null?ee:B.message)!=null?re:getSpecificMessage(B.reference,V.lang))!=null?ne:K?getSchemaMessage(V.lang):null)!=null?se:q.message)!=null?ae:getGlobalMessage(V.lang);H&&(V.message=typeof H=="function"?H(V):H),K&&(D.typed=!1),D.issues?D.issues.push(V):D.issues=[V]}function _isValidObjectKey(B,S){return Object.hasOwn(B,S)&&S!=="__proto__"&&S!=="prototype"&&S!=="constructor"}function getDefault(B,S,D){return typeof B.default=="function"?B.default(S,D):B.default}function is(B,S){return!B._run({typed:!1,value:S},{abortEarly:!0}).issues}function array(B,S){return{kind:"schema",type:"array",reference:array,expects:"Array",async:!1,item:B,message:S,_run(D,q){var $;const O=D.value;if(Array.isArray(O)){D.typed=!0,D.value=[];for(let j=0;j<O.length;j++){const G=O[j],V=this.item._run({typed:!1,value:G},q);if(V.issues){const K={type:"array",origin:"value",input:O,key:j,value:G};for(const H of V.issues)H.path?H.path.unshift(K):H.path=[K],($=D.issues)==null||$.push(H);if(D.issues||(D.issues=V.issues),q.abortEarly){D.typed=!1;break}}V.typed||(D.typed=!1),D.value.push(V.value)}}else _addIssue(this,"type",D,q);return D}}}function boolean(B){return{kind:"schema",type:"boolean",reference:boolean,expects:"boolean",async:!1,message:B,_run(S,D){return typeof S.value=="boolean"?S.typed=!0:_addIssue(this,"type",S,D),S}}}function enum_(B,S){const D=Object.entries(B).filter(([q])=>isNaN(+q)).map(([,q])=>q);return{kind:"schema",type:"enum",reference:enum_,expects:D.map(_stringify).join(" | ")||"never",async:!1,enum:B,options:D,message:S,_run(q,O){return this.options.includes(q.value)?q.typed=!0:_addIssue(this,"type",q,O),q}}}function literal(B,S){return{kind:"schema",type:"literal",reference:literal,expects:_stringify(B),async:!1,literal:B,message:S,_run(D,q){return D.value===this.literal?D.typed=!0:_addIssue(this,"type",D,q),D}}}function looseObject(B,S){return{kind:"schema",type:"loose_object",reference:looseObject,expects:"Object",async:!1,entries:B,message:S,_run(D,q){var $;const O=D.value;if(O&&typeof O=="object"){D.typed=!0,D.value={};for(const j in this.entries){const G=O[j],V=this.entries[j]._run({typed:!1,value:G},q);if(V.issues){const K={type:"object",origin:"value",input:O,key:j,value:G};for(const H of V.issues)H.path?H.path.unshift(K):H.path=[K],($=D.issues)==null||$.push(H);if(D.issues||(D.issues=V.issues),q.abortEarly){D.typed=!1;break}}V.typed||(D.typed=!1),(V.value!==void 0||j in O)&&(D.value[j]=V.value)}if(!D.issues||!q.abortEarly)for(const j in O)_isValidObjectKey(O,j)&&!(j in this.entries)&&(D.value[j]=O[j])}else _addIssue(this,"type",D,q);return D}}}function nonOptional(B,S){return{kind:"schema",type:"non_optional",reference:nonOptional,expects:"!undefined",async:!1,wrapped:B,message:S,_run(D,q){return D.value===void 0?(_addIssue(this,"type",D,q),D):this.wrapped._run(D,q)}}}function null_(B){return{kind:"schema",type:"null",reference:null_,expects:"null",async:!1,message:B,_run(S,D){return S.value===null?S.typed=!0:_addIssue(this,"type",S,D),S}}}function nullish(B,...S){const D={kind:"schema",type:"nullish",reference:nullish,expects:`${B.expects} | null | undefined`,async:!1,wrapped:B,_run(q,O){return(q.value===null||q.value===void 0)&&("default"in this&&(q.value=getDefault(this,q,O)),q.value===null||q.value===void 0)?(q.typed=!0,q):this.wrapped._run(q,O)}};return 0 in S&&(D.default=S[0]),D}function number$1(B){return{kind:"schema",type:"number",reference:number$1,expects:"number",async:!1,message:B,_run(S,D){return typeof S.value=="number"&&!isNaN(S.value)?S.typed=!0:_addIssue(this,"type",S,D),S}}}function object(B,S){return{kind:"schema",type:"object",reference:object,expects:"Object",async:!1,entries:B,message:S,_run(D,q){var $;const O=D.value;if(O&&typeof O=="object"){D.typed=!0,D.value={};for(const j in this.entries){const G=O[j],V=this.entries[j]._run({typed:!1,value:G},q);if(V.issues){const K={type:"object",origin:"value",input:O,key:j,value:G};for(const H of V.issues)H.path?H.path.unshift(K):H.path=[K],($=D.issues)==null||$.push(H);if(D.issues||(D.issues=V.issues),q.abortEarly){D.typed=!1;break}}V.typed||(D.typed=!1),(V.value!==void 0||j in O)&&(D.value[j]=V.value)}}else _addIssue(this,"type",D,q);return D}}}function optional(B,...S){const D={kind:"schema",type:"optional",reference:optional,expects:`${B.expects} | undefined`,async:!1,wrapped:B,_run(q,O){return q.value===void 0&&("default"in this&&(q.value=getDefault(this,q,O)),q.value===void 0)?(q.typed=!0,q):this.wrapped._run(q,O)}};return 0 in S&&(D.default=S[0]),D}function picklist(B,S){return{kind:"schema",type:"picklist",reference:picklist,expects:B.map(_stringify).join(" | ")||"never",async:!1,options:B,message:S,_run(D,q){return this.options.includes(D.value)?D.typed=!0:_addIssue(this,"type",D,q),D}}}function string(B){return{kind:"schema",type:"string",reference:string,expects:"string",async:!1,message:B,_run(S,D){return typeof S.value=="string"?S.typed=!0:_addIssue(this,"type",S,D),S}}}function undefined_(B){return{kind:"schema",type:"undefined",reference:undefined_,expects:"undefined",async:!1,message:B,_run(S,D){return S.value===void 0?S.typed=!0:_addIssue(this,"type",S,D),S}}}function _subIssues(B){let S;if(B)for(const D of B)S?S.push(...D.issues):S=D.issues;return S}function union(B,S){return{kind:"schema",type:"union",reference:union,expects:[...new Set(B.map(D=>D.expects))].join(" | ")||"never",async:!1,options:B,message:S,_run(D,q){let O,$,j;for(const G of this.options){const V=G._run({typed:!1,value:D.value},q);if(V.typed)if(V.issues)$?$.push(V):$=[V];else{O=V;break}else j?j.push(V):j=[V]}if(O)return O;if($){if($.length===1)return $[0];_addIssue(this,"type",D,q,{issues:_subIssues($)}),D.typed=!0}else{if((j==null?void 0:j.length)===1)return j[0];_addIssue(this,"type",D,q,{issues:_subIssues(j)})}return D}}}function unknown(){return{kind:"schema",type:"unknown",reference:unknown,expects:"unknown",async:!1,_run(B){return B.typed=!0,B}}}var lib$1={},signer={},base64Url={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(B){var S=B.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var D=B.indexOf("=");D===-1&&(D=S);var q=D===S?0:4-D%4;return[D,q]}function byteLength(B){var S=getLens(B),D=S[0],q=S[1];return(D+q)*3/4-q}function _byteLength(B,S,D){return(S+D)*3/4-D}function toByteArray(B){var S,D=getLens(B),q=D[0],O=D[1],$=new Arr(_byteLength(B,q,O)),j=0,G=O>0?q-4:q,V;for(V=0;V<G;V+=4)S=revLookup[B.charCodeAt(V)]<<18|revLookup[B.charCodeAt(V+1)]<<12|revLookup[B.charCodeAt(V+2)]<<6|revLookup[B.charCodeAt(V+3)],$[j++]=S>>16&255,$[j++]=S>>8&255,$[j++]=S&255;return O===2&&(S=revLookup[B.charCodeAt(V)]<<2|revLookup[B.charCodeAt(V+1)]>>4,$[j++]=S&255),O===1&&(S=revLookup[B.charCodeAt(V)]<<10|revLookup[B.charCodeAt(V+1)]<<4|revLookup[B.charCodeAt(V+2)]>>2,$[j++]=S>>8&255,$[j++]=S&255),$}function tripletToBase64(B){return lookup[B>>18&63]+lookup[B>>12&63]+lookup[B>>6&63]+lookup[B&63]}function encodeChunk(B,S,D){for(var q,O=[],$=S;$<D;$+=3)q=(B[$]<<16&16711680)+(B[$+1]<<8&65280)+(B[$+2]&255),O.push(tripletToBase64(q));return O.join("")}function fromByteArray(B){for(var S,D=B.length,q=D%3,O=[],$=16383,j=0,G=D-q;j<G;j+=$)O.push(encodeChunk(B,j,j+$>G?G:j+$));return q===1?(S=B[D-1],O.push(lookup[S>>2]+lookup[S<<4&63]+"==")):q===2&&(S=(B[D-2]<<8)+B[D-1],O.push(lookup[S>>10]+lookup[S>>4&63]+lookup[S<<2&63]+"=")),O.join("")}Object.defineProperty(base64Url,"__esModule",{value:!0});base64Url.decode=base64Url.encode=base64Url.unescape=base64Url.escape=base64Url.pad=void 0;const base64_js_1$1=base64Js;function pad(B){return`${B}${"=".repeat(4-(B.length%4||4))}`}base64Url.pad=pad;function escape(B){return B.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}base64Url.escape=escape;function unescape$1(B){return pad(B).replace(/-/g,"+").replace(/_/g,"/")}base64Url.unescape=unescape$1;function encode$2(B){return escape((0,base64_js_1$1.fromByteArray)(new TextEncoder().encode(B)))}base64Url.encode=encode$2;function decode$1(B){return new TextDecoder().decode((0,base64_js_1$1.toByteArray)(pad(unescape$1(B))))}base64Url.decode=decode$1;var cryptoClients={},secp256k1$1={},hmac$1={},_assert={};Object.defineProperty(_assert,"__esModule",{value:!0});_assert.output=_assert.exists=_assert.hash=_assert.bytes=_assert.bool=_assert.number=void 0;function number(B){if(!Number.isSafeInteger(B)||B<0)throw new Error(`Wrong positive integer: ${B}`)}_assert.number=number;function bool(B){if(typeof B!="boolean")throw new Error(`Expected boolean, not ${B}`)}_assert.bool=bool;function bytes(B,...S){if(!(B instanceof Uint8Array))throw new Error("Expected Uint8Array");if(S.length>0&&!S.includes(B.length))throw new Error(`Expected Uint8Array of length ${S}, not of length=${B.length}`)}_assert.bytes=bytes;function hash$2(B){if(typeof B!="function"||typeof B.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(B.outputLen),number(B.blockLen)}_assert.hash=hash$2;function exists(B,S=!0){if(B.destroyed)throw new Error("Hash instance has been destroyed");if(S&&B.finished)throw new Error("Hash#digest() has already been called")}_assert.exists=exists;function output(B,S){bytes(B);const D=S.outputLen;if(B.length<D)throw new Error(`digestInto() expects output buffer of length at least ${D}`)}_assert.output=output;const assert={number,bool,bytes,hash:hash$2,exists,output};_assert.default=assert;var utils$6={},crypto$1={};Object.defineProperty(crypto$1,"__esModule",{value:!0});crypto$1.crypto=void 0;crypto$1.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(B){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(B,"__esModule",{value:!0}),B.randomBytes=B.wrapXOFConstructorWithOpts=B.wrapConstructorWithOpts=B.wrapConstructor=B.checkOpts=B.Hash=B.concatBytes=B.toBytes=B.utf8ToBytes=B.asyncLoop=B.nextTick=B.hexToBytes=B.bytesToHex=B.isLE=B.rotr=B.createView=B.u32=B.u8=void 0;const S=crypto$1,D=ge=>ge instanceof Uint8Array,q=ge=>new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength);B.u8=q;const O=ge=>new Uint32Array(ge.buffer,ge.byteOffset,Math.floor(ge.byteLength/4));B.u32=O;const $=ge=>new DataView(ge.buffer,ge.byteOffset,ge.byteLength);B.createView=$;const j=(ge,Ae)=>ge<<32-Ae|ge>>>Ae;if(B.rotr=j,B.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!B.isLE)throw new Error("Non little-endian hardware is not supported");const G=Array.from({length:256},(ge,Ae)=>Ae.toString(16).padStart(2,"0"));function V(ge){if(!D(ge))throw new Error("Uint8Array expected");let Ae="";for(let Te=0;Te<ge.length;Te++)Ae+=G[ge[Te]];return Ae}B.bytesToHex=V;function K(ge){if(typeof ge!="string")throw new Error("hex string expected, got "+typeof ge);const Ae=ge.length;if(Ae%2)throw new Error("padded hex string expected, got unpadded hex of length "+Ae);const Te=new Uint8Array(Ae/2);for(let be=0;be<Te.length;be++){const Pe=be*2,J=ge.slice(Pe,Pe+2),u=Number.parseInt(J,16);if(Number.isNaN(u)||u<0)throw new Error("Invalid byte sequence");Te[be]=u}return Te}B.hexToBytes=K;const H=async()=>{};B.nextTick=H;async function Y(ge,Ae,Te){let be=Date.now();for(let Pe=0;Pe<ge;Pe++){Te(Pe);const J=Date.now()-be;J>=0&&J<Ae||(await(0,B.nextTick)(),be+=J)}}B.asyncLoop=Y;function X(ge){if(typeof ge!="string")throw new Error(`utf8ToBytes expected string, got ${typeof ge}`);return new Uint8Array(new TextEncoder().encode(ge))}B.utf8ToBytes=X;function Q(ge){if(typeof ge=="string"&&(ge=X(ge)),!D(ge))throw new Error(`expected Uint8Array, got ${typeof ge}`);return ge}B.toBytes=Q;function ee(...ge){const Ae=new Uint8Array(ge.reduce((be,Pe)=>be+Pe.length,0));let Te=0;return ge.forEach(be=>{if(!D(be))throw new Error("Uint8Array expected");Ae.set(be,Te),Te+=be.length}),Ae}B.concatBytes=ee;class re{clone(){return this._cloneInto()}}B.Hash=re;const ne={}.toString;function se(ge,Ae){if(Ae!==void 0&&ne.call(Ae)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(ge,Ae)}B.checkOpts=se;function ae(ge){const Ae=be=>ge().update(Q(be)).digest(),Te=ge();return Ae.outputLen=Te.outputLen,Ae.blockLen=Te.blockLen,Ae.create=()=>ge(),Ae}B.wrapConstructor=ae;function fe(ge){const Ae=(be,Pe)=>ge(Pe).update(Q(be)).digest(),Te=ge({});return Ae.outputLen=Te.outputLen,Ae.blockLen=Te.blockLen,Ae.create=be=>ge(be),Ae}B.wrapConstructorWithOpts=fe;function ue(ge){const Ae=(be,Pe)=>ge(Pe).update(Q(be)).digest(),Te=ge({});return Ae.outputLen=Te.outputLen,Ae.blockLen=Te.blockLen,Ae.create=be=>ge(be),Ae}B.wrapXOFConstructorWithOpts=ue;function _e(ge=32){if(S.crypto&&typeof S.crypto.getRandomValues=="function")return S.crypto.getRandomValues(new Uint8Array(ge));throw new Error("crypto.getRandomValues must be defined")}B.randomBytes=_e})(utils$6);(function(B){Object.defineProperty(B,"__esModule",{value:!0}),B.hmac=B.HMAC=void 0;const S=_assert,D=utils$6;class q extends D.Hash{constructor(j,G){super(),this.finished=!1,this.destroyed=!1,(0,S.hash)(j);const V=(0,D.toBytes)(G);if(this.iHash=j.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const K=this.blockLen,H=new Uint8Array(K);H.set(V.length>K?j.create().update(V).digest():V);for(let Y=0;Y<H.length;Y++)H[Y]^=54;this.iHash.update(H),this.oHash=j.create();for(let Y=0;Y<H.length;Y++)H[Y]^=106;this.oHash.update(H),H.fill(0)}update(j){return(0,S.exists)(this),this.iHash.update(j),this}digestInto(j){(0,S.exists)(this),(0,S.bytes)(j,this.outputLen),this.finished=!0,this.iHash.digestInto(j),this.oHash.update(j),this.oHash.digestInto(j),this.destroy()}digest(){const j=new Uint8Array(this.oHash.outputLen);return this.digestInto(j),j}_cloneInto(j){j||(j=Object.create(Object.getPrototypeOf(this),{}));const{oHash:G,iHash:V,finished:K,destroyed:H,blockLen:Y,outputLen:X}=this;return j=j,j.finished=K,j.destroyed=H,j.blockLen=Y,j.outputLen=X,j.oHash=G._cloneInto(j.oHash),j.iHash=V._cloneInto(j.iHash),j}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}B.HMAC=q;const O=($,j,G)=>new q($,j).update(G).digest();B.hmac=O,B.hmac.create=($,j)=>new q($,j)})(hmac$1);var sha256$3={},_sha2={};Object.defineProperty(_sha2,"__esModule",{value:!0});_sha2.SHA2=void 0;const _assert_js_1=_assert,utils_js_1$1=utils$6;function setBigUint64(B,S,D,q){if(typeof B.setBigUint64=="function")return B.setBigUint64(S,D,q);const O=BigInt(32),$=BigInt(4294967295),j=Number(D>>O&$),G=Number(D&$),V=q?4:0,K=q?0:4;B.setUint32(S+V,j,q),B.setUint32(S+K,G,q)}class SHA2 extends utils_js_1$1.Hash{constructor(S,D,q,O){super(),this.blockLen=S,this.outputLen=D,this.padOffset=q,this.isLE=O,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(S),this.view=(0,utils_js_1$1.createView)(this.buffer)}update(S){(0,_assert_js_1.exists)(this);const{view:D,buffer:q,blockLen:O}=this;S=(0,utils_js_1$1.toBytes)(S);const $=S.length;for(let j=0;j<$;){const G=Math.min(O-this.pos,$-j);if(G===O){const V=(0,utils_js_1$1.createView)(S);for(;O<=$-j;j+=O)this.process(V,j);continue}q.set(S.subarray(j,j+G),this.pos),this.pos+=G,j+=G,this.pos===O&&(this.process(D,0),this.pos=0)}return this.length+=S.length,this.roundClean(),this}digestInto(S){(0,_assert_js_1.exists)(this),(0,_assert_js_1.output)(S,this),this.finished=!0;const{buffer:D,view:q,blockLen:O,isLE:$}=this;let{pos:j}=this;D[j++]=128,this.buffer.subarray(j).fill(0),this.padOffset>O-j&&(this.process(q,0),j=0);for(let Y=j;Y<O;Y++)D[Y]=0;setBigUint64(q,O-8,BigInt(this.length*8),$),this.process(q,0);const G=(0,utils_js_1$1.createView)(S),V=this.outputLen;if(V%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const K=V/4,H=this.get();if(K>H.length)throw new Error("_sha2: outputLen bigger than state");for(let Y=0;Y<K;Y++)G.setUint32(4*Y,H[Y],$)}digest(){const{buffer:S,outputLen:D}=this;this.digestInto(S);const q=S.slice(0,D);return this.destroy(),q}_cloneInto(S){S||(S=new this.constructor),S.set(...this.get());const{blockLen:D,buffer:q,length:O,finished:$,destroyed:j,pos:G}=this;return S.length=O,S.pos=G,S.finished=$,S.destroyed=j,O%D&&S.buffer.set(q),S}}_sha2.SHA2=SHA2;Object.defineProperty(sha256$3,"__esModule",{value:!0});sha256$3.sha224=sha256_1$4=sha256$3.sha256=void 0;const _sha2_js_1=_sha2,utils_js_1=utils$6,Chi=(B,S,D)=>B&S^~B&D,Maj=(B,S,D)=>B&S^B&D^S&D,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends _sha2_js_1.SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:S,B:D,C:q,D:O,E:$,F:j,G,H:V}=this;return[S,D,q,O,$,j,G,V]}set(S,D,q,O,$,j,G,V){this.A=S|0,this.B=D|0,this.C=q|0,this.D=O|0,this.E=$|0,this.F=j|0,this.G=G|0,this.H=V|0}process(S,D){for(let Y=0;Y<16;Y++,D+=4)SHA256_W[Y]=S.getUint32(D,!1);for(let Y=16;Y<64;Y++){const X=SHA256_W[Y-15],Q=SHA256_W[Y-2],ee=(0,utils_js_1.rotr)(X,7)^(0,utils_js_1.rotr)(X,18)^X>>>3,re=(0,utils_js_1.rotr)(Q,17)^(0,utils_js_1.rotr)(Q,19)^Q>>>10;SHA256_W[Y]=re+SHA256_W[Y-7]+ee+SHA256_W[Y-16]|0}let{A:q,B:O,C:$,D:j,E:G,F:V,G:K,H}=this;for(let Y=0;Y<64;Y++){const X=(0,utils_js_1.rotr)(G,6)^(0,utils_js_1.rotr)(G,11)^(0,utils_js_1.rotr)(G,25),Q=H+X+Chi(G,V,K)+SHA256_K[Y]+SHA256_W[Y]|0,re=((0,utils_js_1.rotr)(q,2)^(0,utils_js_1.rotr)(q,13)^(0,utils_js_1.rotr)(q,22))+Maj(q,O,$)|0;H=K,K=V,V=G,G=j+Q|0,j=$,$=O,O=q,q=Q+re|0}q=q+this.A|0,O=O+this.B|0,$=$+this.C|0,j=j+this.D|0,G=G+this.E|0,V=V+this.F|0,K=K+this.G|0,H=H+this.H|0,this.set(q,O,$,j,G,V,K,H)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}var sha256_1$4=sha256$3.sha256=(0,utils_js_1.wrapConstructor)(()=>new SHA256);sha256$3.sha224=(0,utils_js_1.wrapConstructor)(()=>new SHA224);var lib={},cryptoBrowserify={},browser$b={exports:{}},safeBuffer$6={exports:{}};const require$$0$1=getAugmentedNamespace(dist);var hasRequiredSafeBuffer$6;function requireSafeBuffer$6(){return hasRequiredSafeBuffer$6||(hasRequiredSafeBuffer$6=1,function(B,S){var D=require$$0$1,q=D.Buffer;function O(j,G){for(var V in j)G[V]=j[V]}q.from&&q.alloc&&q.allocUnsafe&&q.allocUnsafeSlow?B.exports=D:(O(D,S),S.Buffer=$);function $(j,G,V){return q(j,G,V)}O(q,$),$.from=function(j,G,V){if(typeof j=="number")throw new TypeError("Argument must not be a number");return q(j,G,V)},$.alloc=function(j,G,V){if(typeof j!="number")throw new TypeError("Argument must be a number");var K=q(j);return G!==void 0?typeof V=="string"?K.fill(G,V):K.fill(G):K.fill(0),K},$.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return q(j)},$.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return D.SlowBuffer(j)}}(safeBuffer$6,safeBuffer$6.exports)),safeBuffer$6.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b.exports;hasRequiredBrowser$b=1;var B=65536,S=4294967295;function D(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var q=requireSafeBuffer$6().Buffer,O=commonjsGlobal.crypto||commonjsGlobal.msCrypto;O&&O.getRandomValues?browser$b.exports=$:browser$b.exports=D;function $(j,G){if(j>S)throw new RangeError("requested too many random bytes");var V=q.allocUnsafe(j);if(j>0)if(j>B)for(var K=0;K<j;K+=B)O.getRandomValues(V.slice(K,K+B));else O.getRandomValues(V);return typeof G=="function"?process$1.nextTick(function(){G(null,V)}):V}return browser$b.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(S,D){D&&(S.super_=D,S.prototype=Object.create(D.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(S,D){if(D){S.super_=D;var q=function(){};q.prototype=D.prototype,S.prototype=new q,S.prototype.constructor=S}}),inherits_browser.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=eventsExports.EventEmitter),streamBrowser$1}var util$1={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var S={},D=Symbol("test"),q=Object(D);if(typeof D=="string"||Object.prototype.toString.call(D)!=="[object Symbol]"||Object.prototype.toString.call(q)!=="[object Symbol]")return!1;var O=42;S[D]=O;for(D in S)return!1;if(typeof Object.keys=="function"&&Object.keys(S).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(S).length!==0)return!1;var $=Object.getOwnPropertySymbols(S);if($.length!==1||$[0]!==D||!Object.prototype.propertyIsEnumerable.call(S,D))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var j=Object.getOwnPropertyDescriptor(S,D);if(j.value!==O||j.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var B=requireShams$1();return shams=function(){return B()&&!!Symbol.toStringTag},shams}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var B=typeof Symbol<"u"&&Symbol,S=requireShams$1();return hasSymbols=function(){return typeof B!="function"||typeof Symbol!="function"||typeof B("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:S()},hasSymbols}var hasProto,hasRequiredHasProto;function requireHasProto(){if(hasRequiredHasProto)return hasProto;hasRequiredHasProto=1;var B={__proto__:null,foo:{}},S=Object;return hasProto=function(){return{__proto__:B}.foo===B.foo&&!(B instanceof S)},hasProto}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var B="Function.prototype.bind called on incompatible ",S=Object.prototype.toString,D=Math.max,q="[object Function]",O=function(V,K){for(var H=[],Y=0;Y<V.length;Y+=1)H[Y]=V[Y];for(var X=0;X<K.length;X+=1)H[X+V.length]=K[X];return H},$=function(V,K){for(var H=[],Y=K,X=0;Y<V.length;Y+=1,X+=1)H[X]=V[Y];return H},j=function(G,V){for(var K="",H=0;H<G.length;H+=1)K+=G[H],H+1<G.length&&(K+=V);return K};return implementation=function(V){var K=this;if(typeof K!="function"||S.apply(K)!==q)throw new TypeError(B+K);for(var H=$(arguments,1),Y,X=function(){if(this instanceof Y){var se=K.apply(this,O(H,arguments));return Object(se)===se?se:this}return K.apply(V,O(H,arguments))},Q=D(0,K.length-H.length),ee=[],re=0;re<Q;re++)ee[re]="$"+re;if(Y=Function("binder","return function ("+j(ee,",")+"){ return binder.apply(this,arguments); }")(X),K.prototype){var ne=function(){};ne.prototype=K.prototype,Y.prototype=new ne,ne.prototype=null}return Y},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var B=requireImplementation();return functionBind=Function.prototype.bind||B,functionBind}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var B=Function.prototype.call,S=Object.prototype.hasOwnProperty,D=requireFunctionBind();return hasown=D.call(B,S),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var B,S=requireEsErrors(),D=require_eval(),q=requireRange(),O=requireRef(),$=requireSyntax(),j=requireType(),G=requireUri(),V=Function,K=function(W){try{return V('"use strict"; return ('+W+").constructor;")()}catch{}},H=Object.getOwnPropertyDescriptor;if(H)try{H({},"")}catch{H=null}var Y=function(){throw new j},X=H?function(){try{return arguments.callee,Y}catch{try{return H(arguments,"callee").get}catch{return Y}}}():Y,Q=requireHasSymbols()(),ee=requireHasProto()(),re=Object.getPrototypeOf||(ee?function(W){return W.__proto__}:null),ne={},se=typeof Uint8Array>"u"||!re?B:re(Uint8Array),ae={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?B:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?B:ArrayBuffer,"%ArrayIteratorPrototype%":Q&&re?re([][Symbol.iterator]()):B,"%AsyncFromSyncIteratorPrototype%":B,"%AsyncFunction%":ne,"%AsyncGenerator%":ne,"%AsyncGeneratorFunction%":ne,"%AsyncIteratorPrototype%":ne,"%Atomics%":typeof Atomics>"u"?B:Atomics,"%BigInt%":typeof BigInt>"u"?B:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?B:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?B:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?B:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":S,"%eval%":eval,"%EvalError%":D,"%Float32Array%":typeof Float32Array>"u"?B:Float32Array,"%Float64Array%":typeof Float64Array>"u"?B:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?B:FinalizationRegistry,"%Function%":V,"%GeneratorFunction%":ne,"%Int8Array%":typeof Int8Array>"u"?B:Int8Array,"%Int16Array%":typeof Int16Array>"u"?B:Int16Array,"%Int32Array%":typeof Int32Array>"u"?B:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Q&&re?re(re([][Symbol.iterator]())):B,"%JSON%":typeof JSON=="object"?JSON:B,"%Map%":typeof Map>"u"?B:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Q||!re?B:re(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?B:Promise,"%Proxy%":typeof Proxy>"u"?B:Proxy,"%RangeError%":q,"%ReferenceError%":O,"%Reflect%":typeof Reflect>"u"?B:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?B:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Q||!re?B:re(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?B:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Q&&re?re(""[Symbol.iterator]()):B,"%Symbol%":Q?Symbol:B,"%SyntaxError%":$,"%ThrowTypeError%":X,"%TypedArray%":se,"%TypeError%":j,"%Uint8Array%":typeof Uint8Array>"u"?B:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?B:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?B:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?B:Uint32Array,"%URIError%":G,"%WeakMap%":typeof WeakMap>"u"?B:WeakMap,"%WeakRef%":typeof WeakRef>"u"?B:WeakRef,"%WeakSet%":typeof WeakSet>"u"?B:WeakSet};if(re)try{null.error}catch(W){var fe=re(re(W));ae["%Error.prototype%"]=fe}var ue=function W(Z){var U;if(Z==="%AsyncFunction%")U=K("async function () {}");else if(Z==="%GeneratorFunction%")U=K("function* () {}");else if(Z==="%AsyncGeneratorFunction%")U=K("async function* () {}");else if(Z==="%AsyncGenerator%"){var M=W("%AsyncGeneratorFunction%");M&&(U=M.prototype)}else if(Z==="%AsyncIteratorPrototype%"){var F=W("%AsyncGenerator%");F&&re&&(U=re(F.prototype))}return ae[Z]=U,U},_e={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ge=requireFunctionBind(),Ae=requireHasown(),Te=ge.call(Function.call,Array.prototype.concat),be=ge.call(Function.apply,Array.prototype.splice),Pe=ge.call(Function.call,String.prototype.replace),J=ge.call(Function.call,String.prototype.slice),u=ge.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,N=function(Z){var U=J(Z,0,1),M=J(Z,-1);if(U==="%"&&M!=="%")throw new $("invalid intrinsic syntax, expected closing `%`");if(M==="%"&&U!=="%")throw new $("invalid intrinsic syntax, expected opening `%`");var F=[];return Pe(Z,T,function(te,ie,he,pe){F[F.length]=he?Pe(pe,P,"$1"):ie||te}),F},L=function(Z,U){var M=Z,F;if(Ae(_e,M)&&(F=_e[M],M="%"+F[0]+"%"),Ae(ae,M)){var te=ae[M];if(te===ne&&(te=ue(M)),typeof te>"u"&&!U)throw new j("intrinsic "+Z+" exists, but is not available. Please file an issue!");return{alias:F,name:M,value:te}}throw new $("intrinsic "+Z+" does not exist!")};return getIntrinsic=function(Z,U){if(typeof Z!="string"||Z.length===0)throw new j("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof U!="boolean")throw new j('"allowMissing" argument must be a boolean');if(u(/^%?[^%]*%?$/,Z)===null)throw new $("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var M=N(Z),F=M.length>0?M[0]:"",te=L("%"+F+"%",U),ie=te.name,he=te.value,pe=!1,de=te.alias;de&&(F=de[0],be(M,Te([0,1],de)));for(var oe=1,le=!0;oe<M.length;oe+=1){var ve=M[oe],Me=J(ve,0,1),ye=J(ve,-1);if((Me==='"'||Me==="'"||Me==="`"||ye==='"'||ye==="'"||ye==="`")&&Me!==ye)throw new $("property names with quotes must have matching quotes");if((ve==="constructor"||!le)&&(pe=!0),F+="."+ve,ie="%"+F+"%",Ae(ae,ie))he=ae[ie];else if(he!=null){if(!(ve in he)){if(!U)throw new j("base intrinsic for "+Z+" exists, but the property is not available.");return}if(H&&oe+1>=M.length){var ce=H(he,ve);le=!!ce,le&&"get"in ce&&!("originalValue"in ce.get)?he=ce.get:he=he[ve]}else le=Ae(he,ve),he=he[ve];le&&!pe&&(ae[ie]=he)}}return he},getIntrinsic}var callBind={exports:{}},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var B=requireGetIntrinsic(),S=B("%Object.defineProperty%",!0)||!1;if(S)try{S({},"a",{value:1})}catch{S=!1}return esDefineProperty=S,esDefineProperty}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var B=requireGetIntrinsic(),S=B("%Object.getOwnPropertyDescriptor%",!0);if(S)try{S([],"length")}catch{S=null}return gopd=S,gopd}var defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var B=requireEsDefineProperty(),S=requireSyntax(),D=requireType(),q=requireGopd();return defineDataProperty=function($,j,G){if(!$||typeof $!="object"&&typeof $!="function")throw new D("`obj` must be an object or a function`");if(typeof j!="string"&&typeof j!="symbol")throw new D("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new D("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new D("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new D("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new D("`loose`, if provided, must be a boolean");var V=arguments.length>3?arguments[3]:null,K=arguments.length>4?arguments[4]:null,H=arguments.length>5?arguments[5]:null,Y=arguments.length>6?arguments[6]:!1,X=!!q&&q($,j);if(B)B($,j,{configurable:H===null&&X?X.configurable:!H,enumerable:V===null&&X?X.enumerable:!V,value:G,writable:K===null&&X?X.writable:!K});else if(Y||!V&&!K&&!H)$[j]=G;else throw new S("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var B=requireEsDefineProperty(),S=function(){return!!B};return S.hasArrayLengthDefineBug=function(){if(!B)return null;try{return B([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=S,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var B=requireGetIntrinsic(),S=requireDefineDataProperty(),D=requireHasPropertyDescriptors()(),q=requireGopd(),O=requireType(),$=B("%Math.floor%");return setFunctionLength=function(G,V){if(typeof G!="function")throw new O("`fn` is not a function");if(typeof V!="number"||V<0||V>4294967295||$(V)!==V)throw new O("`length` must be a positive 32-bit integer");var K=arguments.length>2&&!!arguments[2],H=!0,Y=!0;if("length"in G&&q){var X=q(G,"length");X&&!X.configurable&&(H=!1),X&&!X.writable&&(Y=!1)}return(H||Y||!K)&&(D?S(G,"length",V,!0,!0):S(G,"length",V)),G},setFunctionLength}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(B){var S=requireFunctionBind(),D=requireGetIntrinsic(),q=requireSetFunctionLength(),O=requireType(),$=D("%Function.prototype.apply%"),j=D("%Function.prototype.call%"),G=D("%Reflect.apply%",!0)||S.call(j,$),V=requireEsDefineProperty(),K=D("%Math.max%");B.exports=function(X){if(typeof X!="function")throw new O("a function is required");var Q=G(S,j,arguments);return q(Q,1+K(0,X.length-(arguments.length-1)),!0)};var H=function(){return G(S,$,arguments)};V?V(B.exports,"apply",{value:H}):B.exports.apply=H}(callBind)),callBind.exports}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var B=requireGetIntrinsic(),S=requireCallBind(),D=S(B("String.prototype.indexOf"));return callBound=function(O,$){var j=B(O,!!$);return typeof j=="function"&&D(O,".prototype.")>-1?S(j):j},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var B=requireShams()(),S=requireCallBound(),D=S("Object.prototype.toString"),q=function(G){return B&&G&&typeof G=="object"&&Symbol.toStringTag in G?!1:D(G)==="[object Arguments]"},O=function(G){return q(G)?!0:G!==null&&typeof G=="object"&&typeof G.length=="number"&&G.length>=0&&D(G)!=="[object Array]"&&D(G.callee)==="[object Function]"},$=function(){return q(arguments)}();return q.isLegacyArguments=O,isArguments=$?q:O,isArguments}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var B=Object.prototype.toString,S=Function.prototype.toString,D=/^\s*(?:function)?\*/,q=requireShams()(),O=Object.getPrototypeOf,$=function(){if(!q)return!1;try{return Function("return function*() {}")()}catch{}},j;return isGeneratorFunction=function(V){if(typeof V!="function")return!1;if(D.test(S.call(V)))return!0;if(!q){var K=B.call(V);return K==="[object GeneratorFunction]"}if(!O)return!1;if(typeof j>"u"){var H=$();j=H?O(H):!1}return O(V)===j},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var B=Function.prototype.toString,S=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,D,q;if(typeof S=="function"&&typeof Object.defineProperty=="function")try{D=Object.defineProperty({},"length",{get:function(){throw q}}),q={},S(function(){throw 42},null,D)}catch(ae){ae!==q&&(S=null)}else S=null;var O=/^\s*class\b/,$=function(fe){try{var ue=B.call(fe);return O.test(ue)}catch{return!1}},j=function(fe){try{return $(fe)?!1:(B.call(fe),!0)}catch{return!1}},G=Object.prototype.toString,V="[object Object]",K="[object Function]",H="[object GeneratorFunction]",Y="[object HTMLAllCollection]",X="[object HTML document.all class]",Q="[object HTMLCollection]",ee=typeof Symbol=="function"&&!!Symbol.toStringTag,re=!(0 in[,]),ne=function(){return!1};if(typeof document=="object"){var se=document.all;G.call(se)===G.call(document.all)&&(ne=function(fe){if((re||!fe)&&(typeof fe>"u"||typeof fe=="object"))try{var ue=G.call(fe);return(ue===Y||ue===X||ue===Q||ue===V)&&fe("")==null}catch{}return!1})}return isCallable=S?function(fe){if(ne(fe))return!0;if(!fe||typeof fe!="function"&&typeof fe!="object")return!1;try{S(fe,null,D)}catch(ue){if(ue!==q)return!1}return!$(fe)&&j(fe)}:function(fe){if(ne(fe))return!0;if(!fe||typeof fe!="function"&&typeof fe!="object")return!1;if(ee)return j(fe);if($(fe))return!1;var ue=G.call(fe);return ue!==K&&ue!==H&&!/^\[object HTML/.test(ue)?!1:j(fe)},isCallable}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var B=requireIsCallable(),S=Object.prototype.toString,D=Object.prototype.hasOwnProperty,q=function(V,K,H){for(var Y=0,X=V.length;Y<X;Y++)D.call(V,Y)&&(H==null?K(V[Y],Y,V):K.call(H,V[Y],Y,V))},O=function(V,K,H){for(var Y=0,X=V.length;Y<X;Y++)H==null?K(V.charAt(Y),Y,V):K.call(H,V.charAt(Y),Y,V)},$=function(V,K,H){for(var Y in V)D.call(V,Y)&&(H==null?K(V[Y],Y,V):K.call(H,V[Y],Y,V))},j=function(V,K,H){if(!B(K))throw new TypeError("iterator must be a function");var Y;arguments.length>=3&&(Y=H),S.call(V)==="[object Array]"?q(V,K,Y):typeof V=="string"?O(V,K,Y):$(V,K,Y)};return forEach_1=j,forEach_1}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var B=requirePossibleTypedArrayNames(),S=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var q=[],O=0;O<B.length;O++)typeof S[B[O]]=="function"&&(q[q.length]=B[O]);return q},availableTypedArrays}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var B=requireForEach(),S=requireAvailableTypedArrays(),D=requireCallBind(),q=requireCallBound(),O=requireGopd(),$=q("Object.prototype.toString"),j=requireShams()(),G=typeof globalThis>"u"?commonjsGlobal:globalThis,V=S(),K=q("String.prototype.slice"),H=Object.getPrototypeOf,Y=q("Array.prototype.indexOf",!0)||function(ne,se){for(var ae=0;ae<ne.length;ae+=1)if(ne[ae]===se)return ae;return-1},X={__proto__:null};j&&O&&H?B(V,function(re){var ne=new G[re];if(Symbol.toStringTag in ne){var se=H(ne),ae=O(se,Symbol.toStringTag);if(!ae){var fe=H(se);ae=O(fe,Symbol.toStringTag)}X["$"+re]=D(ae.get)}}):B(V,function(re){var ne=new G[re],se=ne.slice||ne.set;se&&(X["$"+re]=D(se))});var Q=function(ne){var se=!1;return B(X,function(ae,fe){if(!se)try{"$"+ae(ne)===fe&&(se=K(fe,1))}catch{}}),se},ee=function(ne){var se=!1;return B(X,function(ae,fe){if(!se)try{ae(ne),se=K(fe,1)}catch{}}),se};return whichTypedArray=function(ne){if(!ne||typeof ne!="object")return!1;if(!j){var se=K($(ne),8,-1);return Y(V,se)>-1?se:se!=="Object"?!1:ee(ne)}return O?Q(ne):null},whichTypedArray}var isTypedArray$1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray$1;hasRequiredIsTypedArray=1;var B=requireWhichTypedArray();return isTypedArray$1=function(D){return!!B(D)},isTypedArray$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(B){var S=requireIsArguments(),D=requireIsGeneratorFunction(),q=requireWhichTypedArray(),O=requireIsTypedArray();function $($e){return $e.call.bind($e)}var j=typeof BigInt<"u",G=typeof Symbol<"u",V=$(Object.prototype.toString),K=$(Number.prototype.valueOf),H=$(String.prototype.valueOf),Y=$(Boolean.prototype.valueOf);if(j)var X=$(BigInt.prototype.valueOf);if(G)var Q=$(Symbol.prototype.valueOf);function ee($e,lt){if(typeof $e!="object")return!1;try{return lt($e),!0}catch{return!1}}B.isArgumentsObject=S,B.isGeneratorFunction=D,B.isTypedArray=O;function re($e){return typeof Promise<"u"&&$e instanceof Promise||$e!==null&&typeof $e=="object"&&typeof $e.then=="function"&&typeof $e.catch=="function"}B.isPromise=re;function ne($e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView($e):O($e)||ie($e)}B.isArrayBufferView=ne;function se($e){return q($e)==="Uint8Array"}B.isUint8Array=se;function ae($e){return q($e)==="Uint8ClampedArray"}B.isUint8ClampedArray=ae;function fe($e){return q($e)==="Uint16Array"}B.isUint16Array=fe;function ue($e){return q($e)==="Uint32Array"}B.isUint32Array=ue;function _e($e){return q($e)==="Int8Array"}B.isInt8Array=_e;function ge($e){return q($e)==="Int16Array"}B.isInt16Array=ge;function Ae($e){return q($e)==="Int32Array"}B.isInt32Array=Ae;function Te($e){return q($e)==="Float32Array"}B.isFloat32Array=Te;function be($e){return q($e)==="Float64Array"}B.isFloat64Array=be;function Pe($e){return q($e)==="BigInt64Array"}B.isBigInt64Array=Pe;function J($e){return q($e)==="BigUint64Array"}B.isBigUint64Array=J;function u($e){return V($e)==="[object Map]"}u.working=typeof Map<"u"&&u(new Map);function T($e){return typeof Map>"u"?!1:u.working?u($e):$e instanceof Map}B.isMap=T;function P($e){return V($e)==="[object Set]"}P.working=typeof Set<"u"&&P(new Set);function N($e){return typeof Set>"u"?!1:P.working?P($e):$e instanceof Set}B.isSet=N;function L($e){return V($e)==="[object WeakMap]"}L.working=typeof WeakMap<"u"&&L(new WeakMap);function W($e){return typeof WeakMap>"u"?!1:L.working?L($e):$e instanceof WeakMap}B.isWeakMap=W;function Z($e){return V($e)==="[object WeakSet]"}Z.working=typeof WeakSet<"u"&&Z(new WeakSet);function U($e){return Z($e)}B.isWeakSet=U;function M($e){return V($e)==="[object ArrayBuffer]"}M.working=typeof ArrayBuffer<"u"&&M(new ArrayBuffer);function F($e){return typeof ArrayBuffer>"u"?!1:M.working?M($e):$e instanceof ArrayBuffer}B.isArrayBuffer=F;function te($e){return V($e)==="[object DataView]"}te.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&te(new DataView(new ArrayBuffer(1),0,1));function ie($e){return typeof DataView>"u"?!1:te.working?te($e):$e instanceof DataView}B.isDataView=ie;var he=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function pe($e){return V($e)==="[object SharedArrayBuffer]"}function de($e){return typeof he>"u"?!1:(typeof pe.working>"u"&&(pe.working=pe(new he)),pe.working?pe($e):$e instanceof he)}B.isSharedArrayBuffer=de;function oe($e){return V($e)==="[object AsyncFunction]"}B.isAsyncFunction=oe;function le($e){return V($e)==="[object Map Iterator]"}B.isMapIterator=le;function ve($e){return V($e)==="[object Set Iterator]"}B.isSetIterator=ve;function Me($e){return V($e)==="[object Generator]"}B.isGeneratorObject=Me;function ye($e){return V($e)==="[object WebAssembly.Module]"}B.isWebAssemblyCompiledModule=ye;function ce($e){return ee($e,K)}B.isNumberObject=ce;function Se($e){return ee($e,H)}B.isStringObject=Se;function et($e){return ee($e,Y)}B.isBooleanObject=et;function ke($e){return j&&ee($e,X)}B.isBigIntObject=ke;function De($e){return G&&ee($e,Q)}B.isSymbolObject=De;function ot($e){return ce($e)||Se($e)||et($e)||ke($e)||De($e)}B.isBoxedPrimitive=ot;function Le($e){return typeof Uint8Array<"u"&&(F($e)||de($e))}B.isAnyArrayBuffer=Le,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function($e){Object.defineProperty(B,$e,{enumerable:!1,value:function(){throw new Error($e+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(S){return S&&typeof S=="object"&&typeof S.copy=="function"&&typeof S.fill=="function"&&typeof S.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(B){var S={},D=Object.getOwnPropertyDescriptors||function(he){for(var pe=Object.keys(he),de={},oe=0;oe<pe.length;oe++)de[pe[oe]]=Object.getOwnPropertyDescriptor(he,pe[oe]);return de},q=/%[sdj%]/g;B.format=function(ie){if(!ge(ie)){for(var he=[],pe=0;pe<arguments.length;pe++)he.push(G(arguments[pe]));return he.join(" ")}for(var pe=1,de=arguments,oe=de.length,le=String(ie).replace(q,function(Me){if(Me==="%%")return"%";if(pe>=oe)return Me;switch(Me){case"%s":return String(de[pe++]);case"%d":return Number(de[pe++]);case"%j":try{return JSON.stringify(de[pe++])}catch{return"[Circular]"}default:return Me}}),ve=de[pe];pe<oe;ve=de[++pe])fe(ve)||!Pe(ve)?le+=" "+ve:le+=" "+G(ve);return le},B.deprecate=function(ie,he){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return ie;if(typeof process$1>"u")return function(){return B.deprecate(ie,he).apply(this,arguments)};var pe=!1;function de(){if(!pe){if(process$1.throwDeprecation)throw new Error(he);process$1.traceDeprecation?console.trace(he):console.error(he),pe=!0}return ie.apply(this,arguments)}return de};var O={},$=/^$/;if(S.NODE_DEBUG){var j=S.NODE_DEBUG;j=j.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),$=new RegExp("^"+j+"$","i")}B.debuglog=function(ie){if(ie=ie.toUpperCase(),!O[ie])if($.test(ie)){var he=process$1.pid;O[ie]=function(){var pe=B.format.apply(B,arguments);console.error("%s %d: %s",ie,he,pe)}}else O[ie]=function(){};return O[ie]};function G(ie,he){var pe={seen:[],stylize:K};return arguments.length>=3&&(pe.depth=arguments[2]),arguments.length>=4&&(pe.colors=arguments[3]),ae(he)?pe.showHidden=he:he&&B._extend(pe,he),Te(pe.showHidden)&&(pe.showHidden=!1),Te(pe.depth)&&(pe.depth=2),Te(pe.colors)&&(pe.colors=!1),Te(pe.customInspect)&&(pe.customInspect=!0),pe.colors&&(pe.stylize=V),Y(pe,ie,pe.depth)}B.inspect=G,G.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},G.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function V(ie,he){var pe=G.styles[he];return pe?"\x1B["+G.colors[pe][0]+"m"+ie+"\x1B["+G.colors[pe][1]+"m":ie}function K(ie,he){return ie}function H(ie){var he={};return ie.forEach(function(pe,de){he[pe]=!0}),he}function Y(ie,he,pe){if(ie.customInspect&&he&&T(he.inspect)&&he.inspect!==B.inspect&&!(he.constructor&&he.constructor.prototype===he)){var de=he.inspect(pe,ie);return ge(de)||(de=Y(ie,de,pe)),de}var oe=X(ie,he);if(oe)return oe;var le=Object.keys(he),ve=H(le);if(ie.showHidden&&(le=Object.getOwnPropertyNames(he)),u(he)&&(le.indexOf("message")>=0||le.indexOf("description")>=0))return Q(he);if(le.length===0){if(T(he)){var Me=he.name?": "+he.name:"";return ie.stylize("[Function"+Me+"]","special")}if(be(he))return ie.stylize(RegExp.prototype.toString.call(he),"regexp");if(J(he))return ie.stylize(Date.prototype.toString.call(he),"date");if(u(he))return Q(he)}var ye="",ce=!1,Se=["{","}"];if(se(he)&&(ce=!0,Se=["[","]"]),T(he)){var et=he.name?": "+he.name:"";ye=" [Function"+et+"]"}if(be(he)&&(ye=" "+RegExp.prototype.toString.call(he)),J(he)&&(ye=" "+Date.prototype.toUTCString.call(he)),u(he)&&(ye=" "+Q(he)),le.length===0&&(!ce||he.length==0))return Se[0]+ye+Se[1];if(pe<0)return be(he)?ie.stylize(RegExp.prototype.toString.call(he),"regexp"):ie.stylize("[Object]","special");ie.seen.push(he);var ke;return ce?ke=ee(ie,he,pe,ve,le):ke=le.map(function(De){return re(ie,he,pe,ve,De,ce)}),ie.seen.pop(),ne(ke,ye,Se)}function X(ie,he){if(Te(he))return ie.stylize("undefined","undefined");if(ge(he)){var pe="'"+JSON.stringify(he).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ie.stylize(pe,"string")}if(_e(he))return ie.stylize(""+he,"number");if(ae(he))return ie.stylize(""+he,"boolean");if(fe(he))return ie.stylize("null","null")}function Q(ie){return"["+Error.prototype.toString.call(ie)+"]"}function ee(ie,he,pe,de,oe){for(var le=[],ve=0,Me=he.length;ve<Me;++ve)U(he,String(ve))?le.push(re(ie,he,pe,de,String(ve),!0)):le.push("");return oe.forEach(function(ye){ye.match(/^\d+$/)||le.push(re(ie,he,pe,de,ye,!0))}),le}function re(ie,he,pe,de,oe,le){var ve,Me,ye;if(ye=Object.getOwnPropertyDescriptor(he,oe)||{value:he[oe]},ye.get?ye.set?Me=ie.stylize("[Getter/Setter]","special"):Me=ie.stylize("[Getter]","special"):ye.set&&(Me=ie.stylize("[Setter]","special")),U(de,oe)||(ve="["+oe+"]"),Me||(ie.seen.indexOf(ye.value)<0?(fe(pe)?Me=Y(ie,ye.value,null):Me=Y(ie,ye.value,pe-1),Me.indexOf(`
`)>-1&&(le?Me=Me.split(`
`).map(function(ce){return"  "+ce}).join(`
`).slice(2):Me=`
`+Me.split(`
`).map(function(ce){return"   "+ce}).join(`
`))):Me=ie.stylize("[Circular]","special")),Te(ve)){if(le&&oe.match(/^\d+$/))return Me;ve=JSON.stringify(""+oe),ve.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ve=ve.slice(1,-1),ve=ie.stylize(ve,"name")):(ve=ve.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ve=ie.stylize(ve,"string"))}return ve+": "+Me}function ne(ie,he,pe){var de=ie.reduce(function(oe,le){return le.indexOf(`
`)>=0,oe+le.replace(/\u001b\[\d\d?m/g,"").length+1},0);return de>60?pe[0]+(he===""?"":he+`
 `)+" "+ie.join(`,
  `)+" "+pe[1]:pe[0]+he+" "+ie.join(", ")+" "+pe[1]}B.types=requireTypes();function se(ie){return Array.isArray(ie)}B.isArray=se;function ae(ie){return typeof ie=="boolean"}B.isBoolean=ae;function fe(ie){return ie===null}B.isNull=fe;function ue(ie){return ie==null}B.isNullOrUndefined=ue;function _e(ie){return typeof ie=="number"}B.isNumber=_e;function ge(ie){return typeof ie=="string"}B.isString=ge;function Ae(ie){return typeof ie=="symbol"}B.isSymbol=Ae;function Te(ie){return ie===void 0}B.isUndefined=Te;function be(ie){return Pe(ie)&&N(ie)==="[object RegExp]"}B.isRegExp=be,B.types.isRegExp=be;function Pe(ie){return typeof ie=="object"&&ie!==null}B.isObject=Pe;function J(ie){return Pe(ie)&&N(ie)==="[object Date]"}B.isDate=J,B.types.isDate=J;function u(ie){return Pe(ie)&&(N(ie)==="[object Error]"||ie instanceof Error)}B.isError=u,B.types.isNativeError=u;function T(ie){return typeof ie=="function"}B.isFunction=T;function P(ie){return ie===null||typeof ie=="boolean"||typeof ie=="number"||typeof ie=="string"||typeof ie=="symbol"||typeof ie>"u"}B.isPrimitive=P,B.isBuffer=requireIsBufferBrowser();function N(ie){return Object.prototype.toString.call(ie)}function L(ie){return ie<10?"0"+ie.toString(10):ie.toString(10)}var W=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Z(){var ie=new Date,he=[L(ie.getHours()),L(ie.getMinutes()),L(ie.getSeconds())].join(":");return[ie.getDate(),W[ie.getMonth()],he].join(" ")}B.log=function(){console.log("%s - %s",Z(),B.format.apply(B,arguments))},B.inherits=requireInherits_browser(),B._extend=function(ie,he){if(!he||!Pe(he))return ie;for(var pe=Object.keys(he),de=pe.length;de--;)ie[pe[de]]=he[pe[de]];return ie};function U(ie,he){return Object.prototype.hasOwnProperty.call(ie,he)}var M=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;B.promisify=function(he){if(typeof he!="function")throw new TypeError('The "original" argument must be of type Function');if(M&&he[M]){var pe=he[M];if(typeof pe!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(pe,M,{value:pe,enumerable:!1,writable:!1,configurable:!0}),pe}function pe(){for(var de,oe,le=new Promise(function(ye,ce){de=ye,oe=ce}),ve=[],Me=0;Me<arguments.length;Me++)ve.push(arguments[Me]);ve.push(function(ye,ce){ye?oe(ye):de(ce)});try{he.apply(this,ve)}catch(ye){oe(ye)}return le}return Object.setPrototypeOf(pe,Object.getPrototypeOf(he)),M&&Object.defineProperty(pe,M,{value:pe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(pe,D(he))},B.promisify.custom=M;function F(ie,he){if(!ie){var pe=new Error("Promise was rejected with a falsy value");pe.reason=ie,ie=pe}return he(ie)}function te(ie){if(typeof ie!="function")throw new TypeError('The "original" argument must be of type Function');function he(){for(var pe=[],de=0;de<arguments.length;de++)pe.push(arguments[de]);var oe=pe.pop();if(typeof oe!="function")throw new TypeError("The last argument must be of type Function");var le=this,ve=function(){return oe.apply(le,arguments)};ie.apply(this,pe).then(function(Me){process$1.nextTick(ve.bind(null,null,Me))},function(Me){process$1.nextTick(F.bind(null,Me,ve))})}return Object.setPrototypeOf(he,Object.getPrototypeOf(ie)),Object.defineProperties(he,D(ie)),he}B.callbackify=te}(util$1)),util$1}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function B(ee,re){var ne=Object.keys(ee);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(ee);re&&(se=se.filter(function(ae){return Object.getOwnPropertyDescriptor(ee,ae).enumerable})),ne.push.apply(ne,se)}return ne}function S(ee){for(var re=1;re<arguments.length;re++){var ne=arguments[re]!=null?arguments[re]:{};re%2?B(Object(ne),!0).forEach(function(se){D(ee,se,ne[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(ne)):B(Object(ne)).forEach(function(se){Object.defineProperty(ee,se,Object.getOwnPropertyDescriptor(ne,se))})}return ee}function D(ee,re,ne){return re=j(re),re in ee?Object.defineProperty(ee,re,{value:ne,enumerable:!0,configurable:!0,writable:!0}):ee[re]=ne,ee}function q(ee,re){if(!(ee instanceof re))throw new TypeError("Cannot call a class as a function")}function O(ee,re){for(var ne=0;ne<re.length;ne++){var se=re[ne];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(ee,j(se.key),se)}}function $(ee,re,ne){return re&&O(ee.prototype,re),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function j(ee){var re=G(ee,"string");return typeof re=="symbol"?re:String(re)}function G(ee,re){if(typeof ee!="object"||ee===null)return ee;var ne=ee[Symbol.toPrimitive];if(ne!==void 0){var se=ne.call(ee,re||"default");if(typeof se!="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return(re==="string"?String:Number)(ee)}var V=require$$0$1,K=V.Buffer,H=requireUtil$1(),Y=H.inspect,X=Y&&Y.custom||"inspect";function Q(ee,re,ne){K.prototype.copy.call(ee,re,ne)}return buffer_list=function(){function ee(){q(this,ee),this.head=null,this.tail=null,this.length=0}return $(ee,[{key:"push",value:function(ne){var se={data:ne,next:null};this.length>0?this.tail.next=se:this.head=se,this.tail=se,++this.length}},{key:"unshift",value:function(ne){var se={data:ne,next:this.head};this.length===0&&(this.tail=se),this.head=se,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ne=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ne}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ne){if(this.length===0)return"";for(var se=this.head,ae=""+se.data;se=se.next;)ae+=ne+se.data;return ae}},{key:"concat",value:function(ne){if(this.length===0)return K.alloc(0);for(var se=K.allocUnsafe(ne>>>0),ae=this.head,fe=0;ae;)Q(ae.data,se,fe),fe+=ae.data.length,ae=ae.next;return se}},{key:"consume",value:function(ne,se){var ae;return ne<this.head.data.length?(ae=this.head.data.slice(0,ne),this.head.data=this.head.data.slice(ne)):ne===this.head.data.length?ae=this.shift():ae=se?this._getString(ne):this._getBuffer(ne),ae}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ne){var se=this.head,ae=1,fe=se.data;for(ne-=fe.length;se=se.next;){var ue=se.data,_e=ne>ue.length?ue.length:ne;if(_e===ue.length?fe+=ue:fe+=ue.slice(0,ne),ne-=_e,ne===0){_e===ue.length?(++ae,se.next?this.head=se.next:this.head=this.tail=null):(this.head=se,se.data=ue.slice(_e));break}++ae}return this.length-=ae,fe}},{key:"_getBuffer",value:function(ne){var se=K.allocUnsafe(ne),ae=this.head,fe=1;for(ae.data.copy(se),ne-=ae.data.length;ae=ae.next;){var ue=ae.data,_e=ne>ue.length?ue.length:ne;if(ue.copy(se,se.length-ne,0,_e),ne-=_e,ne===0){_e===ue.length?(++fe,ae.next?this.head=ae.next:this.head=this.tail=null):(this.head=ae,ae.data=ue.slice(_e));break}++fe}return this.length-=fe,se}},{key:X,value:function(ne,se){return Y(this,S(S({},se),{},{depth:0,customInspect:!1}))}}]),ee}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function B(j,G){var V=this,K=this._readableState&&this._readableState.destroyed,H=this._writableState&&this._writableState.destroyed;return K||H?(G?G(j):j&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(O,this,j)):process$1.nextTick(O,this,j)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(j||null,function(Y){!G&&Y?V._writableState?V._writableState.errorEmitted?process$1.nextTick(D,V):(V._writableState.errorEmitted=!0,process$1.nextTick(S,V,Y)):process$1.nextTick(S,V,Y):G?(process$1.nextTick(D,V),G(Y)):process$1.nextTick(D,V)}),this)}function S(j,G){O(j,G),D(j)}function D(j){j._writableState&&!j._writableState.emitClose||j._readableState&&!j._readableState.emitClose||j.emit("close")}function q(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function O(j,G){j.emit("error",G)}function $(j,G){var V=j._readableState,K=j._writableState;V&&V.autoDestroy||K&&K.autoDestroy?j.destroy(G):j.emit("error",G)}return destroy_1$1={destroy:B,undestroy:q,errorOrDestroy:$},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function B(G,V){G.prototype=Object.create(V.prototype),G.prototype.constructor=G,G.__proto__=V}var S={};function D(G,V,K){K||(K=Error);function H(X,Q,ee){return typeof V=="string"?V:V(X,Q,ee)}var Y=function(X){B(Q,X);function Q(ee,re,ne){return X.call(this,H(ee,re,ne))||this}return Q}(K);Y.prototype.name=K.name,Y.prototype.code=G,S[G]=Y}function q(G,V){if(Array.isArray(G)){var K=G.length;return G=G.map(function(H){return String(H)}),K>2?"one of ".concat(V," ").concat(G.slice(0,K-1).join(", "),", or ")+G[K-1]:K===2?"one of ".concat(V," ").concat(G[0]," or ").concat(G[1]):"of ".concat(V," ").concat(G[0])}else return"of ".concat(V," ").concat(String(G))}function O(G,V,K){return G.substr(0,V.length)===V}function $(G,V,K){return(K===void 0||K>G.length)&&(K=G.length),G.substring(K-V.length,K)===V}function j(G,V,K){return typeof K!="number"&&(K=0),K+V.length>G.length?!1:G.indexOf(V,K)!==-1}return D("ERR_INVALID_OPT_VALUE",function(G,V){return'The value "'+V+'" is invalid for option "'+G+'"'},TypeError),D("ERR_INVALID_ARG_TYPE",function(G,V,K){var H;typeof V=="string"&&O(V,"not ")?(H="must not be",V=V.replace(/^not /,"")):H="must be";var Y;if($(G," argument"))Y="The ".concat(G," ").concat(H," ").concat(q(V,"type"));else{var X=j(G,".")?"property":"argument";Y='The "'.concat(G,'" ').concat(X," ").concat(H," ").concat(q(V,"type"))}return Y+=". Received type ".concat(typeof K),Y},TypeError),D("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),D("ERR_METHOD_NOT_IMPLEMENTED",function(G){return"The "+G+" method is not implemented"}),D("ERR_STREAM_PREMATURE_CLOSE","Premature close"),D("ERR_STREAM_DESTROYED",function(G){return"Cannot call "+G+" after a stream was destroyed"}),D("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),D("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),D("ERR_STREAM_WRITE_AFTER_END","write after end"),D("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),D("ERR_UNKNOWN_ENCODING",function(G){return"Unknown encoding: "+G},TypeError),D("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=S,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var B=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function S(q,O,$){return q.highWaterMark!=null?q.highWaterMark:O?q[$]:null}function D(q,O,$,j){var G=S(O,j,$);if(G!=null){if(!(isFinite(G)&&Math.floor(G)===G)||G<0){var V=j?$:"highWaterMark";throw new B(V,G)}return Math.floor(G)}return q.objectMode?16:16*1024}return state={getHighWaterMark:D},state}var browser$a,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$a;hasRequiredBrowser$a=1,browser$a=B;function B(D,q){if(S("noDeprecation"))return D;var O=!1;function $(){if(!O){if(S("throwDeprecation"))throw new Error(q);S("traceDeprecation")?console.trace(q):console.warn(q),O=!0}return D.apply(this,arguments)}return $}function S(D){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var q=commonjsGlobal.localStorage[D];return q==null?!1:String(q).toLowerCase()==="true"}return browser$a}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=Te;function B(de){var oe=this;this.next=null,this.entry=null,this.finish=function(){pe(oe,de)}}var S;Te.WritableState=ge;var D={deprecate:requireBrowser$a()},q=requireStreamBrowser$1(),O=require$$0$1.Buffer,$=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function j(de){return O.from(de)}function G(de){return O.isBuffer(de)||de instanceof $}var V=requireDestroy$1(),K=requireState(),H=K.getHighWaterMark,Y=requireErrorsBrowser().codes,X=Y.ERR_INVALID_ARG_TYPE,Q=Y.ERR_METHOD_NOT_IMPLEMENTED,ee=Y.ERR_MULTIPLE_CALLBACK,re=Y.ERR_STREAM_CANNOT_PIPE,ne=Y.ERR_STREAM_DESTROYED,se=Y.ERR_STREAM_NULL_VALUES,ae=Y.ERR_STREAM_WRITE_AFTER_END,fe=Y.ERR_UNKNOWN_ENCODING,ue=V.errorOrDestroy;requireInherits_browser()(Te,q);function _e(){}function ge(de,oe,le){S=S||require_stream_duplex$1(),de=de||{},typeof le!="boolean"&&(le=oe instanceof S),this.objectMode=!!de.objectMode,le&&(this.objectMode=this.objectMode||!!de.writableObjectMode),this.highWaterMark=H(this,de,"writableHighWaterMark",le),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ve=de.decodeStrings===!1;this.decodeStrings=!ve,this.defaultEncoding=de.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Me){L(oe,Me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=de.emitClose!==!1,this.autoDestroy=!!de.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new B(this)}ge.prototype.getBuffer=function(){for(var oe=this.bufferedRequest,le=[];oe;)le.push(oe),oe=oe.next;return le},function(){try{Object.defineProperty(ge.prototype,"buffer",{get:D.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Ae;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ae=Function.prototype[Symbol.hasInstance],Object.defineProperty(Te,Symbol.hasInstance,{value:function(oe){return Ae.call(this,oe)?!0:this!==Te?!1:oe&&oe._writableState instanceof ge}})):Ae=function(oe){return oe instanceof this};function Te(de){S=S||require_stream_duplex$1();var oe=this instanceof S;if(!oe&&!Ae.call(Te,this))return new Te(de);this._writableState=new ge(de,this,oe),this.writable=!0,de&&(typeof de.write=="function"&&(this._write=de.write),typeof de.writev=="function"&&(this._writev=de.writev),typeof de.destroy=="function"&&(this._destroy=de.destroy),typeof de.final=="function"&&(this._final=de.final)),q.call(this)}Te.prototype.pipe=function(){ue(this,new re)};function be(de,oe){var le=new ae;ue(de,le),process$1.nextTick(oe,le)}function Pe(de,oe,le,ve){var Me;return le===null?Me=new se:typeof le!="string"&&!oe.objectMode&&(Me=new X("chunk",["string","Buffer"],le)),Me?(ue(de,Me),process$1.nextTick(ve,Me),!1):!0}Te.prototype.write=function(de,oe,le){var ve=this._writableState,Me=!1,ye=!ve.objectMode&&G(de);return ye&&!O.isBuffer(de)&&(de=j(de)),typeof oe=="function"&&(le=oe,oe=null),ye?oe="buffer":oe||(oe=ve.defaultEncoding),typeof le!="function"&&(le=_e),ve.ending?be(this,le):(ye||Pe(this,ve,de,le))&&(ve.pendingcb++,Me=u(this,ve,ye,de,oe,le)),Me},Te.prototype.cork=function(){this._writableState.corked++},Te.prototype.uncork=function(){var de=this._writableState;de.corked&&(de.corked--,!de.writing&&!de.corked&&!de.bufferProcessing&&de.bufferedRequest&&U(this,de))},Te.prototype.setDefaultEncoding=function(oe){if(typeof oe=="string"&&(oe=oe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((oe+"").toLowerCase())>-1))throw new fe(oe);return this._writableState.defaultEncoding=oe,this},Object.defineProperty(Te.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function J(de,oe,le){return!de.objectMode&&de.decodeStrings!==!1&&typeof oe=="string"&&(oe=O.from(oe,le)),oe}Object.defineProperty(Te.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function u(de,oe,le,ve,Me,ye){if(!le){var ce=J(oe,ve,Me);ve!==ce&&(le=!0,Me="buffer",ve=ce)}var Se=oe.objectMode?1:ve.length;oe.length+=Se;var et=oe.length<oe.highWaterMark;if(et||(oe.needDrain=!0),oe.writing||oe.corked){var ke=oe.lastBufferedRequest;oe.lastBufferedRequest={chunk:ve,encoding:Me,isBuf:le,callback:ye,next:null},ke?ke.next=oe.lastBufferedRequest:oe.bufferedRequest=oe.lastBufferedRequest,oe.bufferedRequestCount+=1}else T(de,oe,!1,Se,ve,Me,ye);return et}function T(de,oe,le,ve,Me,ye,ce){oe.writelen=ve,oe.writecb=ce,oe.writing=!0,oe.sync=!0,oe.destroyed?oe.onwrite(new ne("write")):le?de._writev(Me,oe.onwrite):de._write(Me,ye,oe.onwrite),oe.sync=!1}function P(de,oe,le,ve,Me){--oe.pendingcb,le?(process$1.nextTick(Me,ve),process$1.nextTick(ie,de,oe),de._writableState.errorEmitted=!0,ue(de,ve)):(Me(ve),de._writableState.errorEmitted=!0,ue(de,ve),ie(de,oe))}function N(de){de.writing=!1,de.writecb=null,de.length-=de.writelen,de.writelen=0}function L(de,oe){var le=de._writableState,ve=le.sync,Me=le.writecb;if(typeof Me!="function")throw new ee;if(N(le),oe)P(de,le,ve,oe,Me);else{var ye=M(le)||de.destroyed;!ye&&!le.corked&&!le.bufferProcessing&&le.bufferedRequest&&U(de,le),ve?process$1.nextTick(W,de,le,ye,Me):W(de,le,ye,Me)}}function W(de,oe,le,ve){le||Z(de,oe),oe.pendingcb--,ve(),ie(de,oe)}function Z(de,oe){oe.length===0&&oe.needDrain&&(oe.needDrain=!1,de.emit("drain"))}function U(de,oe){oe.bufferProcessing=!0;var le=oe.bufferedRequest;if(de._writev&&le&&le.next){var ve=oe.bufferedRequestCount,Me=new Array(ve),ye=oe.corkedRequestsFree;ye.entry=le;for(var ce=0,Se=!0;le;)Me[ce]=le,le.isBuf||(Se=!1),le=le.next,ce+=1;Me.allBuffers=Se,T(de,oe,!0,oe.length,Me,"",ye.finish),oe.pendingcb++,oe.lastBufferedRequest=null,ye.next?(oe.corkedRequestsFree=ye.next,ye.next=null):oe.corkedRequestsFree=new B(oe),oe.bufferedRequestCount=0}else{for(;le;){var et=le.chunk,ke=le.encoding,De=le.callback,ot=oe.objectMode?1:et.length;if(T(de,oe,!1,ot,et,ke,De),le=le.next,oe.bufferedRequestCount--,oe.writing)break}le===null&&(oe.lastBufferedRequest=null)}oe.bufferedRequest=le,oe.bufferProcessing=!1}Te.prototype._write=function(de,oe,le){le(new Q("_write()"))},Te.prototype._writev=null,Te.prototype.end=function(de,oe,le){var ve=this._writableState;return typeof de=="function"?(le=de,de=null,oe=null):typeof oe=="function"&&(le=oe,oe=null),de!=null&&this.write(de,oe),ve.corked&&(ve.corked=1,this.uncork()),ve.ending||he(this,ve,le),this},Object.defineProperty(Te.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function M(de){return de.ending&&de.length===0&&de.bufferedRequest===null&&!de.finished&&!de.writing}function F(de,oe){de._final(function(le){oe.pendingcb--,le&&ue(de,le),oe.prefinished=!0,de.emit("prefinish"),ie(de,oe)})}function te(de,oe){!oe.prefinished&&!oe.finalCalled&&(typeof de._final=="function"&&!oe.destroyed?(oe.pendingcb++,oe.finalCalled=!0,process$1.nextTick(F,de,oe)):(oe.prefinished=!0,de.emit("prefinish")))}function ie(de,oe){var le=M(oe);if(le&&(te(de,oe),oe.pendingcb===0&&(oe.finished=!0,de.emit("finish"),oe.autoDestroy))){var ve=de._readableState;(!ve||ve.autoDestroy&&ve.endEmitted)&&de.destroy()}return le}function he(de,oe,le){oe.ending=!0,ie(de,oe),le&&(oe.finished?process$1.nextTick(le):de.once("finish",le)),oe.ended=!0,de.writable=!1}function pe(de,oe,le){var ve=de.entry;for(de.entry=null;ve;){var Me=ve.callback;oe.pendingcb--,Me(le),ve=ve.next}oe.corkedRequestsFree.next=de}return Object.defineProperty(Te.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(oe){this._writableState&&(this._writableState.destroyed=oe)}}),Te.prototype.destroy=V.destroy,Te.prototype._undestroy=V.undestroy,Te.prototype._destroy=function(de,oe){oe(de)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var B=Object.keys||function(K){var H=[];for(var Y in K)H.push(Y);return H};_stream_duplex$1=j;var S=require_stream_readable$1(),D=require_stream_writable$1();requireInherits_browser()(j,S);for(var q=B(D.prototype),O=0;O<q.length;O++){var $=q[O];j.prototype[$]||(j.prototype[$]=D.prototype[$])}function j(K){if(!(this instanceof j))return new j(K);S.call(this,K),D.call(this,K),this.allowHalfOpen=!0,K&&(K.readable===!1&&(this.readable=!1),K.writable===!1&&(this.writable=!1),K.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",G)))}Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function G(){this._writableState.ended||process$1.nextTick(V,this)}function V(K){K.end()}return Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(H){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=H,this._writableState.destroyed=H)}}),_stream_duplex$1}var string_decoder={},safeBuffer$5={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$5;function requireSafeBuffer$5(){return hasRequiredSafeBuffer$5||(hasRequiredSafeBuffer$5=1,function(B,S){var D=require$$0$1,q=D.Buffer;function O(j,G){for(var V in j)G[V]=j[V]}q.from&&q.alloc&&q.allocUnsafe&&q.allocUnsafeSlow?B.exports=D:(O(D,S),S.Buffer=$);function $(j,G,V){return q(j,G,V)}$.prototype=Object.create(q.prototype),O(q,$),$.from=function(j,G,V){if(typeof j=="number")throw new TypeError("Argument must not be a number");return q(j,G,V)},$.alloc=function(j,G,V){if(typeof j!="number")throw new TypeError("Argument must be a number");var K=q(j);return G!==void 0?typeof V=="string"?K.fill(G,V):K.fill(G):K.fill(0),K},$.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return q(j)},$.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return D.SlowBuffer(j)}}(safeBuffer$5,safeBuffer$5.exports)),safeBuffer$5.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var B=requireSafeBuffer$5().Buffer,S=B.isEncoding||function(se){switch(se=""+se,se&&se.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function D(se){if(!se)return"utf8";for(var ae;;)switch(se){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return se;default:if(ae)return;se=(""+se).toLowerCase(),ae=!0}}function q(se){var ae=D(se);if(typeof ae!="string"&&(B.isEncoding===S||!S(se)))throw new Error("Unknown encoding: "+se);return ae||se}string_decoder.StringDecoder=O;function O(se){this.encoding=q(se);var ae;switch(this.encoding){case"utf16le":this.text=Y,this.end=X,ae=4;break;case"utf8":this.fillLast=V,ae=4;break;case"base64":this.text=Q,this.end=ee,ae=3;break;default:this.write=re,this.end=ne;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=B.allocUnsafe(ae)}O.prototype.write=function(se){if(se.length===0)return"";var ae,fe;if(this.lastNeed){if(ae=this.fillLast(se),ae===void 0)return"";fe=this.lastNeed,this.lastNeed=0}else fe=0;return fe<se.length?ae?ae+this.text(se,fe):this.text(se,fe):ae||""},O.prototype.end=H,O.prototype.text=K,O.prototype.fillLast=function(se){if(this.lastNeed<=se.length)return se.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);se.copy(this.lastChar,this.lastTotal-this.lastNeed,0,se.length),this.lastNeed-=se.length};function $(se){return se<=127?0:se>>5===6?2:se>>4===14?3:se>>3===30?4:se>>6===2?-1:-2}function j(se,ae,fe){var ue=ae.length-1;if(ue<fe)return 0;var _e=$(ae[ue]);return _e>=0?(_e>0&&(se.lastNeed=_e-1),_e):--ue<fe||_e===-2?0:(_e=$(ae[ue]),_e>=0?(_e>0&&(se.lastNeed=_e-2),_e):--ue<fe||_e===-2?0:(_e=$(ae[ue]),_e>=0?(_e>0&&(_e===2?_e=0:se.lastNeed=_e-3),_e):0))}function G(se,ae,fe){if((ae[0]&192)!==128)return se.lastNeed=0,"�";if(se.lastNeed>1&&ae.length>1){if((ae[1]&192)!==128)return se.lastNeed=1,"�";if(se.lastNeed>2&&ae.length>2&&(ae[2]&192)!==128)return se.lastNeed=2,"�"}}function V(se){var ae=this.lastTotal-this.lastNeed,fe=G(this,se);if(fe!==void 0)return fe;if(this.lastNeed<=se.length)return se.copy(this.lastChar,ae,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);se.copy(this.lastChar,ae,0,se.length),this.lastNeed-=se.length}function K(se,ae){var fe=j(this,se,ae);if(!this.lastNeed)return se.toString("utf8",ae);this.lastTotal=fe;var ue=se.length-(fe-this.lastNeed);return se.copy(this.lastChar,0,ue),se.toString("utf8",ae,ue)}function H(se){var ae=se&&se.length?this.write(se):"";return this.lastNeed?ae+"�":ae}function Y(se,ae){if((se.length-ae)%2===0){var fe=se.toString("utf16le",ae);if(fe){var ue=fe.charCodeAt(fe.length-1);if(ue>=55296&&ue<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=se[se.length-2],this.lastChar[1]=se[se.length-1],fe.slice(0,-1)}return fe}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=se[se.length-1],se.toString("utf16le",ae,se.length-1)}function X(se){var ae=se&&se.length?this.write(se):"";if(this.lastNeed){var fe=this.lastTotal-this.lastNeed;return ae+this.lastChar.toString("utf16le",0,fe)}return ae}function Q(se,ae){var fe=(se.length-ae)%3;return fe===0?se.toString("base64",ae):(this.lastNeed=3-fe,this.lastTotal=3,fe===1?this.lastChar[0]=se[se.length-1]:(this.lastChar[0]=se[se.length-2],this.lastChar[1]=se[se.length-1]),se.toString("base64",ae,se.length-fe))}function ee(se){var ae=se&&se.length?this.write(se):"";return this.lastNeed?ae+this.lastChar.toString("base64",0,3-this.lastNeed):ae}function re(se){return se.toString(this.encoding)}function ne(se){return se&&se.length?this.write(se):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var B=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function S($){var j=!1;return function(){if(!j){j=!0;for(var G=arguments.length,V=new Array(G),K=0;K<G;K++)V[K]=arguments[K];$.apply(this,V)}}}function D(){}function q($){return $.setHeader&&typeof $.abort=="function"}function O($,j,G){if(typeof j=="function")return O($,null,j);j||(j={}),G=S(G||D);var V=j.readable||j.readable!==!1&&$.readable,K=j.writable||j.writable!==!1&&$.writable,H=function(){$.writable||X()},Y=$._writableState&&$._writableState.finished,X=function(){K=!1,Y=!0,V||G.call($)},Q=$._readableState&&$._readableState.endEmitted,ee=function(){V=!1,Q=!0,K||G.call($)},re=function(fe){G.call($,fe)},ne=function(){var fe;if(V&&!Q)return(!$._readableState||!$._readableState.ended)&&(fe=new B),G.call($,fe);if(K&&!Y)return(!$._writableState||!$._writableState.ended)&&(fe=new B),G.call($,fe)},se=function(){$.req.on("finish",X)};return q($)?($.on("complete",X),$.on("abort",ne),$.req?se():$.on("request",se)):K&&!$._writableState&&($.on("end",H),$.on("close",H)),$.on("end",ee),$.on("finish",X),j.error!==!1&&$.on("error",re),$.on("close",ne),function(){$.removeListener("complete",X),$.removeListener("abort",ne),$.removeListener("request",se),$.req&&$.req.removeListener("finish",X),$.removeListener("end",H),$.removeListener("close",H),$.removeListener("finish",X),$.removeListener("end",ee),$.removeListener("error",re),$.removeListener("close",ne)}}return endOfStream=O,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var B;function S(fe,ue,_e){return ue=D(ue),ue in fe?Object.defineProperty(fe,ue,{value:_e,enumerable:!0,configurable:!0,writable:!0}):fe[ue]=_e,fe}function D(fe){var ue=q(fe,"string");return typeof ue=="symbol"?ue:String(ue)}function q(fe,ue){if(typeof fe!="object"||fe===null)return fe;var _e=fe[Symbol.toPrimitive];if(_e!==void 0){var ge=_e.call(fe,ue||"default");if(typeof ge!="object")return ge;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ue==="string"?String:Number)(fe)}var O=requireEndOfStream(),$=Symbol("lastResolve"),j=Symbol("lastReject"),G=Symbol("error"),V=Symbol("ended"),K=Symbol("lastPromise"),H=Symbol("handlePromise"),Y=Symbol("stream");function X(fe,ue){return{value:fe,done:ue}}function Q(fe){var ue=fe[$];if(ue!==null){var _e=fe[Y].read();_e!==null&&(fe[K]=null,fe[$]=null,fe[j]=null,ue(X(_e,!1)))}}function ee(fe){process$1.nextTick(Q,fe)}function re(fe,ue){return function(_e,ge){fe.then(function(){if(ue[V]){_e(X(void 0,!0));return}ue[H](_e,ge)},ge)}}var ne=Object.getPrototypeOf(function(){}),se=Object.setPrototypeOf((B={get stream(){return this[Y]},next:function(){var ue=this,_e=this[G];if(_e!==null)return Promise.reject(_e);if(this[V])return Promise.resolve(X(void 0,!0));if(this[Y].destroyed)return new Promise(function(be,Pe){process$1.nextTick(function(){ue[G]?Pe(ue[G]):be(X(void 0,!0))})});var ge=this[K],Ae;if(ge)Ae=new Promise(re(ge,this));else{var Te=this[Y].read();if(Te!==null)return Promise.resolve(X(Te,!1));Ae=new Promise(this[H])}return this[K]=Ae,Ae}},S(B,Symbol.asyncIterator,function(){return this}),S(B,"return",function(){var ue=this;return new Promise(function(_e,ge){ue[Y].destroy(null,function(Ae){if(Ae){ge(Ae);return}_e(X(void 0,!0))})})}),B),ne),ae=function(ue){var _e,ge=Object.create(se,(_e={},S(_e,Y,{value:ue,writable:!0}),S(_e,$,{value:null,writable:!0}),S(_e,j,{value:null,writable:!0}),S(_e,G,{value:null,writable:!0}),S(_e,V,{value:ue._readableState.endEmitted,writable:!0}),S(_e,H,{value:function(Te,be){var Pe=ge[Y].read();Pe?(ge[K]=null,ge[$]=null,ge[j]=null,Te(X(Pe,!1))):(ge[$]=Te,ge[j]=be)},writable:!0}),_e));return ge[K]=null,O(ue,function(Ae){if(Ae&&Ae.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Te=ge[j];Te!==null&&(ge[K]=null,ge[$]=null,ge[j]=null,Te(Ae)),ge[G]=Ae;return}var be=ge[$];be!==null&&(ge[K]=null,ge[$]=null,ge[j]=null,be(X(void 0,!0))),ge[V]=!0}),ue.on("readable",ee.bind(null,ge)),ge};return async_iterator=ae,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=be;var B;be.ReadableState=Te,eventsExports.EventEmitter;var S=function(ce,Se){return ce.listeners(Se).length},D=requireStreamBrowser$1(),q=require$$0$1.Buffer,O=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function $(ye){return q.from(ye)}function j(ye){return q.isBuffer(ye)||ye instanceof O}var G=requireUtil$1(),V;G&&G.debuglog?V=G.debuglog("stream"):V=function(){};var K=requireBuffer_list(),H=requireDestroy$1(),Y=requireState(),X=Y.getHighWaterMark,Q=requireErrorsBrowser().codes,ee=Q.ERR_INVALID_ARG_TYPE,re=Q.ERR_STREAM_PUSH_AFTER_EOF,ne=Q.ERR_METHOD_NOT_IMPLEMENTED,se=Q.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,ae,fe,ue;requireInherits_browser()(be,D);var _e=H.errorOrDestroy,ge=["error","close","destroy","pause","resume"];function Ae(ye,ce,Se){if(typeof ye.prependListener=="function")return ye.prependListener(ce,Se);!ye._events||!ye._events[ce]?ye.on(ce,Se):Array.isArray(ye._events[ce])?ye._events[ce].unshift(Se):ye._events[ce]=[Se,ye._events[ce]]}function Te(ye,ce,Se){B=B||require_stream_duplex$1(),ye=ye||{},typeof Se!="boolean"&&(Se=ce instanceof B),this.objectMode=!!ye.objectMode,Se&&(this.objectMode=this.objectMode||!!ye.readableObjectMode),this.highWaterMark=X(this,ye,"readableHighWaterMark",Se),this.buffer=new K,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ye.emitClose!==!1,this.autoDestroy=!!ye.autoDestroy,this.destroyed=!1,this.defaultEncoding=ye.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ye.encoding&&(ae||(ae=requireString_decoder().StringDecoder),this.decoder=new ae(ye.encoding),this.encoding=ye.encoding)}function be(ye){if(B=B||require_stream_duplex$1(),!(this instanceof be))return new be(ye);var ce=this instanceof B;this._readableState=new Te(ye,this,ce),this.readable=!0,ye&&(typeof ye.read=="function"&&(this._read=ye.read),typeof ye.destroy=="function"&&(this._destroy=ye.destroy)),D.call(this)}Object.defineProperty(be.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ce){this._readableState&&(this._readableState.destroyed=ce)}}),be.prototype.destroy=H.destroy,be.prototype._undestroy=H.undestroy,be.prototype._destroy=function(ye,ce){ce(ye)},be.prototype.push=function(ye,ce){var Se=this._readableState,et;return Se.objectMode?et=!0:typeof ye=="string"&&(ce=ce||Se.defaultEncoding,ce!==Se.encoding&&(ye=q.from(ye,ce),ce=""),et=!0),Pe(this,ye,ce,!1,et)},be.prototype.unshift=function(ye){return Pe(this,ye,null,!0,!1)};function Pe(ye,ce,Se,et,ke){V("readableAddChunk",ce);var De=ye._readableState;if(ce===null)De.reading=!1,L(ye,De);else{var ot;if(ke||(ot=u(De,ce)),ot)_e(ye,ot);else if(De.objectMode||ce&&ce.length>0)if(typeof ce!="string"&&!De.objectMode&&Object.getPrototypeOf(ce)!==q.prototype&&(ce=$(ce)),et)De.endEmitted?_e(ye,new se):J(ye,De,ce,!0);else if(De.ended)_e(ye,new re);else{if(De.destroyed)return!1;De.reading=!1,De.decoder&&!Se?(ce=De.decoder.write(ce),De.objectMode||ce.length!==0?J(ye,De,ce,!1):U(ye,De)):J(ye,De,ce,!1)}else et||(De.reading=!1,U(ye,De))}return!De.ended&&(De.length<De.highWaterMark||De.length===0)}function J(ye,ce,Se,et){ce.flowing&&ce.length===0&&!ce.sync?(ce.awaitDrain=0,ye.emit("data",Se)):(ce.length+=ce.objectMode?1:Se.length,et?ce.buffer.unshift(Se):ce.buffer.push(Se),ce.needReadable&&W(ye)),U(ye,ce)}function u(ye,ce){var Se;return!j(ce)&&typeof ce!="string"&&ce!==void 0&&!ye.objectMode&&(Se=new ee("chunk",["string","Buffer","Uint8Array"],ce)),Se}be.prototype.isPaused=function(){return this._readableState.flowing===!1},be.prototype.setEncoding=function(ye){ae||(ae=requireString_decoder().StringDecoder);var ce=new ae(ye);this._readableState.decoder=ce,this._readableState.encoding=this._readableState.decoder.encoding;for(var Se=this._readableState.buffer.head,et="";Se!==null;)et+=ce.write(Se.data),Se=Se.next;return this._readableState.buffer.clear(),et!==""&&this._readableState.buffer.push(et),this._readableState.length=et.length,this};var T=1073741824;function P(ye){return ye>=T?ye=T:(ye--,ye|=ye>>>1,ye|=ye>>>2,ye|=ye>>>4,ye|=ye>>>8,ye|=ye>>>16,ye++),ye}function N(ye,ce){return ye<=0||ce.length===0&&ce.ended?0:ce.objectMode?1:ye!==ye?ce.flowing&&ce.length?ce.buffer.head.data.length:ce.length:(ye>ce.highWaterMark&&(ce.highWaterMark=P(ye)),ye<=ce.length?ye:ce.ended?ce.length:(ce.needReadable=!0,0))}be.prototype.read=function(ye){V("read",ye),ye=parseInt(ye,10);var ce=this._readableState,Se=ye;if(ye!==0&&(ce.emittedReadable=!1),ye===0&&ce.needReadable&&((ce.highWaterMark!==0?ce.length>=ce.highWaterMark:ce.length>0)||ce.ended))return V("read: emitReadable",ce.length,ce.ended),ce.length===0&&ce.ended?le(this):W(this),null;if(ye=N(ye,ce),ye===0&&ce.ended)return ce.length===0&&le(this),null;var et=ce.needReadable;V("need readable",et),(ce.length===0||ce.length-ye<ce.highWaterMark)&&(et=!0,V("length less than watermark",et)),ce.ended||ce.reading?(et=!1,V("reading or ended",et)):et&&(V("do read"),ce.reading=!0,ce.sync=!0,ce.length===0&&(ce.needReadable=!0),this._read(ce.highWaterMark),ce.sync=!1,ce.reading||(ye=N(Se,ce)));var ke;return ye>0?ke=oe(ye,ce):ke=null,ke===null?(ce.needReadable=ce.length<=ce.highWaterMark,ye=0):(ce.length-=ye,ce.awaitDrain=0),ce.length===0&&(ce.ended||(ce.needReadable=!0),Se!==ye&&ce.ended&&le(this)),ke!==null&&this.emit("data",ke),ke};function L(ye,ce){if(V("onEofChunk"),!ce.ended){if(ce.decoder){var Se=ce.decoder.end();Se&&Se.length&&(ce.buffer.push(Se),ce.length+=ce.objectMode?1:Se.length)}ce.ended=!0,ce.sync?W(ye):(ce.needReadable=!1,ce.emittedReadable||(ce.emittedReadable=!0,Z(ye)))}}function W(ye){var ce=ye._readableState;V("emitReadable",ce.needReadable,ce.emittedReadable),ce.needReadable=!1,ce.emittedReadable||(V("emitReadable",ce.flowing),ce.emittedReadable=!0,process$1.nextTick(Z,ye))}function Z(ye){var ce=ye._readableState;V("emitReadable_",ce.destroyed,ce.length,ce.ended),!ce.destroyed&&(ce.length||ce.ended)&&(ye.emit("readable"),ce.emittedReadable=!1),ce.needReadable=!ce.flowing&&!ce.ended&&ce.length<=ce.highWaterMark,de(ye)}function U(ye,ce){ce.readingMore||(ce.readingMore=!0,process$1.nextTick(M,ye,ce))}function M(ye,ce){for(;!ce.reading&&!ce.ended&&(ce.length<ce.highWaterMark||ce.flowing&&ce.length===0);){var Se=ce.length;if(V("maybeReadMore read 0"),ye.read(0),Se===ce.length)break}ce.readingMore=!1}be.prototype._read=function(ye){_e(this,new ne("_read()"))},be.prototype.pipe=function(ye,ce){var Se=this,et=this._readableState;switch(et.pipesCount){case 0:et.pipes=ye;break;case 1:et.pipes=[et.pipes,ye];break;default:et.pipes.push(ye);break}et.pipesCount+=1,V("pipe count=%d opts=%j",et.pipesCount,ce);var ke=(!ce||ce.end!==!1)&&ye!==process$1.stdout&&ye!==process$1.stderr,De=ke?Le:mt;et.endEmitted?process$1.nextTick(De):Se.once("end",De),ye.on("unpipe",ot);function ot(Fe,Xe){V("onunpipe"),Fe===Se&&Xe&&Xe.hasUnpiped===!1&&(Xe.hasUnpiped=!0,Ne())}function Le(){V("onend"),ye.end()}var $e=F(Se);ye.on("drain",$e);var lt=!1;function Ne(){V("cleanup"),ye.removeListener("close",Ue),ye.removeListener("finish",Ye),ye.removeListener("drain",$e),ye.removeListener("error",ct),ye.removeListener("unpipe",ot),Se.removeListener("end",Le),Se.removeListener("end",mt),Se.removeListener("data",We),lt=!0,et.awaitDrain&&(!ye._writableState||ye._writableState.needDrain)&&$e()}Se.on("data",We);function We(Fe){V("ondata");var Xe=ye.write(Fe);V("dest.write",Xe),Xe===!1&&((et.pipesCount===1&&et.pipes===ye||et.pipesCount>1&&Me(et.pipes,ye)!==-1)&&!lt&&(V("false write response, pause",et.awaitDrain),et.awaitDrain++),Se.pause())}function ct(Fe){V("onerror",Fe),mt(),ye.removeListener("error",ct),S(ye,"error")===0&&_e(ye,Fe)}Ae(ye,"error",ct);function Ue(){ye.removeListener("finish",Ye),mt()}ye.once("close",Ue);function Ye(){V("onfinish"),ye.removeListener("close",Ue),mt()}ye.once("finish",Ye);function mt(){V("unpipe"),Se.unpipe(ye)}return ye.emit("pipe",Se),et.flowing||(V("pipe resume"),Se.resume()),ye};function F(ye){return function(){var Se=ye._readableState;V("pipeOnDrain",Se.awaitDrain),Se.awaitDrain&&Se.awaitDrain--,Se.awaitDrain===0&&S(ye,"data")&&(Se.flowing=!0,de(ye))}}be.prototype.unpipe=function(ye){var ce=this._readableState,Se={hasUnpiped:!1};if(ce.pipesCount===0)return this;if(ce.pipesCount===1)return ye&&ye!==ce.pipes?this:(ye||(ye=ce.pipes),ce.pipes=null,ce.pipesCount=0,ce.flowing=!1,ye&&ye.emit("unpipe",this,Se),this);if(!ye){var et=ce.pipes,ke=ce.pipesCount;ce.pipes=null,ce.pipesCount=0,ce.flowing=!1;for(var De=0;De<ke;De++)et[De].emit("unpipe",this,{hasUnpiped:!1});return this}var ot=Me(ce.pipes,ye);return ot===-1?this:(ce.pipes.splice(ot,1),ce.pipesCount-=1,ce.pipesCount===1&&(ce.pipes=ce.pipes[0]),ye.emit("unpipe",this,Se),this)},be.prototype.on=function(ye,ce){var Se=D.prototype.on.call(this,ye,ce),et=this._readableState;return ye==="data"?(et.readableListening=this.listenerCount("readable")>0,et.flowing!==!1&&this.resume()):ye==="readable"&&!et.endEmitted&&!et.readableListening&&(et.readableListening=et.needReadable=!0,et.flowing=!1,et.emittedReadable=!1,V("on readable",et.length,et.reading),et.length?W(this):et.reading||process$1.nextTick(ie,this)),Se},be.prototype.addListener=be.prototype.on,be.prototype.removeListener=function(ye,ce){var Se=D.prototype.removeListener.call(this,ye,ce);return ye==="readable"&&process$1.nextTick(te,this),Se},be.prototype.removeAllListeners=function(ye){var ce=D.prototype.removeAllListeners.apply(this,arguments);return(ye==="readable"||ye===void 0)&&process$1.nextTick(te,this),ce};function te(ye){var ce=ye._readableState;ce.readableListening=ye.listenerCount("readable")>0,ce.resumeScheduled&&!ce.paused?ce.flowing=!0:ye.listenerCount("data")>0&&ye.resume()}function ie(ye){V("readable nexttick read 0"),ye.read(0)}be.prototype.resume=function(){var ye=this._readableState;return ye.flowing||(V("resume"),ye.flowing=!ye.readableListening,he(this,ye)),ye.paused=!1,this};function he(ye,ce){ce.resumeScheduled||(ce.resumeScheduled=!0,process$1.nextTick(pe,ye,ce))}function pe(ye,ce){V("resume",ce.reading),ce.reading||ye.read(0),ce.resumeScheduled=!1,ye.emit("resume"),de(ye),ce.flowing&&!ce.reading&&ye.read(0)}be.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function de(ye){var ce=ye._readableState;for(V("flow",ce.flowing);ce.flowing&&ye.read()!==null;);}be.prototype.wrap=function(ye){var ce=this,Se=this._readableState,et=!1;ye.on("end",function(){if(V("wrapped end"),Se.decoder&&!Se.ended){var ot=Se.decoder.end();ot&&ot.length&&ce.push(ot)}ce.push(null)}),ye.on("data",function(ot){if(V("wrapped data"),Se.decoder&&(ot=Se.decoder.write(ot)),!(Se.objectMode&&ot==null)&&!(!Se.objectMode&&(!ot||!ot.length))){var Le=ce.push(ot);Le||(et=!0,ye.pause())}});for(var ke in ye)this[ke]===void 0&&typeof ye[ke]=="function"&&(this[ke]=function(Le){return function(){return ye[Le].apply(ye,arguments)}}(ke));for(var De=0;De<ge.length;De++)ye.on(ge[De],this.emit.bind(this,ge[De]));return this._read=function(ot){V("wrapped _read",ot),et&&(et=!1,ye.resume())},this},typeof Symbol=="function"&&(be.prototype[Symbol.asyncIterator]=function(){return fe===void 0&&(fe=requireAsync_iterator()),fe(this)}),Object.defineProperty(be.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(be.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(be.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ce){this._readableState&&(this._readableState.flowing=ce)}}),be._fromList=oe,Object.defineProperty(be.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function oe(ye,ce){if(ce.length===0)return null;var Se;return ce.objectMode?Se=ce.buffer.shift():!ye||ye>=ce.length?(ce.decoder?Se=ce.buffer.join(""):ce.buffer.length===1?Se=ce.buffer.first():Se=ce.buffer.concat(ce.length),ce.buffer.clear()):Se=ce.buffer.consume(ye,ce.decoder),Se}function le(ye){var ce=ye._readableState;V("endReadable",ce.endEmitted),ce.endEmitted||(ce.ended=!0,process$1.nextTick(ve,ce,ye))}function ve(ye,ce){if(V("endReadableNT",ye.endEmitted,ye.length),!ye.endEmitted&&ye.length===0&&(ye.endEmitted=!0,ce.readable=!1,ce.emit("end"),ye.autoDestroy)){var Se=ce._writableState;(!Se||Se.autoDestroy&&Se.finished)&&ce.destroy()}}typeof Symbol=="function"&&(be.from=function(ye,ce){return ue===void 0&&(ue=requireFromBrowser()),ue(be,ye,ce)});function Me(ye,ce){for(var Se=0,et=ye.length;Se<et;Se++)if(ye[Se]===ce)return Se;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=G;var B=requireErrorsBrowser().codes,S=B.ERR_METHOD_NOT_IMPLEMENTED,D=B.ERR_MULTIPLE_CALLBACK,q=B.ERR_TRANSFORM_ALREADY_TRANSFORMING,O=B.ERR_TRANSFORM_WITH_LENGTH_0,$=require_stream_duplex$1();requireInherits_browser()(G,$);function j(H,Y){var X=this._transformState;X.transforming=!1;var Q=X.writecb;if(Q===null)return this.emit("error",new D);X.writechunk=null,X.writecb=null,Y!=null&&this.push(Y),Q(H);var ee=this._readableState;ee.reading=!1,(ee.needReadable||ee.length<ee.highWaterMark)&&this._read(ee.highWaterMark)}function G(H){if(!(this instanceof G))return new G(H);$.call(this,H),this._transformState={afterTransform:j.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,H&&(typeof H.transform=="function"&&(this._transform=H.transform),typeof H.flush=="function"&&(this._flush=H.flush)),this.on("prefinish",V)}function V(){var H=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(Y,X){K(H,Y,X)}):K(this,null,null)}G.prototype.push=function(H,Y){return this._transformState.needTransform=!1,$.prototype.push.call(this,H,Y)},G.prototype._transform=function(H,Y,X){X(new S("_transform()"))},G.prototype._write=function(H,Y,X){var Q=this._transformState;if(Q.writecb=X,Q.writechunk=H,Q.writeencoding=Y,!Q.transforming){var ee=this._readableState;(Q.needTransform||ee.needReadable||ee.length<ee.highWaterMark)&&this._read(ee.highWaterMark)}},G.prototype._read=function(H){var Y=this._transformState;Y.writechunk!==null&&!Y.transforming?(Y.transforming=!0,this._transform(Y.writechunk,Y.writeencoding,Y.afterTransform)):Y.needTransform=!0},G.prototype._destroy=function(H,Y){$.prototype._destroy.call(this,H,function(X){Y(X)})};function K(H,Y,X){if(Y)return H.emit("error",Y);if(X!=null&&H.push(X),H._writableState.length)throw new O;if(H._transformState.transforming)throw new q;return H.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=S;var B=require_stream_transform$1();requireInherits_browser()(S,B);function S(D){if(!(this instanceof S))return new S(D);B.call(this,D)}return S.prototype._transform=function(D,q,O){O(null,D)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var B;function S(X){var Q=!1;return function(){Q||(Q=!0,X.apply(void 0,arguments))}}var D=requireErrorsBrowser().codes,q=D.ERR_MISSING_ARGS,O=D.ERR_STREAM_DESTROYED;function $(X){if(X)throw X}function j(X){return X.setHeader&&typeof X.abort=="function"}function G(X,Q,ee,re){re=S(re);var ne=!1;X.on("close",function(){ne=!0}),B===void 0&&(B=requireEndOfStream()),B(X,{readable:Q,writable:ee},function(ae){if(ae)return re(ae);ne=!0,re()});var se=!1;return function(ae){if(!ne&&!se){if(se=!0,j(X))return X.abort();if(typeof X.destroy=="function")return X.destroy();re(ae||new O("pipe"))}}}function V(X){X()}function K(X,Q){return X.pipe(Q)}function H(X){return!X.length||typeof X[X.length-1]!="function"?$:X.pop()}function Y(){for(var X=arguments.length,Q=new Array(X),ee=0;ee<X;ee++)Q[ee]=arguments[ee];var re=H(Q);if(Array.isArray(Q[0])&&(Q=Q[0]),Q.length<2)throw new q("streams");var ne,se=Q.map(function(ae,fe){var ue=fe<Q.length-1,_e=fe>0;return G(ae,ue,_e,function(ge){ne||(ne=ge),ge&&se.forEach(V),!ue&&(se.forEach(V),re(ne))})});return Q.reduce(K)}return pipeline_1=Y,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=D;var B=eventsExports.EventEmitter,S=requireInherits_browser();S(D,B),D.Readable=require_stream_readable$1(),D.Writable=require_stream_writable$1(),D.Duplex=require_stream_duplex$1(),D.Transform=require_stream_transform$1(),D.PassThrough=require_stream_passthrough$1(),D.finished=requireEndOfStream(),D.pipeline=requirePipeline(),D.Stream=D;function D(){B.call(this)}return D.prototype.pipe=function(q,O){var $=this;function j(Q){q.writable&&q.write(Q)===!1&&$.pause&&$.pause()}$.on("data",j);function G(){$.readable&&$.resume&&$.resume()}q.on("drain",G),!q._isStdio&&(!O||O.end!==!1)&&($.on("end",K),$.on("close",H));var V=!1;function K(){V||(V=!0,q.end())}function H(){V||(V=!0,typeof q.destroy=="function"&&q.destroy())}function Y(Q){if(X(),B.listenerCount(this,"error")===0)throw Q}$.on("error",Y),q.on("error",Y);function X(){$.removeListener("data",j),q.removeListener("drain",G),$.removeListener("end",K),$.removeListener("close",H),$.removeListener("error",Y),q.removeListener("error",Y),$.removeListener("end",X),$.removeListener("close",X),q.removeListener("close",X)}return $.on("end",X),$.on("close",X),q.on("close",X),q.emit("pipe",$),q},streamBrowserify}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var B=requireSafeBuffer$6().Buffer,S=requireStreamBrowserify().Transform,D=requireInherits_browser();function q($,j){if(!B.isBuffer($)&&typeof $!="string")throw new TypeError(j+" must be a string or a buffer")}function O($){S.call(this),this._block=B.allocUnsafe($),this._blockSize=$,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return D(O,S),O.prototype._transform=function($,j,G){var V=null;try{this.update($,j)}catch(K){V=K}G(V)},O.prototype._flush=function($){var j=null;try{this.push(this.digest())}catch(G){j=G}$(j)},O.prototype.update=function($,j){if(q($,"Data"),this._finalized)throw new Error("Digest already called");B.isBuffer($)||($=B.from($,j));for(var G=this._block,V=0;this._blockOffset+$.length-V>=this._blockSize;){for(var K=this._blockOffset;K<this._blockSize;)G[K++]=$[V++];this._update(),this._blockOffset=0}for(;V<$.length;)G[this._blockOffset++]=$[V++];for(var H=0,Y=$.length*8;Y>0;++H)this._length[H]+=Y,Y=this._length[H]/4294967296|0,Y>0&&(this._length[H]-=4294967296*Y);return this},O.prototype._update=function(){throw new Error("_update is not implemented")},O.prototype.digest=function($){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var j=this._digest();$!==void 0&&(j=j.toString($)),this._block.fill(0),this._blockOffset=0;for(var G=0;G<4;++G)this._length[G]=0;return j},O.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=O,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var B=requireInherits_browser(),S=requireHashBase(),D=requireSafeBuffer$6().Buffer,q=new Array(16);function O(){S.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}B(O,S),O.prototype._update=function(){for(var H=q,Y=0;Y<16;++Y)H[Y]=this._block.readInt32LE(Y*4);var X=this._a,Q=this._b,ee=this._c,re=this._d;X=j(X,Q,ee,re,H[0],3614090360,7),re=j(re,X,Q,ee,H[1],3905402710,12),ee=j(ee,re,X,Q,H[2],606105819,17),Q=j(Q,ee,re,X,H[3],3250441966,22),X=j(X,Q,ee,re,H[4],4118548399,7),re=j(re,X,Q,ee,H[5],1200080426,12),ee=j(ee,re,X,Q,H[6],2821735955,17),Q=j(Q,ee,re,X,H[7],4249261313,22),X=j(X,Q,ee,re,H[8],1770035416,7),re=j(re,X,Q,ee,H[9],2336552879,12),ee=j(ee,re,X,Q,H[10],4294925233,17),Q=j(Q,ee,re,X,H[11],2304563134,22),X=j(X,Q,ee,re,H[12],1804603682,7),re=j(re,X,Q,ee,H[13],4254626195,12),ee=j(ee,re,X,Q,H[14],2792965006,17),Q=j(Q,ee,re,X,H[15],1236535329,22),X=G(X,Q,ee,re,H[1],4129170786,5),re=G(re,X,Q,ee,H[6],3225465664,9),ee=G(ee,re,X,Q,H[11],643717713,14),Q=G(Q,ee,re,X,H[0],3921069994,20),X=G(X,Q,ee,re,H[5],3593408605,5),re=G(re,X,Q,ee,H[10],38016083,9),ee=G(ee,re,X,Q,H[15],3634488961,14),Q=G(Q,ee,re,X,H[4],3889429448,20),X=G(X,Q,ee,re,H[9],568446438,5),re=G(re,X,Q,ee,H[14],3275163606,9),ee=G(ee,re,X,Q,H[3],4107603335,14),Q=G(Q,ee,re,X,H[8],1163531501,20),X=G(X,Q,ee,re,H[13],2850285829,5),re=G(re,X,Q,ee,H[2],4243563512,9),ee=G(ee,re,X,Q,H[7],1735328473,14),Q=G(Q,ee,re,X,H[12],2368359562,20),X=V(X,Q,ee,re,H[5],4294588738,4),re=V(re,X,Q,ee,H[8],2272392833,11),ee=V(ee,re,X,Q,H[11],1839030562,16),Q=V(Q,ee,re,X,H[14],4259657740,23),X=V(X,Q,ee,re,H[1],2763975236,4),re=V(re,X,Q,ee,H[4],1272893353,11),ee=V(ee,re,X,Q,H[7],4139469664,16),Q=V(Q,ee,re,X,H[10],3200236656,23),X=V(X,Q,ee,re,H[13],681279174,4),re=V(re,X,Q,ee,H[0],3936430074,11),ee=V(ee,re,X,Q,H[3],3572445317,16),Q=V(Q,ee,re,X,H[6],76029189,23),X=V(X,Q,ee,re,H[9],3654602809,4),re=V(re,X,Q,ee,H[12],3873151461,11),ee=V(ee,re,X,Q,H[15],530742520,16),Q=V(Q,ee,re,X,H[2],3299628645,23),X=K(X,Q,ee,re,H[0],4096336452,6),re=K(re,X,Q,ee,H[7],1126891415,10),ee=K(ee,re,X,Q,H[14],2878612391,15),Q=K(Q,ee,re,X,H[5],4237533241,21),X=K(X,Q,ee,re,H[12],1700485571,6),re=K(re,X,Q,ee,H[3],2399980690,10),ee=K(ee,re,X,Q,H[10],4293915773,15),Q=K(Q,ee,re,X,H[1],2240044497,21),X=K(X,Q,ee,re,H[8],1873313359,6),re=K(re,X,Q,ee,H[15],4264355552,10),ee=K(ee,re,X,Q,H[6],2734768916,15),Q=K(Q,ee,re,X,H[13],1309151649,21),X=K(X,Q,ee,re,H[4],4149444226,6),re=K(re,X,Q,ee,H[11],3174756917,10),ee=K(ee,re,X,Q,H[2],718787259,15),Q=K(Q,ee,re,X,H[9],3951481745,21),this._a=this._a+X|0,this._b=this._b+Q|0,this._c=this._c+ee|0,this._d=this._d+re|0},O.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var H=D.allocUnsafe(16);return H.writeInt32LE(this._a,0),H.writeInt32LE(this._b,4),H.writeInt32LE(this._c,8),H.writeInt32LE(this._d,12),H};function $(H,Y){return H<<Y|H>>>32-Y}function j(H,Y,X,Q,ee,re,ne){return $(H+(Y&X|~Y&Q)+ee+re|0,ne)+Y|0}function G(H,Y,X,Q,ee,re,ne){return $(H+(Y&Q|X&~Q)+ee+re|0,ne)+Y|0}function V(H,Y,X,Q,ee,re,ne){return $(H+(Y^X^Q)+ee+re|0,ne)+Y|0}function K(H,Y,X,Q,ee,re,ne){return $(H+(X^(Y|~Q))+ee+re|0,ne)+Y|0}return md5_js=O,md5_js}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var B=require$$0$1.Buffer,S=requireInherits_browser(),D=requireHashBase(),q=new Array(16),O=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],$=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],j=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],G=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],V=[0,1518500249,1859775393,2400959708,2840853838],K=[1352829926,1548603684,1836072691,2053994217,0];function H(){D.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}S(H,D),H.prototype._update=function(){for(var se=q,ae=0;ae<16;++ae)se[ae]=this._block.readInt32LE(ae*4);for(var fe=this._a|0,ue=this._b|0,_e=this._c|0,ge=this._d|0,Ae=this._e|0,Te=this._a|0,be=this._b|0,Pe=this._c|0,J=this._d|0,u=this._e|0,T=0;T<80;T+=1){var P,N;T<16?(P=X(fe,ue,_e,ge,Ae,se[O[T]],V[0],j[T]),N=ne(Te,be,Pe,J,u,se[$[T]],K[0],G[T])):T<32?(P=Q(fe,ue,_e,ge,Ae,se[O[T]],V[1],j[T]),N=re(Te,be,Pe,J,u,se[$[T]],K[1],G[T])):T<48?(P=ee(fe,ue,_e,ge,Ae,se[O[T]],V[2],j[T]),N=ee(Te,be,Pe,J,u,se[$[T]],K[2],G[T])):T<64?(P=re(fe,ue,_e,ge,Ae,se[O[T]],V[3],j[T]),N=Q(Te,be,Pe,J,u,se[$[T]],K[3],G[T])):(P=ne(fe,ue,_e,ge,Ae,se[O[T]],V[4],j[T]),N=X(Te,be,Pe,J,u,se[$[T]],K[4],G[T])),fe=Ae,Ae=ge,ge=Y(_e,10),_e=ue,ue=P,Te=u,u=J,J=Y(Pe,10),Pe=be,be=N}var L=this._b+_e+J|0;this._b=this._c+ge+u|0,this._c=this._d+Ae+Te|0,this._d=this._e+fe+be|0,this._e=this._a+ue+Pe|0,this._a=L},H.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var se=B.alloc?B.alloc(20):new B(20);return se.writeInt32LE(this._a,0),se.writeInt32LE(this._b,4),se.writeInt32LE(this._c,8),se.writeInt32LE(this._d,12),se.writeInt32LE(this._e,16),se};function Y(se,ae){return se<<ae|se>>>32-ae}function X(se,ae,fe,ue,_e,ge,Ae,Te){return Y(se+(ae^fe^ue)+ge+Ae|0,Te)+_e|0}function Q(se,ae,fe,ue,_e,ge,Ae,Te){return Y(se+(ae&fe|~ae&ue)+ge+Ae|0,Te)+_e|0}function ee(se,ae,fe,ue,_e,ge,Ae,Te){return Y(se+((ae|~fe)^ue)+ge+Ae|0,Te)+_e|0}function re(se,ae,fe,ue,_e,ge,Ae,Te){return Y(se+(ae&ue|fe&~ue)+ge+Ae|0,Te)+_e|0}function ne(se,ae,fe,ue,_e,ge,Ae,Te){return Y(se+(ae^(fe|~ue))+ge+Ae|0,Te)+_e|0}return ripemd160=H,ripemd160}var sha_js={exports:{}},hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var B=requireSafeBuffer$6().Buffer;function S(D,q){this._block=B.alloc(D),this._finalSize=q,this._blockSize=D,this._len=0}return S.prototype.update=function(D,q){typeof D=="string"&&(q=q||"utf8",D=B.from(D,q));for(var O=this._block,$=this._blockSize,j=D.length,G=this._len,V=0;V<j;){for(var K=G%$,H=Math.min(j-V,$-K),Y=0;Y<H;Y++)O[K+Y]=D[V+Y];G+=H,V+=H,G%$===0&&this._update(O)}return this._len+=j,this},S.prototype.digest=function(D){var q=this._len%this._blockSize;this._block[q]=128,this._block.fill(0,q+1),q>=this._finalSize&&(this._update(this._block),this._block.fill(0));var O=this._len*8;if(O<=4294967295)this._block.writeUInt32BE(O,this._blockSize-4);else{var $=(O&4294967295)>>>0,j=(O-$)/4294967296;this._block.writeUInt32BE(j,this._blockSize-8),this._block.writeUInt32BE($,this._blockSize-4)}this._update(this._block);var G=this._hash();return D?G.toString(D):G},S.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=S,hash$1}var sha$1,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var B=requireInherits_browser(),S=requireHash$1(),D=requireSafeBuffer$6().Buffer,q=[1518500249,1859775393,-1894007588,-899497514],O=new Array(80);function $(){this.init(),this._w=O,S.call(this,64,56)}B($,S),$.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function j(K){return K<<5|K>>>27}function G(K){return K<<30|K>>>2}function V(K,H,Y,X){return K===0?H&Y|~H&X:K===2?H&Y|H&X|Y&X:H^Y^X}return $.prototype._update=function(K){for(var H=this._w,Y=this._a|0,X=this._b|0,Q=this._c|0,ee=this._d|0,re=this._e|0,ne=0;ne<16;++ne)H[ne]=K.readInt32BE(ne*4);for(;ne<80;++ne)H[ne]=H[ne-3]^H[ne-8]^H[ne-14]^H[ne-16];for(var se=0;se<80;++se){var ae=~~(se/20),fe=j(Y)+V(ae,X,Q,ee)+re+H[se]+q[ae]|0;re=ee,ee=Q,Q=G(X),X=Y,Y=fe}this._a=Y+this._a|0,this._b=X+this._b|0,this._c=Q+this._c|0,this._d=ee+this._d|0,this._e=re+this._e|0},$.prototype._hash=function(){var K=D.allocUnsafe(20);return K.writeInt32BE(this._a|0,0),K.writeInt32BE(this._b|0,4),K.writeInt32BE(this._c|0,8),K.writeInt32BE(this._d|0,12),K.writeInt32BE(this._e|0,16),K},sha$1=$,sha$1}var sha1,hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1;hasRequiredSha1=1;var B=requireInherits_browser(),S=requireHash$1(),D=requireSafeBuffer$6().Buffer,q=[1518500249,1859775393,-1894007588,-899497514],O=new Array(80);function $(){this.init(),this._w=O,S.call(this,64,56)}B($,S),$.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function j(H){return H<<1|H>>>31}function G(H){return H<<5|H>>>27}function V(H){return H<<30|H>>>2}function K(H,Y,X,Q){return H===0?Y&X|~Y&Q:H===2?Y&X|Y&Q|X&Q:Y^X^Q}return $.prototype._update=function(H){for(var Y=this._w,X=this._a|0,Q=this._b|0,ee=this._c|0,re=this._d|0,ne=this._e|0,se=0;se<16;++se)Y[se]=H.readInt32BE(se*4);for(;se<80;++se)Y[se]=j(Y[se-3]^Y[se-8]^Y[se-14]^Y[se-16]);for(var ae=0;ae<80;++ae){var fe=~~(ae/20),ue=G(X)+K(fe,Q,ee,re)+ne+Y[ae]+q[fe]|0;ne=re,re=ee,ee=V(Q),Q=X,X=ue}this._a=X+this._a|0,this._b=Q+this._b|0,this._c=ee+this._c|0,this._d=re+this._d|0,this._e=ne+this._e|0},$.prototype._hash=function(){var H=D.allocUnsafe(20);return H.writeInt32BE(this._a|0,0),H.writeInt32BE(this._b|0,4),H.writeInt32BE(this._c|0,8),H.writeInt32BE(this._d|0,12),H.writeInt32BE(this._e|0,16),H},sha1=$,sha1}var sha256$2,hasRequiredSha256;function requireSha256(){if(hasRequiredSha256)return sha256$2;hasRequiredSha256=1;var B=requireInherits_browser(),S=requireHash$1(),D=requireSafeBuffer$6().Buffer,q=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],O=new Array(64);function $(){this.init(),this._w=O,S.call(this,64,56)}B($,S),$.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function j(X,Q,ee){return ee^X&(Q^ee)}function G(X,Q,ee){return X&Q|ee&(X|Q)}function V(X){return(X>>>2|X<<30)^(X>>>13|X<<19)^(X>>>22|X<<10)}function K(X){return(X>>>6|X<<26)^(X>>>11|X<<21)^(X>>>25|X<<7)}function H(X){return(X>>>7|X<<25)^(X>>>18|X<<14)^X>>>3}function Y(X){return(X>>>17|X<<15)^(X>>>19|X<<13)^X>>>10}return $.prototype._update=function(X){for(var Q=this._w,ee=this._a|0,re=this._b|0,ne=this._c|0,se=this._d|0,ae=this._e|0,fe=this._f|0,ue=this._g|0,_e=this._h|0,ge=0;ge<16;++ge)Q[ge]=X.readInt32BE(ge*4);for(;ge<64;++ge)Q[ge]=Y(Q[ge-2])+Q[ge-7]+H(Q[ge-15])+Q[ge-16]|0;for(var Ae=0;Ae<64;++Ae){var Te=_e+K(ae)+j(ae,fe,ue)+q[Ae]+Q[Ae]|0,be=V(ee)+G(ee,re,ne)|0;_e=ue,ue=fe,fe=ae,ae=se+Te|0,se=ne,ne=re,re=ee,ee=Te+be|0}this._a=ee+this._a|0,this._b=re+this._b|0,this._c=ne+this._c|0,this._d=se+this._d|0,this._e=ae+this._e|0,this._f=fe+this._f|0,this._g=ue+this._g|0,this._h=_e+this._h|0},$.prototype._hash=function(){var X=D.allocUnsafe(32);return X.writeInt32BE(this._a,0),X.writeInt32BE(this._b,4),X.writeInt32BE(this._c,8),X.writeInt32BE(this._d,12),X.writeInt32BE(this._e,16),X.writeInt32BE(this._f,20),X.writeInt32BE(this._g,24),X.writeInt32BE(this._h,28),X},sha256$2=$,sha256$2}var sha224$1,hasRequiredSha224;function requireSha224(){if(hasRequiredSha224)return sha224$1;hasRequiredSha224=1;var B=requireInherits_browser(),S=requireSha256(),D=requireHash$1(),q=requireSafeBuffer$6().Buffer,O=new Array(64);function $(){this.init(),this._w=O,D.call(this,64,56)}return B($,S),$.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},$.prototype._hash=function(){var j=q.allocUnsafe(28);return j.writeInt32BE(this._a,0),j.writeInt32BE(this._b,4),j.writeInt32BE(this._c,8),j.writeInt32BE(this._d,12),j.writeInt32BE(this._e,16),j.writeInt32BE(this._f,20),j.writeInt32BE(this._g,24),j},sha224$1=$,sha224$1}var sha512$1,hasRequiredSha512;function requireSha512(){if(hasRequiredSha512)return sha512$1;hasRequiredSha512=1;var B=requireInherits_browser(),S=requireHash$1(),D=requireSafeBuffer$6().Buffer,q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],O=new Array(160);function $(){this.init(),this._w=O,S.call(this,128,112)}B($,S),$.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function j(re,ne,se){return se^re&(ne^se)}function G(re,ne,se){return re&ne|se&(re|ne)}function V(re,ne){return(re>>>28|ne<<4)^(ne>>>2|re<<30)^(ne>>>7|re<<25)}function K(re,ne){return(re>>>14|ne<<18)^(re>>>18|ne<<14)^(ne>>>9|re<<23)}function H(re,ne){return(re>>>1|ne<<31)^(re>>>8|ne<<24)^re>>>7}function Y(re,ne){return(re>>>1|ne<<31)^(re>>>8|ne<<24)^(re>>>7|ne<<25)}function X(re,ne){return(re>>>19|ne<<13)^(ne>>>29|re<<3)^re>>>6}function Q(re,ne){return(re>>>19|ne<<13)^(ne>>>29|re<<3)^(re>>>6|ne<<26)}function ee(re,ne){return re>>>0<ne>>>0?1:0}return $.prototype._update=function(re){for(var ne=this._w,se=this._ah|0,ae=this._bh|0,fe=this._ch|0,ue=this._dh|0,_e=this._eh|0,ge=this._fh|0,Ae=this._gh|0,Te=this._hh|0,be=this._al|0,Pe=this._bl|0,J=this._cl|0,u=this._dl|0,T=this._el|0,P=this._fl|0,N=this._gl|0,L=this._hl|0,W=0;W<32;W+=2)ne[W]=re.readInt32BE(W*4),ne[W+1]=re.readInt32BE(W*4+4);for(;W<160;W+=2){var Z=ne[W-30],U=ne[W-15*2+1],M=H(Z,U),F=Y(U,Z);Z=ne[W-2*2],U=ne[W-2*2+1];var te=X(Z,U),ie=Q(U,Z),he=ne[W-7*2],pe=ne[W-7*2+1],de=ne[W-16*2],oe=ne[W-16*2+1],le=F+pe|0,ve=M+he+ee(le,F)|0;le=le+ie|0,ve=ve+te+ee(le,ie)|0,le=le+oe|0,ve=ve+de+ee(le,oe)|0,ne[W]=ve,ne[W+1]=le}for(var Me=0;Me<160;Me+=2){ve=ne[Me],le=ne[Me+1];var ye=G(se,ae,fe),ce=G(be,Pe,J),Se=V(se,be),et=V(be,se),ke=K(_e,T),De=K(T,_e),ot=q[Me],Le=q[Me+1],$e=j(_e,ge,Ae),lt=j(T,P,N),Ne=L+De|0,We=Te+ke+ee(Ne,L)|0;Ne=Ne+lt|0,We=We+$e+ee(Ne,lt)|0,Ne=Ne+Le|0,We=We+ot+ee(Ne,Le)|0,Ne=Ne+le|0,We=We+ve+ee(Ne,le)|0;var ct=et+ce|0,Ue=Se+ye+ee(ct,et)|0;Te=Ae,L=N,Ae=ge,N=P,ge=_e,P=T,T=u+Ne|0,_e=ue+We+ee(T,u)|0,ue=fe,u=J,fe=ae,J=Pe,ae=se,Pe=be,be=Ne+ct|0,se=We+Ue+ee(be,Ne)|0}this._al=this._al+be|0,this._bl=this._bl+Pe|0,this._cl=this._cl+J|0,this._dl=this._dl+u|0,this._el=this._el+T|0,this._fl=this._fl+P|0,this._gl=this._gl+N|0,this._hl=this._hl+L|0,this._ah=this._ah+se+ee(this._al,be)|0,this._bh=this._bh+ae+ee(this._bl,Pe)|0,this._ch=this._ch+fe+ee(this._cl,J)|0,this._dh=this._dh+ue+ee(this._dl,u)|0,this._eh=this._eh+_e+ee(this._el,T)|0,this._fh=this._fh+ge+ee(this._fl,P)|0,this._gh=this._gh+Ae+ee(this._gl,N)|0,this._hh=this._hh+Te+ee(this._hl,L)|0},$.prototype._hash=function(){var re=D.allocUnsafe(64);function ne(se,ae,fe){re.writeInt32BE(se,fe),re.writeInt32BE(ae,fe+4)}return ne(this._ah,this._al,0),ne(this._bh,this._bl,8),ne(this._ch,this._cl,16),ne(this._dh,this._dl,24),ne(this._eh,this._el,32),ne(this._fh,this._fl,40),ne(this._gh,this._gl,48),ne(this._hh,this._hl,56),re},sha512$1=$,sha512$1}var sha384$1,hasRequiredSha384;function requireSha384(){if(hasRequiredSha384)return sha384$1;hasRequiredSha384=1;var B=requireInherits_browser(),S=requireSha512(),D=requireHash$1(),q=requireSafeBuffer$6().Buffer,O=new Array(160);function $(){this.init(),this._w=O,D.call(this,128,112)}return B($,S),$.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},$.prototype._hash=function(){var j=q.allocUnsafe(48);function G(V,K,H){j.writeInt32BE(V,H),j.writeInt32BE(K,H+4)}return G(this._ah,this._al,0),G(this._bh,this._bl,8),G(this._ch,this._cl,16),G(this._dh,this._dl,24),G(this._eh,this._el,32),G(this._fh,this._fl,40),j},sha384$1=$,sha384$1}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var B=sha_js.exports=function(D){D=D.toLowerCase();var q=B[D];if(!q)throw new Error(D+" is not supported (we accept pull requests)");return new q};return B.sha=requireSha$1(),B.sha1=requireSha1(),B.sha224=requireSha224(),B.sha256=requireSha256(),B.sha384=requireSha384(),B.sha512=requireSha512(),sha_js.exports}var safeBuffer$4={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$4;function requireSafeBuffer$4(){return hasRequiredSafeBuffer$4||(hasRequiredSafeBuffer$4=1,function(B,S){var D=require$$0$1,q=D.Buffer;function O(j,G){for(var V in j)G[V]=j[V]}q.from&&q.alloc&&q.allocUnsafe&&q.allocUnsafeSlow?B.exports=D:(O(D,S),S.Buffer=$);function $(j,G,V){return q(j,G,V)}$.prototype=Object.create(q.prototype),O(q,$),$.from=function(j,G,V){if(typeof j=="number")throw new TypeError("Argument must not be a number");return q(j,G,V)},$.alloc=function(j,G,V){if(typeof j!="number")throw new TypeError("Argument must be a number");var K=q(j);return G!==void 0?typeof V=="string"?K.fill(G,V):K.fill(G):K.fill(0),K},$.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return q(j)},$.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return D.SlowBuffer(j)}}(safeBuffer$4,safeBuffer$4.exports)),safeBuffer$4.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var B=requireSafeBuffer$4().Buffer,S=requireStreamBrowserify().Transform,D=requireString_decoder().StringDecoder,q=requireInherits_browser();function O(G){S.call(this),this.hashMode=typeof G=="string",this.hashMode?this[G]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}q(O,S);var $=typeof Uint8Array<"u",j=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(B.prototype instanceof Uint8Array||B.TYPED_ARRAY_SUPPORT);return O.prototype.update=function(G,V,K){var H;if(G instanceof B)H=G;else if(typeof G=="string")H=B.from(G,V);else if(j&&ArrayBuffer.isView(G))H=B.from(G.buffer,G.byteOffset,G.byteLength);else if($&&G instanceof Uint8Array)H=B.from(G);else if(B.isBuffer(G)&&G.constructor&&G.constructor.isBuffer&&G.constructor.isBuffer(G))H=B.from(G);else throw new Error('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.');var Y=this._update(H);return this.hashMode?this:(K&&(Y=this._toString(Y,K)),Y)},O.prototype.setAutoPadding=function(){},O.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},O.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},O.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},O.prototype._transform=function(G,V,K){var H;try{this.hashMode?this._update(G):this.push(this._update(G))}catch(Y){H=Y}finally{K(H)}},O.prototype._flush=function(G){var V;try{this.push(this.__final())}catch(K){V=K}G(V)},O.prototype._finalOrDigest=function(G){var V=this.__final()||B.alloc(0);return G&&(V=this._toString(V,G,!0)),V},O.prototype._toString=function(G,V,K){if(this._decoder||(this._decoder=new D(V),this._encoding=V),this._encoding!==V)throw new Error("can’t switch encodings");var H=this._decoder.write(G);return K&&(H+=this._decoder.end()),H},cipherBase=O,cipherBase}var browser$9,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$9;hasRequiredBrowser$9=1;var B=requireInherits_browser(),S=requireMd5_js(),D=requireRipemd160(),q=requireSha_js(),O=requireCipherBase();function $(j){O.call(this,"digest"),this._hash=j}return B($,O),$.prototype._update=function(j){this._hash.update(j)},$.prototype._final=function(){return this._hash.digest()},browser$9=function(G){return G=G.toLowerCase(),G==="md5"?new S:G==="rmd160"||G==="ripemd160"?new D:new $(q(G))},browser$9}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var B=requireInherits_browser(),S=requireSafeBuffer$6().Buffer,D=requireCipherBase(),q=S.alloc(128),O=64;function $(j,G){D.call(this,"digest"),typeof G=="string"&&(G=S.from(G)),this._alg=j,this._key=G,G.length>O?G=j(G):G.length<O&&(G=S.concat([G,q],O));for(var V=this._ipad=S.allocUnsafe(O),K=this._opad=S.allocUnsafe(O),H=0;H<O;H++)V[H]=G[H]^54,K[H]=G[H]^92;this._hash=[V]}return B($,D),$.prototype._update=function(j){this._hash.push(j)},$.prototype._final=function(){var j=this._alg(S.concat(this._hash));return this._alg(S.concat([this._opad,j]))},legacy=$,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var B=requireMd5_js();return md5=function(S){return new B().update(S).digest()},md5}var browser$8,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$8;hasRequiredBrowser$8=1;var B=requireInherits_browser(),S=requireLegacy(),D=requireCipherBase(),q=requireSafeBuffer$6().Buffer,O=requireMd5(),$=requireRipemd160(),j=requireSha_js(),G=q.alloc(128);function V(K,H){D.call(this,"digest"),typeof H=="string"&&(H=q.from(H));var Y=K==="sha512"||K==="sha384"?128:64;if(this._alg=K,this._key=H,H.length>Y){var X=K==="rmd160"?new $:j(K);H=X.update(H).digest()}else H.length<Y&&(H=q.concat([H,G],Y));for(var Q=this._ipad=q.allocUnsafe(Y),ee=this._opad=q.allocUnsafe(Y),re=0;re<Y;re++)Q[re]=H[re]^54,ee[re]=H[re]^92;this._hash=K==="rmd160"?new $:j(K),this._hash.update(Q)}return B(V,D),V.prototype._update=function(K){this._hash.update(K)},V.prototype._final=function(){var K=this._hash.digest(),H=this._alg==="rmd160"?new $:j(this._alg);return H.update(this._opad).update(K).digest()},browser$8=function(H,Y){return H=H.toLowerCase(),H==="rmd160"||H==="ripemd160"?new V("rmd160",Y):H==="md5"?new S(O,Y):new V(H,Y)},browser$8}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$7={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var B=Math.pow(2,30)-1;return precondition=function(S,D){if(typeof S!="number")throw new TypeError("Iterations not a number");if(S<0)throw new TypeError("Bad iterations");if(typeof D!="number")throw new TypeError("Key length not a number");if(D<0||D>B||D!==D)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var B;if(commonjsGlobal.process&&commonjsGlobal.process.browser)B="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var S=parseInt(process$1.version.split(".")[0].slice(1),10);B=S>=6?"utf-8":"binary"}else B="utf-8";return defaultEncoding_1=B,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var B=requireSafeBuffer$6().Buffer;return toBuffer=function(S,D,q){if(B.isBuffer(S))return S;if(typeof S=="string")return B.from(S,D);if(ArrayBuffer.isView(S))return B.from(S.buffer);throw new TypeError(q+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var B=requireMd5(),S=requireRipemd160(),D=requireSha_js(),q=requireSafeBuffer$6().Buffer,O=requirePrecondition(),$=requireDefaultEncoding(),j=requireToBuffer(),G=q.alloc(128),V={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function K(X,Q,ee){var re=H(X),ne=X==="sha512"||X==="sha384"?128:64;Q.length>ne?Q=re(Q):Q.length<ne&&(Q=q.concat([Q,G],ne));for(var se=q.allocUnsafe(ne+V[X]),ae=q.allocUnsafe(ne+V[X]),fe=0;fe<ne;fe++)se[fe]=Q[fe]^54,ae[fe]=Q[fe]^92;var ue=q.allocUnsafe(ne+ee+4);se.copy(ue,0,0,ne),this.ipad1=ue,this.ipad2=se,this.opad=ae,this.alg=X,this.blocksize=ne,this.hash=re,this.size=V[X]}K.prototype.run=function(X,Q){X.copy(Q,this.blocksize);var ee=this.hash(Q);return ee.copy(this.opad,this.blocksize),this.hash(this.opad)};function H(X){function Q(re){return D(X).update(re).digest()}function ee(re){return new S().update(re).digest()}return X==="rmd160"||X==="ripemd160"?ee:X==="md5"?B:Q}function Y(X,Q,ee,re,ne){O(ee,re),X=j(X,$,"Password"),Q=j(Q,$,"Salt"),ne=ne||"sha1";var se=new K(ne,X,Q.length),ae=q.allocUnsafe(re),fe=q.allocUnsafe(Q.length+4);Q.copy(fe,0,0,Q.length);for(var ue=0,_e=V[ne],ge=Math.ceil(re/_e),Ae=1;Ae<=ge;Ae++){fe.writeUInt32BE(Ae,Q.length);for(var Te=se.run(fe,se.ipad1),be=Te,Pe=1;Pe<ee;Pe++){be=se.run(be,se.ipad2);for(var J=0;J<_e;J++)Te[J]^=be[J]}Te.copy(ae,ue),ue+=_e}return ae}return syncBrowser=Y,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var B=requireSafeBuffer$6().Buffer,S=requirePrecondition(),D=requireDefaultEncoding(),q=requireSyncBrowser(),O=requireToBuffer(),$,j=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,G={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},V=[];function K(ee){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!j||!j.importKey||!j.deriveBits)return Promise.resolve(!1);if(V[ee]!==void 0)return V[ee];$=$||B.alloc(8);var re=X($,$,10,128,ee).then(function(){return!0}).catch(function(){return!1});return V[ee]=re,re}var H;function Y(){return H||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?H=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?H=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?H=commonjsGlobal.setImmediate:H=commonjsGlobal.setTimeout,H)}function X(ee,re,ne,se,ae){return j.importKey("raw",ee,{name:"PBKDF2"},!1,["deriveBits"]).then(function(fe){return j.deriveBits({name:"PBKDF2",salt:re,iterations:ne,hash:{name:ae}},fe,se<<3)}).then(function(fe){return B.from(fe)})}function Q(ee,re){ee.then(function(ne){Y()(function(){re(null,ne)})},function(ne){Y()(function(){re(ne)})})}return async=function(ee,re,ne,se,ae,fe){typeof ae=="function"&&(fe=ae,ae=void 0),ae=ae||"sha1";var ue=G[ae.toLowerCase()];if(!ue||typeof commonjsGlobal.Promise!="function"){Y()(function(){var _e;try{_e=q(ee,re,ne,se,ae)}catch(ge){return fe(ge)}fe(null,_e)});return}if(S(ne,se),ee=O(ee,D,"Password"),re=O(re,D,"Salt"),typeof fe!="function")throw new Error("No callback provided to pbkdf2");Q(K(ue).then(function(_e){return _e?X(ee,re,ne,se,ue):q(ee,re,ne,se,ae)}),fe)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$7.pbkdf2=requireAsync(),browser$7.pbkdf2Sync=requireSyncBrowser()),browser$7}var browser$6={},des$1={},utils$5={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$5;hasRequiredUtils$3=1,utils$5.readUInt32BE=function(O,$){var j=O[0+$]<<24|O[1+$]<<16|O[2+$]<<8|O[3+$];return j>>>0},utils$5.writeUInt32BE=function(O,$,j){O[0+j]=$>>>24,O[1+j]=$>>>16&255,O[2+j]=$>>>8&255,O[3+j]=$&255},utils$5.ip=function(O,$,j,G){for(var V=0,K=0,H=6;H>=0;H-=2){for(var Y=0;Y<=24;Y+=8)V<<=1,V|=$>>>Y+H&1;for(var Y=0;Y<=24;Y+=8)V<<=1,V|=O>>>Y+H&1}for(var H=6;H>=0;H-=2){for(var Y=1;Y<=25;Y+=8)K<<=1,K|=$>>>Y+H&1;for(var Y=1;Y<=25;Y+=8)K<<=1,K|=O>>>Y+H&1}j[G+0]=V>>>0,j[G+1]=K>>>0},utils$5.rip=function(O,$,j,G){for(var V=0,K=0,H=0;H<4;H++)for(var Y=24;Y>=0;Y-=8)V<<=1,V|=$>>>Y+H&1,V<<=1,V|=O>>>Y+H&1;for(var H=4;H<8;H++)for(var Y=24;Y>=0;Y-=8)K<<=1,K|=$>>>Y+H&1,K<<=1,K|=O>>>Y+H&1;j[G+0]=V>>>0,j[G+1]=K>>>0},utils$5.pc1=function(O,$,j,G){for(var V=0,K=0,H=7;H>=5;H--){for(var Y=0;Y<=24;Y+=8)V<<=1,V|=$>>Y+H&1;for(var Y=0;Y<=24;Y+=8)V<<=1,V|=O>>Y+H&1}for(var Y=0;Y<=24;Y+=8)V<<=1,V|=$>>Y+H&1;for(var H=1;H<=3;H++){for(var Y=0;Y<=24;Y+=8)K<<=1,K|=$>>Y+H&1;for(var Y=0;Y<=24;Y+=8)K<<=1,K|=O>>Y+H&1}for(var Y=0;Y<=24;Y+=8)K<<=1,K|=O>>Y+H&1;j[G+0]=V>>>0,j[G+1]=K>>>0},utils$5.r28shl=function(O,$){return O<<$&268435455|O>>>28-$};var B=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$5.pc2=function(O,$,j,G){for(var V=0,K=0,H=B.length>>>1,Y=0;Y<H;Y++)V<<=1,V|=O>>>B[Y]&1;for(var Y=H;Y<B.length;Y++)K<<=1,K|=$>>>B[Y]&1;j[G+0]=V>>>0,j[G+1]=K>>>0},utils$5.expand=function(O,$,j){var G=0,V=0;G=(O&1)<<5|O>>>27;for(var K=23;K>=15;K-=4)G<<=6,G|=O>>>K&63;for(var K=11;K>=3;K-=4)V|=O>>>K&63,V<<=6;V|=(O&31)<<1|O>>>31,$[j+0]=G>>>0,$[j+1]=V>>>0};var S=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$5.substitute=function(O,$){for(var j=0,G=0;G<4;G++){var V=O>>>18-G*6&63,K=S[G*64+V];j<<=4,j|=K}for(var G=0;G<4;G++){var V=$>>>18-G*6&63,K=S[4*64+G*64+V];j<<=4,j|=K}return j>>>0};var D=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$5.permute=function(O){for(var $=0,j=0;j<D.length;j++)$<<=1,$|=O>>>D[j]&1;return $>>>0},utils$5.padSplit=function(O,$,j){for(var G=O.toString(2);G.length<$;)G="0"+G;for(var V=[],K=0;K<$;K+=j)V.push(G.slice(K,K+j));return V.join(" ")},utils$5}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=B;function B(S,D){if(!S)throw new Error(D||"Assertion failed")}return B.equal=function(D,q,O){if(D!=q)throw new Error(O||"Assertion failed: "+D+" != "+q)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var B=requireMinimalisticAssert();function S(D){this.options=D,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=D.padding!==!1}return cipher=S,S.prototype._init=function(){},S.prototype.update=function(q){return q.length===0?[]:this.type==="decrypt"?this._updateDecrypt(q):this._updateEncrypt(q)},S.prototype._buffer=function(q,O){for(var $=Math.min(this.buffer.length-this.bufferOff,q.length-O),j=0;j<$;j++)this.buffer[this.bufferOff+j]=q[O+j];return this.bufferOff+=$,$},S.prototype._flushBuffer=function(q,O){return this._update(this.buffer,0,q,O),this.bufferOff=0,this.blockSize},S.prototype._updateEncrypt=function(q){var O=0,$=0,j=(this.bufferOff+q.length)/this.blockSize|0,G=new Array(j*this.blockSize);this.bufferOff!==0&&(O+=this._buffer(q,O),this.bufferOff===this.buffer.length&&($+=this._flushBuffer(G,$)));for(var V=q.length-(q.length-O)%this.blockSize;O<V;O+=this.blockSize)this._update(q,O,G,$),$+=this.blockSize;for(;O<q.length;O++,this.bufferOff++)this.buffer[this.bufferOff]=q[O];return G},S.prototype._updateDecrypt=function(q){for(var O=0,$=0,j=Math.ceil((this.bufferOff+q.length)/this.blockSize)-1,G=new Array(j*this.blockSize);j>0;j--)O+=this._buffer(q,O),$+=this._flushBuffer(G,$);return O+=this._buffer(q,O),G},S.prototype.final=function(q){var O;q&&(O=this.update(q));var $;return this.type==="encrypt"?$=this._finalEncrypt():$=this._finalDecrypt(),O?O.concat($):$},S.prototype._pad=function(q,O){if(O===0)return!1;for(;O<q.length;)q[O++]=0;return!0},S.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var q=new Array(this.blockSize);return this._update(this.buffer,0,q,0),q},S.prototype._unpad=function(q){return q},S.prototype._finalDecrypt=function(){B.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var q=new Array(this.blockSize);return this._flushBuffer(q,0),this._unpad(q)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var B=requireMinimalisticAssert(),S=requireInherits_browser(),D=requireUtils$3(),q=requireCipher();function O(){this.tmp=new Array(2),this.keys=null}function $(G){q.call(this,G);var V=new O;this._desState=V,this.deriveKeys(V,G.key)}S($,q),des=$,$.create=function(V){return new $(V)};var j=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return $.prototype.deriveKeys=function(V,K){V.keys=new Array(16*2),B.equal(K.length,this.blockSize,"Invalid key length");var H=D.readUInt32BE(K,0),Y=D.readUInt32BE(K,4);D.pc1(H,Y,V.tmp,0),H=V.tmp[0],Y=V.tmp[1];for(var X=0;X<V.keys.length;X+=2){var Q=j[X>>>1];H=D.r28shl(H,Q),Y=D.r28shl(Y,Q),D.pc2(H,Y,V.keys,X)}},$.prototype._update=function(V,K,H,Y){var X=this._desState,Q=D.readUInt32BE(V,K),ee=D.readUInt32BE(V,K+4);D.ip(Q,ee,X.tmp,0),Q=X.tmp[0],ee=X.tmp[1],this.type==="encrypt"?this._encrypt(X,Q,ee,X.tmp,0):this._decrypt(X,Q,ee,X.tmp,0),Q=X.tmp[0],ee=X.tmp[1],D.writeUInt32BE(H,Q,Y),D.writeUInt32BE(H,ee,Y+4)},$.prototype._pad=function(V,K){if(this.padding===!1)return!1;for(var H=V.length-K,Y=K;Y<V.length;Y++)V[Y]=H;return!0},$.prototype._unpad=function(V){if(this.padding===!1)return V;for(var K=V[V.length-1],H=V.length-K;H<V.length;H++)B.equal(V[H],K);return V.slice(0,V.length-K)},$.prototype._encrypt=function(V,K,H,Y,X){for(var Q=K,ee=H,re=0;re<V.keys.length;re+=2){var ne=V.keys[re],se=V.keys[re+1];D.expand(ee,V.tmp,0),ne^=V.tmp[0],se^=V.tmp[1];var ae=D.substitute(ne,se),fe=D.permute(ae),ue=ee;ee=(Q^fe)>>>0,Q=ue}D.rip(ee,Q,Y,X)},$.prototype._decrypt=function(V,K,H,Y,X){for(var Q=H,ee=K,re=V.keys.length-2;re>=0;re-=2){var ne=V.keys[re],se=V.keys[re+1];D.expand(Q,V.tmp,0),ne^=V.tmp[0],se^=V.tmp[1];var ae=D.substitute(ne,se),fe=D.permute(ae),ue=Q;Q=(ee^fe)>>>0,ee=ue}D.rip(Q,ee,Y,X)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var B=requireMinimalisticAssert(),S=requireInherits_browser(),D={};function q($){B.equal($.length,8,"Invalid IV length"),this.iv=new Array(8);for(var j=0;j<this.iv.length;j++)this.iv[j]=$[j]}function O($){function j(H){$.call(this,H),this._cbcInit()}S(j,$);for(var G=Object.keys(D),V=0;V<G.length;V++){var K=G[V];j.prototype[K]=D[K]}return j.create=function(Y){return new j(Y)},j}return cbc$1.instantiate=O,D._cbcInit=function(){var j=new q(this.options.iv);this._cbcState=j},D._update=function(j,G,V,K){var H=this._cbcState,Y=this.constructor.super_.prototype,X=H.iv;if(this.type==="encrypt"){for(var Q=0;Q<this.blockSize;Q++)X[Q]^=j[G+Q];Y._update.call(this,X,0,V,K);for(var Q=0;Q<this.blockSize;Q++)X[Q]=V[K+Q]}else{Y._update.call(this,j,G,V,K);for(var Q=0;Q<this.blockSize;Q++)V[K+Q]^=X[Q];for(var Q=0;Q<this.blockSize;Q++)X[Q]=j[G+Q]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var B=requireMinimalisticAssert(),S=requireInherits_browser(),D=requireCipher(),q=requireDes$1();function O(j,G){B.equal(G.length,24,"Invalid key length");var V=G.slice(0,8),K=G.slice(8,16),H=G.slice(16,24);j==="encrypt"?this.ciphers=[q.create({type:"encrypt",key:V}),q.create({type:"decrypt",key:K}),q.create({type:"encrypt",key:H})]:this.ciphers=[q.create({type:"decrypt",key:H}),q.create({type:"encrypt",key:K}),q.create({type:"decrypt",key:V})]}function $(j){D.call(this,j);var G=new O(this.type,this.options.key);this._edeState=G}return S($,D),ede=$,$.create=function(G){return new $(G)},$.prototype._update=function(G,V,K,H){var Y=this._edeState;Y.ciphers[0]._update(G,V,K,H),Y.ciphers[1]._update(K,H,K,H),Y.ciphers[2]._update(K,H,K,H)},$.prototype._pad=q.prototype._pad,$.prototype._unpad=q.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var B=requireCipherBase(),S=requireDes(),D=requireInherits_browser(),q=requireSafeBuffer$6().Buffer,O={"des-ede3-cbc":S.CBC.instantiate(S.EDE),"des-ede3":S.EDE,"des-ede-cbc":S.CBC.instantiate(S.EDE),"des-ede":S.EDE,"des-cbc":S.CBC.instantiate(S.DES),"des-ecb":S.DES};O.des=O["des-cbc"],O.des3=O["des-ede3-cbc"],browserifyDes=$,D($,B);function $(j){B.call(this);var G=j.mode.toLowerCase(),V=O[G],K;j.decrypt?K="decrypt":K="encrypt";var H=j.key;q.isBuffer(H)||(H=q.from(H)),(G==="des-ede"||G==="des-ede-cbc")&&(H=q.concat([H,H.slice(0,8)]));var Y=j.iv;q.isBuffer(Y)||(Y=q.from(Y)),this._des=V.create({key:H,iv:Y,type:K})}return $.prototype._update=function(j){return q.from(this._des.update(j))},$.prototype._final=function(){return q.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(B,S){return B._cipher.encryptBlock(S)},ecb.decrypt=function(B,S){return B._cipher.decryptBlock(S)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(S,D){for(var q=Math.min(S.length,D.length),O=new Buffer(q),$=0;$<q;++$)O[$]=S[$]^D[$];return O}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var B=requireBufferXor();return cbc.encrypt=function(S,D){var q=B(D,S._prev);return S._prev=S._cipher.encryptBlock(q),S._prev},cbc.decrypt=function(S,D){var q=S._prev;S._prev=D;var O=S._cipher.decryptBlock(D);return B(O,q)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var B=requireSafeBuffer$6().Buffer,S=requireBufferXor();function D(q,O,$){var j=O.length,G=S(O,q._cache);return q._cache=q._cache.slice(j),q._prev=B.concat([q._prev,$?O:G]),G}return cfb.encrypt=function(q,O,$){for(var j=B.allocUnsafe(0),G;O.length;)if(q._cache.length===0&&(q._cache=q._cipher.encryptBlock(q._prev),q._prev=B.allocUnsafe(0)),q._cache.length<=O.length)G=q._cache.length,j=B.concat([j,D(q,O.slice(0,G),$)]),O=O.slice(G);else{j=B.concat([j,D(q,O,$)]);break}return j},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var B=requireSafeBuffer$6().Buffer;function S(D,q,O){var $=D._cipher.encryptBlock(D._prev),j=$[0]^q;return D._prev=B.concat([D._prev.slice(1),B.from([O?q:j])]),j}return cfb8.encrypt=function(D,q,O){for(var $=q.length,j=B.allocUnsafe($),G=-1;++G<$;)j[G]=S(D,q[G],O);return j},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var B=requireSafeBuffer$6().Buffer;function S(q,O,$){for(var j,G=-1,V=8,K=0,H,Y;++G<V;)j=q._cipher.encryptBlock(q._prev),H=O&1<<7-G?128:0,Y=j[0]^H,K+=(Y&128)>>G%8,q._prev=D(q._prev,$?H:Y);return K}function D(q,O){var $=q.length,j=-1,G=B.allocUnsafe(q.length);for(q=B.concat([q,B.from([O])]);++j<$;)G[j]=q[j]<<1|q[j+1]>>7;return G}return cfb1.encrypt=function(q,O,$){for(var j=O.length,G=B.allocUnsafe(j),V=-1;++V<j;)G[V]=S(q,O[V],$);return G},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var B=requireBufferXor();function S(D){return D._prev=D._cipher.encryptBlock(D._prev),D._prev}return ofb.encrypt=function(D,q){for(;D._cache.length<q.length;)D._cache=Buffer.concat([D._cache,S(D)]);var O=D._cache.slice(0,q.length);return D._cache=D._cache.slice(q.length),B(q,O)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function B(S){for(var D=S.length,q;D--;)if(q=S.readUInt8(D),q===255)S.writeUInt8(0,D);else{q++,S.writeUInt8(q,D);break}}return incr32_1=B,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var B=requireBufferXor(),S=requireSafeBuffer$6().Buffer,D=requireIncr32();function q($){var j=$._cipher.encryptBlockRaw($._prev);return D($._prev),j}var O=16;return ctr.encrypt=function($,j){var G=Math.ceil(j.length/O),V=$._cache.length;$._cache=S.concat([$._cache,S.allocUnsafe(G*O)]);for(var K=0;K<G;K++){var H=q($),Y=V+K*O;$._cache.writeUInt32BE(H[0],Y+0),$._cache.writeUInt32BE(H[1],Y+4),$._cache.writeUInt32BE(H[2],Y+8),$._cache.writeUInt32BE(H[3],Y+12)}var X=$._cache.slice(0,j.length);return $._cache=$._cache.slice(j.length),B(j,X)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var B={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},S=require$$2;for(var D in S)S[D].module=B[S[D].mode];return modes_1=S,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var B=requireSafeBuffer$6().Buffer;function S(G){B.isBuffer(G)||(G=B.from(G));for(var V=G.length/4|0,K=new Array(V),H=0;H<V;H++)K[H]=G.readUInt32BE(H*4);return K}function D(G){for(var V=0;V<G.length;G++)G[V]=0}function q(G,V,K,H,Y){for(var X=K[0],Q=K[1],ee=K[2],re=K[3],ne=G[0]^V[0],se=G[1]^V[1],ae=G[2]^V[2],fe=G[3]^V[3],ue,_e,ge,Ae,Te=4,be=1;be<Y;be++)ue=X[ne>>>24]^Q[se>>>16&255]^ee[ae>>>8&255]^re[fe&255]^V[Te++],_e=X[se>>>24]^Q[ae>>>16&255]^ee[fe>>>8&255]^re[ne&255]^V[Te++],ge=X[ae>>>24]^Q[fe>>>16&255]^ee[ne>>>8&255]^re[se&255]^V[Te++],Ae=X[fe>>>24]^Q[ne>>>16&255]^ee[se>>>8&255]^re[ae&255]^V[Te++],ne=ue,se=_e,ae=ge,fe=Ae;return ue=(H[ne>>>24]<<24|H[se>>>16&255]<<16|H[ae>>>8&255]<<8|H[fe&255])^V[Te++],_e=(H[se>>>24]<<24|H[ae>>>16&255]<<16|H[fe>>>8&255]<<8|H[ne&255])^V[Te++],ge=(H[ae>>>24]<<24|H[fe>>>16&255]<<16|H[ne>>>8&255]<<8|H[se&255])^V[Te++],Ae=(H[fe>>>24]<<24|H[ne>>>16&255]<<16|H[se>>>8&255]<<8|H[ae&255])^V[Te++],ue=ue>>>0,_e=_e>>>0,ge=ge>>>0,Ae=Ae>>>0,[ue,_e,ge,Ae]}var O=[0,1,2,4,8,16,32,64,128,27,54],$=function(){for(var G=new Array(256),V=0;V<256;V++)V<128?G[V]=V<<1:G[V]=V<<1^283;for(var K=[],H=[],Y=[[],[],[],[]],X=[[],[],[],[]],Q=0,ee=0,re=0;re<256;++re){var ne=ee^ee<<1^ee<<2^ee<<3^ee<<4;ne=ne>>>8^ne&255^99,K[Q]=ne,H[ne]=Q;var se=G[Q],ae=G[se],fe=G[ae],ue=G[ne]*257^ne*16843008;Y[0][Q]=ue<<24|ue>>>8,Y[1][Q]=ue<<16|ue>>>16,Y[2][Q]=ue<<8|ue>>>24,Y[3][Q]=ue,ue=fe*16843009^ae*65537^se*257^Q*16843008,X[0][ne]=ue<<24|ue>>>8,X[1][ne]=ue<<16|ue>>>16,X[2][ne]=ue<<8|ue>>>24,X[3][ne]=ue,Q===0?Q=ee=1:(Q=se^G[G[G[fe^se]]],ee^=G[G[ee]])}return{SBOX:K,INV_SBOX:H,SUB_MIX:Y,INV_SUB_MIX:X}}();function j(G){this._key=S(G),this._reset()}return j.blockSize=4*4,j.keySize=256/8,j.prototype.blockSize=j.blockSize,j.prototype.keySize=j.keySize,j.prototype._reset=function(){for(var G=this._key,V=G.length,K=V+6,H=(K+1)*4,Y=[],X=0;X<V;X++)Y[X]=G[X];for(X=V;X<H;X++){var Q=Y[X-1];X%V===0?(Q=Q<<8|Q>>>24,Q=$.SBOX[Q>>>24]<<24|$.SBOX[Q>>>16&255]<<16|$.SBOX[Q>>>8&255]<<8|$.SBOX[Q&255],Q^=O[X/V|0]<<24):V>6&&X%V===4&&(Q=$.SBOX[Q>>>24]<<24|$.SBOX[Q>>>16&255]<<16|$.SBOX[Q>>>8&255]<<8|$.SBOX[Q&255]),Y[X]=Y[X-V]^Q}for(var ee=[],re=0;re<H;re++){var ne=H-re,se=Y[ne-(re%4?0:4)];re<4||ne<=4?ee[re]=se:ee[re]=$.INV_SUB_MIX[0][$.SBOX[se>>>24]]^$.INV_SUB_MIX[1][$.SBOX[se>>>16&255]]^$.INV_SUB_MIX[2][$.SBOX[se>>>8&255]]^$.INV_SUB_MIX[3][$.SBOX[se&255]]}this._nRounds=K,this._keySchedule=Y,this._invKeySchedule=ee},j.prototype.encryptBlockRaw=function(G){return G=S(G),q(G,this._keySchedule,$.SUB_MIX,$.SBOX,this._nRounds)},j.prototype.encryptBlock=function(G){var V=this.encryptBlockRaw(G),K=B.allocUnsafe(16);return K.writeUInt32BE(V[0],0),K.writeUInt32BE(V[1],4),K.writeUInt32BE(V[2],8),K.writeUInt32BE(V[3],12),K},j.prototype.decryptBlock=function(G){G=S(G);var V=G[1];G[1]=G[3],G[3]=V;var K=q(G,this._invKeySchedule,$.INV_SUB_MIX,$.INV_SBOX,this._nRounds),H=B.allocUnsafe(16);return H.writeUInt32BE(K[0],0),H.writeUInt32BE(K[3],4),H.writeUInt32BE(K[2],8),H.writeUInt32BE(K[1],12),H},j.prototype.scrub=function(){D(this._keySchedule),D(this._invKeySchedule),D(this._key)},aes.AES=j,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var B=requireSafeBuffer$6().Buffer,S=B.alloc(16,0);function D($){return[$.readUInt32BE(0),$.readUInt32BE(4),$.readUInt32BE(8),$.readUInt32BE(12)]}function q($){var j=B.allocUnsafe(16);return j.writeUInt32BE($[0]>>>0,0),j.writeUInt32BE($[1]>>>0,4),j.writeUInt32BE($[2]>>>0,8),j.writeUInt32BE($[3]>>>0,12),j}function O($){this.h=$,this.state=B.alloc(16,0),this.cache=B.allocUnsafe(0)}return O.prototype.ghash=function($){for(var j=-1;++j<$.length;)this.state[j]^=$[j];this._multiply()},O.prototype._multiply=function(){for(var $=D(this.h),j=[0,0,0,0],G,V,K,H=-1;++H<128;){for(V=(this.state[~~(H/8)]&1<<7-H%8)!==0,V&&(j[0]^=$[0],j[1]^=$[1],j[2]^=$[2],j[3]^=$[3]),K=($[3]&1)!==0,G=3;G>0;G--)$[G]=$[G]>>>1|($[G-1]&1)<<31;$[0]=$[0]>>>1,K&&($[0]=$[0]^225<<24)}this.state=q(j)},O.prototype.update=function($){this.cache=B.concat([this.cache,$]);for(var j;this.cache.length>=16;)j=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(j)},O.prototype.final=function($,j){return this.cache.length&&this.ghash(B.concat([this.cache,S],16)),this.ghash(q([0,$,0,j])),this.state},ghash=O,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var B=requireAes(),S=requireSafeBuffer$6().Buffer,D=requireCipherBase(),q=requireInherits_browser(),O=requireGhash(),$=requireBufferXor(),j=requireIncr32();function G(H,Y){var X=0;H.length!==Y.length&&X++;for(var Q=Math.min(H.length,Y.length),ee=0;ee<Q;++ee)X+=H[ee]^Y[ee];return X}function V(H,Y,X){if(Y.length===12)return H._finID=S.concat([Y,S.from([0,0,0,1])]),S.concat([Y,S.from([0,0,0,2])]);var Q=new O(X),ee=Y.length,re=ee%16;Q.update(Y),re&&(re=16-re,Q.update(S.alloc(re,0))),Q.update(S.alloc(8,0));var ne=ee*8,se=S.alloc(8);se.writeUIntBE(ne,0,8),Q.update(se),H._finID=Q.state;var ae=S.from(H._finID);return j(ae),ae}function K(H,Y,X,Q){D.call(this);var ee=S.alloc(4,0);this._cipher=new B.AES(Y);var re=this._cipher.encryptBlock(ee);this._ghash=new O(re),X=V(this,X,re),this._prev=S.from(X),this._cache=S.allocUnsafe(0),this._secCache=S.allocUnsafe(0),this._decrypt=Q,this._alen=0,this._len=0,this._mode=H,this._authTag=null,this._called=!1}return q(K,D),K.prototype._update=function(H){if(!this._called&&this._alen){var Y=16-this._alen%16;Y<16&&(Y=S.alloc(Y,0),this._ghash.update(Y))}this._called=!0;var X=this._mode.encrypt(this,H);return this._decrypt?this._ghash.update(H):this._ghash.update(X),this._len+=H.length,X},K.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var H=$(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&G(H,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=H,this._cipher.scrub()},K.prototype.getAuthTag=function(){if(this._decrypt||!S.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},K.prototype.setAuthTag=function(Y){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=Y},K.prototype.setAAD=function(Y){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(Y),this._alen+=Y.length},authCipher=K,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var B=requireAes(),S=requireSafeBuffer$6().Buffer,D=requireCipherBase(),q=requireInherits_browser();function O($,j,G,V){D.call(this),this._cipher=new B.AES(j),this._prev=S.from(G),this._cache=S.allocUnsafe(0),this._secCache=S.allocUnsafe(0),this._decrypt=V,this._mode=$}return q(O,D),O.prototype._update=function($){return this._mode.encrypt(this,$,this._decrypt)},O.prototype._final=function(){this._cipher.scrub()},streamCipher=O,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var B=requireSafeBuffer$6().Buffer,S=requireMd5_js();function D(q,O,$,j){if(B.isBuffer(q)||(q=B.from(q,"binary")),O&&(B.isBuffer(O)||(O=B.from(O,"binary")),O.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var G=$/8,V=B.alloc(G),K=B.alloc(j||0),H=B.alloc(0);G>0||j>0;){var Y=new S;Y.update(H),Y.update(q),O&&Y.update(O),H=Y.digest();var X=0;if(G>0){var Q=V.length-G;X=Math.min(G,H.length),H.copy(V,Q,0,X),G-=X}if(X<H.length&&j>0){var ee=K.length-j,re=Math.min(j,H.length-X);H.copy(K,ee,X,X+re),j-=re}}return H.fill(0),{key:V,iv:K}}return evp_bytestokey=D,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var B=requireModes$1(),S=requireAuthCipher(),D=requireSafeBuffer$6().Buffer,q=requireStreamCipher(),O=requireCipherBase(),$=requireAes(),j=requireEvp_bytestokey(),G=requireInherits_browser();function V(Q,ee,re){O.call(this),this._cache=new H,this._cipher=new $.AES(ee),this._prev=D.from(re),this._mode=Q,this._autopadding=!0}G(V,O),V.prototype._update=function(Q){this._cache.add(Q);for(var ee,re,ne=[];ee=this._cache.get();)re=this._mode.encrypt(this,ee),ne.push(re);return D.concat(ne)};var K=D.alloc(16,16);V.prototype._final=function(){var Q=this._cache.flush();if(this._autopadding)return Q=this._mode.encrypt(this,Q),this._cipher.scrub(),Q;if(!Q.equals(K))throw this._cipher.scrub(),new Error("data not multiple of block length")},V.prototype.setAutoPadding=function(Q){return this._autopadding=!!Q,this};function H(){this.cache=D.allocUnsafe(0)}H.prototype.add=function(Q){this.cache=D.concat([this.cache,Q])},H.prototype.get=function(){if(this.cache.length>15){var Q=this.cache.slice(0,16);return this.cache=this.cache.slice(16),Q}return null},H.prototype.flush=function(){for(var Q=16-this.cache.length,ee=D.allocUnsafe(Q),re=-1;++re<Q;)ee.writeUInt8(Q,re);return D.concat([this.cache,ee])};function Y(Q,ee,re){var ne=B[Q.toLowerCase()];if(!ne)throw new TypeError("invalid suite type");if(typeof ee=="string"&&(ee=D.from(ee)),ee.length!==ne.key/8)throw new TypeError("invalid key length "+ee.length);if(typeof re=="string"&&(re=D.from(re)),ne.mode!=="GCM"&&re.length!==ne.iv)throw new TypeError("invalid iv length "+re.length);return ne.type==="stream"?new q(ne.module,ee,re):ne.type==="auth"?new S(ne.module,ee,re):new V(ne.module,ee,re)}function X(Q,ee){var re=B[Q.toLowerCase()];if(!re)throw new TypeError("invalid suite type");var ne=j(ee,!1,re.key,re.iv);return Y(Q,ne.key,ne.iv)}return encrypter.createCipheriv=Y,encrypter.createCipher=X,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var B=requireAuthCipher(),S=requireSafeBuffer$6().Buffer,D=requireModes$1(),q=requireStreamCipher(),O=requireCipherBase(),$=requireAes(),j=requireEvp_bytestokey(),G=requireInherits_browser();function V(Q,ee,re){O.call(this),this._cache=new K,this._last=void 0,this._cipher=new $.AES(ee),this._prev=S.from(re),this._mode=Q,this._autopadding=!0}G(V,O),V.prototype._update=function(Q){this._cache.add(Q);for(var ee,re,ne=[];ee=this._cache.get(this._autopadding);)re=this._mode.decrypt(this,ee),ne.push(re);return S.concat(ne)},V.prototype._final=function(){var Q=this._cache.flush();if(this._autopadding)return H(this._mode.decrypt(this,Q));if(Q)throw new Error("data not multiple of block length")},V.prototype.setAutoPadding=function(Q){return this._autopadding=!!Q,this};function K(){this.cache=S.allocUnsafe(0)}K.prototype.add=function(Q){this.cache=S.concat([this.cache,Q])},K.prototype.get=function(Q){var ee;if(Q){if(this.cache.length>16)return ee=this.cache.slice(0,16),this.cache=this.cache.slice(16),ee}else if(this.cache.length>=16)return ee=this.cache.slice(0,16),this.cache=this.cache.slice(16),ee;return null},K.prototype.flush=function(){if(this.cache.length)return this.cache};function H(Q){var ee=Q[15];if(ee<1||ee>16)throw new Error("unable to decrypt data");for(var re=-1;++re<ee;)if(Q[re+(16-ee)]!==ee)throw new Error("unable to decrypt data");if(ee!==16)return Q.slice(0,16-ee)}function Y(Q,ee,re){var ne=D[Q.toLowerCase()];if(!ne)throw new TypeError("invalid suite type");if(typeof re=="string"&&(re=S.from(re)),ne.mode!=="GCM"&&re.length!==ne.iv)throw new TypeError("invalid iv length "+re.length);if(typeof ee=="string"&&(ee=S.from(ee)),ee.length!==ne.key/8)throw new TypeError("invalid key length "+ee.length);return ne.type==="stream"?new q(ne.module,ee,re,!0):ne.type==="auth"?new B(ne.module,ee,re,!0):new V(ne.module,ee,re)}function X(Q,ee){var re=D[Q.toLowerCase()];if(!re)throw new TypeError("invalid suite type");var ne=j(ee,!1,re.key,re.iv);return Y(Q,ne.key,ne.iv)}return decrypter.createDecipher=X,decrypter.createDecipheriv=Y,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var B=requireEncrypter(),S=requireDecrypter(),D=require$$2;function q(){return Object.keys(D)}return browser$5.createCipher=browser$5.Cipher=B.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=B.createCipheriv,browser$5.createDecipher=browser$5.Decipher=S.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=S.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=q,browser$5}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(B){B["des-ecb"]={key:8,iv:0},B["des-cbc"]=B.des={key:8,iv:8},B["des-ede3-cbc"]=B.des3={key:24,iv:8},B["des-ede3"]={key:24,iv:0},B["des-ede-cbc"]={key:16,iv:8},B["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var B=requireBrowserifyDes(),S=requireBrowser$6(),D=requireModes$1(),q=requireModes(),O=requireEvp_bytestokey();function $(H,Y){H=H.toLowerCase();var X,Q;if(D[H])X=D[H].key,Q=D[H].iv;else if(q[H])X=q[H].key*8,Q=q[H].iv;else throw new TypeError("invalid suite type");var ee=O(Y,!1,X,Q);return G(H,ee.key,ee.iv)}function j(H,Y){H=H.toLowerCase();var X,Q;if(D[H])X=D[H].key,Q=D[H].iv;else if(q[H])X=q[H].key*8,Q=q[H].iv;else throw new TypeError("invalid suite type");var ee=O(Y,!1,X,Q);return V(H,ee.key,ee.iv)}function G(H,Y,X){if(H=H.toLowerCase(),D[H])return S.createCipheriv(H,Y,X);if(q[H])return new B({key:Y,iv:X,mode:H});throw new TypeError("invalid suite type")}function V(H,Y,X){if(H=H.toLowerCase(),D[H])return S.createDecipheriv(H,Y,X);if(q[H])return new B({key:Y,iv:X,mode:H,decrypt:!0});throw new TypeError("invalid suite type")}function K(){return Object.keys(q).concat(S.getCiphers())}return browser$6.createCipher=browser$6.Cipher=$,browser$6.createCipheriv=browser$6.Cipheriv=G,browser$6.createDecipher=browser$6.Decipher=j,browser$6.createDecipheriv=browser$6.Decipheriv=V,browser$6.listCiphers=browser$6.getCiphers=K,browser$6}var browser$4={},bn$6={exports:{}};bn$6.exports;var hasRequiredBn$6;function requireBn$6(){return hasRequiredBn$6||(hasRequiredBn$6=1,function(B){(function(S,D){function q(J,u){if(!J)throw new Error(u||"Assertion failed")}function O(J,u){J.super_=u;var T=function(){};T.prototype=u.prototype,J.prototype=new T,J.prototype.constructor=J}function $(J,u,T){if($.isBN(J))return J;this.negative=0,this.words=null,this.length=0,this.red=null,J!==null&&((u==="le"||u==="be")&&(T=u,u=10),this._init(J||0,u||10,T||"be"))}typeof S=="object"?S.exports=$:D.BN=$,$.BN=$,$.wordSize=26;var j;try{typeof window<"u"&&typeof window.Buffer<"u"?j=window.Buffer:j=require$$0$1.Buffer}catch{}$.isBN=function(u){return u instanceof $?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===$.wordSize&&Array.isArray(u.words)},$.max=function(u,T){return u.cmp(T)>0?u:T},$.min=function(u,T){return u.cmp(T)<0?u:T},$.prototype._init=function(u,T,P){if(typeof u=="number")return this._initNumber(u,T,P);if(typeof u=="object")return this._initArray(u,T,P);T==="hex"&&(T=16),q(T===(T|0)&&T>=2&&T<=36),u=u.toString().replace(/\s+/g,"");var N=0;u[0]==="-"&&(N++,this.negative=1),N<u.length&&(T===16?this._parseHex(u,N,P):(this._parseBase(u,T,N),P==="le"&&this._initArray(this.toArray(),T,P)))},$.prototype._initNumber=function(u,T,P){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(q(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),P==="le"&&this._initArray(this.toArray(),T,P)},$.prototype._initArray=function(u,T,P){if(q(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L,W,Z=0;if(P==="be")for(N=u.length-1,L=0;N>=0;N-=3)W=u[N]|u[N-1]<<8|u[N-2]<<16,this.words[L]|=W<<Z&67108863,this.words[L+1]=W>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,L++);else if(P==="le")for(N=0,L=0;N<u.length;N+=3)W=u[N]|u[N+1]<<8|u[N+2]<<16,this.words[L]|=W<<Z&67108863,this.words[L+1]=W>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,L++);return this.strip()};function G(J,u){var T=J.charCodeAt(u);return T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:T-48&15}function V(J,u,T){var P=G(J,T);return T-1>=u&&(P|=G(J,T-1)<<4),P}$.prototype._parseHex=function(u,T,P){this.length=Math.ceil((u.length-T)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L=0,W=0,Z;if(P==="be")for(N=u.length-1;N>=T;N-=2)Z=V(u,T,N)<<L,this.words[W]|=Z&67108863,L>=18?(L-=18,W+=1,this.words[W]|=Z>>>26):L+=8;else{var U=u.length-T;for(N=U%2===0?T+1:T;N<u.length;N+=2)Z=V(u,T,N)<<L,this.words[W]|=Z&67108863,L>=18?(L-=18,W+=1,this.words[W]|=Z>>>26):L+=8}this.strip()};function K(J,u,T,P){for(var N=0,L=Math.min(J.length,T),W=u;W<L;W++){var Z=J.charCodeAt(W)-48;N*=P,Z>=49?N+=Z-49+10:Z>=17?N+=Z-17+10:N+=Z}return N}$.prototype._parseBase=function(u,T,P){this.words=[0],this.length=1;for(var N=0,L=1;L<=67108863;L*=T)N++;N--,L=L/T|0;for(var W=u.length-P,Z=W%N,U=Math.min(W,W-Z)+P,M=0,F=P;F<U;F+=N)M=K(u,F,F+N,T),this.imuln(L),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(Z!==0){var te=1;for(M=K(u,F,u.length,T),F=0;F<Z;F++)te*=T;this.imuln(te),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this.strip()},$.prototype.copy=function(u){u.words=new Array(this.length);for(var T=0;T<this.length;T++)u.words[T]=this.words[T];u.length=this.length,u.negative=this.negative,u.red=this.red},$.prototype.clone=function(){var u=new $(null);return this.copy(u),u},$.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},$.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},$.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},$.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var H=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];$.prototype.toString=function(u,T){u=u||10,T=T|0||1;var P;if(u===16||u==="hex"){P="";for(var N=0,L=0,W=0;W<this.length;W++){var Z=this.words[W],U=((Z<<N|L)&16777215).toString(16);L=Z>>>24-N&16777215,N+=2,N>=26&&(N-=26,W--),L!==0||W!==this.length-1?P=H[6-U.length]+U+P:P=U+P}for(L!==0&&(P=L.toString(16)+P);P.length%T!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}if(u===(u|0)&&u>=2&&u<=36){var M=Y[u],F=X[u];P="";var te=this.clone();for(te.negative=0;!te.isZero();){var ie=te.modn(F).toString(u);te=te.idivn(F),te.isZero()?P=ie+P:P=H[M-ie.length]+ie+P}for(this.isZero()&&(P="0"+P);P.length%T!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}q(!1,"Base should be between 2 and 36")},$.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&q(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},$.prototype.toJSON=function(){return this.toString(16)},$.prototype.toBuffer=function(u,T){return q(typeof j<"u"),this.toArrayLike(j,u,T)},$.prototype.toArray=function(u,T){return this.toArrayLike(Array,u,T)},$.prototype.toArrayLike=function(u,T,P){var N=this.byteLength(),L=P||Math.max(1,N);q(N<=L,"byte array longer than desired length"),q(L>0,"Requested array length <= 0"),this.strip();var W=T==="le",Z=new u(L),U,M,F=this.clone();if(W){for(M=0;!F.isZero();M++)U=F.andln(255),F.iushrn(8),Z[M]=U;for(;M<L;M++)Z[M]=0}else{for(M=0;M<L-N;M++)Z[M]=0;for(M=0;!F.isZero();M++)U=F.andln(255),F.iushrn(8),Z[L-M-1]=U}return Z},Math.clz32?$.prototype._countBits=function(u){return 32-Math.clz32(u)}:$.prototype._countBits=function(u){var T=u,P=0;return T>=4096&&(P+=13,T>>>=13),T>=64&&(P+=7,T>>>=7),T>=8&&(P+=4,T>>>=4),T>=2&&(P+=2,T>>>=2),P+T},$.prototype._zeroBits=function(u){if(u===0)return 26;var T=u,P=0;return T&8191||(P+=13,T>>>=13),T&127||(P+=7,T>>>=7),T&15||(P+=4,T>>>=4),T&3||(P+=2,T>>>=2),T&1||P++,P},$.prototype.bitLength=function(){var u=this.words[this.length-1],T=this._countBits(u);return(this.length-1)*26+T};function Q(J){for(var u=new Array(J.bitLength()),T=0;T<u.length;T++){var P=T/26|0,N=T%26;u[T]=(J.words[P]&1<<N)>>>N}return u}$.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,T=0;T<this.length;T++){var P=this._zeroBits(this.words[T]);if(u+=P,P!==26)break}return u},$.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},$.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},$.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},$.prototype.isNeg=function(){return this.negative!==0},$.prototype.neg=function(){return this.clone().ineg()},$.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},$.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var T=0;T<u.length;T++)this.words[T]=this.words[T]|u.words[T];return this.strip()},$.prototype.ior=function(u){return q((this.negative|u.negative)===0),this.iuor(u)},$.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},$.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},$.prototype.iuand=function(u){var T;this.length>u.length?T=u:T=this;for(var P=0;P<T.length;P++)this.words[P]=this.words[P]&u.words[P];return this.length=T.length,this.strip()},$.prototype.iand=function(u){return q((this.negative|u.negative)===0),this.iuand(u)},$.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},$.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},$.prototype.iuxor=function(u){var T,P;this.length>u.length?(T=this,P=u):(T=u,P=this);for(var N=0;N<P.length;N++)this.words[N]=T.words[N]^P.words[N];if(this!==T)for(;N<T.length;N++)this.words[N]=T.words[N];return this.length=T.length,this.strip()},$.prototype.ixor=function(u){return q((this.negative|u.negative)===0),this.iuxor(u)},$.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},$.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},$.prototype.inotn=function(u){q(typeof u=="number"&&u>=0);var T=Math.ceil(u/26)|0,P=u%26;this._expand(T),P>0&&T--;for(var N=0;N<T;N++)this.words[N]=~this.words[N]&67108863;return P>0&&(this.words[N]=~this.words[N]&67108863>>26-P),this.strip()},$.prototype.notn=function(u){return this.clone().inotn(u)},$.prototype.setn=function(u,T){q(typeof u=="number"&&u>=0);var P=u/26|0,N=u%26;return this._expand(P+1),T?this.words[P]=this.words[P]|1<<N:this.words[P]=this.words[P]&~(1<<N),this.strip()},$.prototype.iadd=function(u){var T;if(this.negative!==0&&u.negative===0)return this.negative=0,T=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,T=this.isub(u),u.negative=1,T._normSign();var P,N;this.length>u.length?(P=this,N=u):(P=u,N=this);for(var L=0,W=0;W<N.length;W++)T=(P.words[W]|0)+(N.words[W]|0)+L,this.words[W]=T&67108863,L=T>>>26;for(;L!==0&&W<P.length;W++)T=(P.words[W]|0)+L,this.words[W]=T&67108863,L=T>>>26;if(this.length=P.length,L!==0)this.words[this.length]=L,this.length++;else if(P!==this)for(;W<P.length;W++)this.words[W]=P.words[W];return this},$.prototype.add=function(u){var T;return u.negative!==0&&this.negative===0?(u.negative=0,T=this.sub(u),u.negative^=1,T):u.negative===0&&this.negative!==0?(this.negative=0,T=u.sub(this),this.negative=1,T):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},$.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var T=this.iadd(u);return u.negative=1,T._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var P=this.cmp(u);if(P===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,L;P>0?(N=this,L=u):(N=u,L=this);for(var W=0,Z=0;Z<L.length;Z++)T=(N.words[Z]|0)-(L.words[Z]|0)+W,W=T>>26,this.words[Z]=T&67108863;for(;W!==0&&Z<N.length;Z++)T=(N.words[Z]|0)+W,W=T>>26,this.words[Z]=T&67108863;if(W===0&&Z<N.length&&N!==this)for(;Z<N.length;Z++)this.words[Z]=N.words[Z];return this.length=Math.max(this.length,Z),N!==this&&(this.negative=1),this.strip()},$.prototype.sub=function(u){return this.clone().isub(u)};function ee(J,u,T){T.negative=u.negative^J.negative;var P=J.length+u.length|0;T.length=P,P=P-1|0;var N=J.words[0]|0,L=u.words[0]|0,W=N*L,Z=W&67108863,U=W/67108864|0;T.words[0]=Z;for(var M=1;M<P;M++){for(var F=U>>>26,te=U&67108863,ie=Math.min(M,u.length-1),he=Math.max(0,M-J.length+1);he<=ie;he++){var pe=M-he|0;N=J.words[pe]|0,L=u.words[he]|0,W=N*L+te,F+=W/67108864|0,te=W&67108863}T.words[M]=te|0,U=F|0}return U!==0?T.words[M]=U|0:T.length--,T.strip()}var re=function(u,T,P){var N=u.words,L=T.words,W=P.words,Z=0,U,M,F,te=N[0]|0,ie=te&8191,he=te>>>13,pe=N[1]|0,de=pe&8191,oe=pe>>>13,le=N[2]|0,ve=le&8191,Me=le>>>13,ye=N[3]|0,ce=ye&8191,Se=ye>>>13,et=N[4]|0,ke=et&8191,De=et>>>13,ot=N[5]|0,Le=ot&8191,$e=ot>>>13,lt=N[6]|0,Ne=lt&8191,We=lt>>>13,ct=N[7]|0,Ue=ct&8191,Ye=ct>>>13,mt=N[8]|0,Fe=mt&8191,Xe=mt>>>13,_t=N[9]|0,Ve=_t&8191,it=_t>>>13,vt=L[0]|0,He=vt&8191,nt=vt>>>13,yt=L[1]|0,Ke=yt&8191,st=yt>>>13,bt=L[2]|0,Ge=bt&8191,rt=bt>>>13,wt=L[3]|0,je=wt&8191,Qe=wt>>>13,gt=L[4]|0,we=gt&8191,me=gt>>>13,Ee=L[5]|0,xe=Ee&8191,Re=Ee>>>13,Je=L[6]|0,Ce=Je&8191,Ie=Je>>>13,at=L[7]|0,Be=at&8191,Oe=at>>>13,ft=L[8]|0,qe=ft&8191,Ze=ft>>>13,ht=L[9]|0,ze=ht&8191,tt=ht>>>13;P.negative=u.negative^T.negative,P.length=19,U=Math.imul(ie,He),M=Math.imul(ie,nt),M=M+Math.imul(he,He)|0,F=Math.imul(he,nt);var dt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(dt>>>26)|0,dt&=67108863,U=Math.imul(de,He),M=Math.imul(de,nt),M=M+Math.imul(oe,He)|0,F=Math.imul(oe,nt),U=U+Math.imul(ie,Ke)|0,M=M+Math.imul(ie,st)|0,M=M+Math.imul(he,Ke)|0,F=F+Math.imul(he,st)|0;var pt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(pt>>>26)|0,pt&=67108863,U=Math.imul(ve,He),M=Math.imul(ve,nt),M=M+Math.imul(Me,He)|0,F=Math.imul(Me,nt),U=U+Math.imul(de,Ke)|0,M=M+Math.imul(de,st)|0,M=M+Math.imul(oe,Ke)|0,F=F+Math.imul(oe,st)|0,U=U+Math.imul(ie,Ge)|0,M=M+Math.imul(ie,rt)|0,M=M+Math.imul(he,Ge)|0,F=F+Math.imul(he,rt)|0;var xt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(xt>>>26)|0,xt&=67108863,U=Math.imul(ce,He),M=Math.imul(ce,nt),M=M+Math.imul(Se,He)|0,F=Math.imul(Se,nt),U=U+Math.imul(ve,Ke)|0,M=M+Math.imul(ve,st)|0,M=M+Math.imul(Me,Ke)|0,F=F+Math.imul(Me,st)|0,U=U+Math.imul(de,Ge)|0,M=M+Math.imul(de,rt)|0,M=M+Math.imul(oe,Ge)|0,F=F+Math.imul(oe,rt)|0,U=U+Math.imul(ie,je)|0,M=M+Math.imul(ie,Qe)|0,M=M+Math.imul(he,je)|0,F=F+Math.imul(he,Qe)|0;var St=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(St>>>26)|0,St&=67108863,U=Math.imul(ke,He),M=Math.imul(ke,nt),M=M+Math.imul(De,He)|0,F=Math.imul(De,nt),U=U+Math.imul(ce,Ke)|0,M=M+Math.imul(ce,st)|0,M=M+Math.imul(Se,Ke)|0,F=F+Math.imul(Se,st)|0,U=U+Math.imul(ve,Ge)|0,M=M+Math.imul(ve,rt)|0,M=M+Math.imul(Me,Ge)|0,F=F+Math.imul(Me,rt)|0,U=U+Math.imul(de,je)|0,M=M+Math.imul(de,Qe)|0,M=M+Math.imul(oe,je)|0,F=F+Math.imul(oe,Qe)|0,U=U+Math.imul(ie,we)|0,M=M+Math.imul(ie,me)|0,M=M+Math.imul(he,we)|0,F=F+Math.imul(he,me)|0;var Mt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,U=Math.imul(Le,He),M=Math.imul(Le,nt),M=M+Math.imul($e,He)|0,F=Math.imul($e,nt),U=U+Math.imul(ke,Ke)|0,M=M+Math.imul(ke,st)|0,M=M+Math.imul(De,Ke)|0,F=F+Math.imul(De,st)|0,U=U+Math.imul(ce,Ge)|0,M=M+Math.imul(ce,rt)|0,M=M+Math.imul(Se,Ge)|0,F=F+Math.imul(Se,rt)|0,U=U+Math.imul(ve,je)|0,M=M+Math.imul(ve,Qe)|0,M=M+Math.imul(Me,je)|0,F=F+Math.imul(Me,Qe)|0,U=U+Math.imul(de,we)|0,M=M+Math.imul(de,me)|0,M=M+Math.imul(oe,we)|0,F=F+Math.imul(oe,me)|0,U=U+Math.imul(ie,xe)|0,M=M+Math.imul(ie,Re)|0,M=M+Math.imul(he,xe)|0,F=F+Math.imul(he,Re)|0;var Et=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Et>>>26)|0,Et&=67108863,U=Math.imul(Ne,He),M=Math.imul(Ne,nt),M=M+Math.imul(We,He)|0,F=Math.imul(We,nt),U=U+Math.imul(Le,Ke)|0,M=M+Math.imul(Le,st)|0,M=M+Math.imul($e,Ke)|0,F=F+Math.imul($e,st)|0,U=U+Math.imul(ke,Ge)|0,M=M+Math.imul(ke,rt)|0,M=M+Math.imul(De,Ge)|0,F=F+Math.imul(De,rt)|0,U=U+Math.imul(ce,je)|0,M=M+Math.imul(ce,Qe)|0,M=M+Math.imul(Se,je)|0,F=F+Math.imul(Se,Qe)|0,U=U+Math.imul(ve,we)|0,M=M+Math.imul(ve,me)|0,M=M+Math.imul(Me,we)|0,F=F+Math.imul(Me,me)|0,U=U+Math.imul(de,xe)|0,M=M+Math.imul(de,Re)|0,M=M+Math.imul(oe,xe)|0,F=F+Math.imul(oe,Re)|0,U=U+Math.imul(ie,Ce)|0,M=M+Math.imul(ie,Ie)|0,M=M+Math.imul(he,Ce)|0,F=F+Math.imul(he,Ie)|0;var At=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(At>>>26)|0,At&=67108863,U=Math.imul(Ue,He),M=Math.imul(Ue,nt),M=M+Math.imul(Ye,He)|0,F=Math.imul(Ye,nt),U=U+Math.imul(Ne,Ke)|0,M=M+Math.imul(Ne,st)|0,M=M+Math.imul(We,Ke)|0,F=F+Math.imul(We,st)|0,U=U+Math.imul(Le,Ge)|0,M=M+Math.imul(Le,rt)|0,M=M+Math.imul($e,Ge)|0,F=F+Math.imul($e,rt)|0,U=U+Math.imul(ke,je)|0,M=M+Math.imul(ke,Qe)|0,M=M+Math.imul(De,je)|0,F=F+Math.imul(De,Qe)|0,U=U+Math.imul(ce,we)|0,M=M+Math.imul(ce,me)|0,M=M+Math.imul(Se,we)|0,F=F+Math.imul(Se,me)|0,U=U+Math.imul(ve,xe)|0,M=M+Math.imul(ve,Re)|0,M=M+Math.imul(Me,xe)|0,F=F+Math.imul(Me,Re)|0,U=U+Math.imul(de,Ce)|0,M=M+Math.imul(de,Ie)|0,M=M+Math.imul(oe,Ce)|0,F=F+Math.imul(oe,Ie)|0,U=U+Math.imul(ie,Be)|0,M=M+Math.imul(ie,Oe)|0,M=M+Math.imul(he,Be)|0,F=F+Math.imul(he,Oe)|0;var Rt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,U=Math.imul(Fe,He),M=Math.imul(Fe,nt),M=M+Math.imul(Xe,He)|0,F=Math.imul(Xe,nt),U=U+Math.imul(Ue,Ke)|0,M=M+Math.imul(Ue,st)|0,M=M+Math.imul(Ye,Ke)|0,F=F+Math.imul(Ye,st)|0,U=U+Math.imul(Ne,Ge)|0,M=M+Math.imul(Ne,rt)|0,M=M+Math.imul(We,Ge)|0,F=F+Math.imul(We,rt)|0,U=U+Math.imul(Le,je)|0,M=M+Math.imul(Le,Qe)|0,M=M+Math.imul($e,je)|0,F=F+Math.imul($e,Qe)|0,U=U+Math.imul(ke,we)|0,M=M+Math.imul(ke,me)|0,M=M+Math.imul(De,we)|0,F=F+Math.imul(De,me)|0,U=U+Math.imul(ce,xe)|0,M=M+Math.imul(ce,Re)|0,M=M+Math.imul(Se,xe)|0,F=F+Math.imul(Se,Re)|0,U=U+Math.imul(ve,Ce)|0,M=M+Math.imul(ve,Ie)|0,M=M+Math.imul(Me,Ce)|0,F=F+Math.imul(Me,Ie)|0,U=U+Math.imul(de,Be)|0,M=M+Math.imul(de,Oe)|0,M=M+Math.imul(oe,Be)|0,F=F+Math.imul(oe,Oe)|0,U=U+Math.imul(ie,qe)|0,M=M+Math.imul(ie,Ze)|0,M=M+Math.imul(he,qe)|0,F=F+Math.imul(he,Ze)|0;var Tt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,U=Math.imul(Ve,He),M=Math.imul(Ve,nt),M=M+Math.imul(it,He)|0,F=Math.imul(it,nt),U=U+Math.imul(Fe,Ke)|0,M=M+Math.imul(Fe,st)|0,M=M+Math.imul(Xe,Ke)|0,F=F+Math.imul(Xe,st)|0,U=U+Math.imul(Ue,Ge)|0,M=M+Math.imul(Ue,rt)|0,M=M+Math.imul(Ye,Ge)|0,F=F+Math.imul(Ye,rt)|0,U=U+Math.imul(Ne,je)|0,M=M+Math.imul(Ne,Qe)|0,M=M+Math.imul(We,je)|0,F=F+Math.imul(We,Qe)|0,U=U+Math.imul(Le,we)|0,M=M+Math.imul(Le,me)|0,M=M+Math.imul($e,we)|0,F=F+Math.imul($e,me)|0,U=U+Math.imul(ke,xe)|0,M=M+Math.imul(ke,Re)|0,M=M+Math.imul(De,xe)|0,F=F+Math.imul(De,Re)|0,U=U+Math.imul(ce,Ce)|0,M=M+Math.imul(ce,Ie)|0,M=M+Math.imul(Se,Ce)|0,F=F+Math.imul(Se,Ie)|0,U=U+Math.imul(ve,Be)|0,M=M+Math.imul(ve,Oe)|0,M=M+Math.imul(Me,Be)|0,F=F+Math.imul(Me,Oe)|0,U=U+Math.imul(de,qe)|0,M=M+Math.imul(de,Ze)|0,M=M+Math.imul(oe,qe)|0,F=F+Math.imul(oe,Ze)|0,U=U+Math.imul(ie,ze)|0,M=M+Math.imul(ie,tt)|0,M=M+Math.imul(he,ze)|0,F=F+Math.imul(he,tt)|0;var $t=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+($t>>>26)|0,$t&=67108863,U=Math.imul(Ve,Ke),M=Math.imul(Ve,st),M=M+Math.imul(it,Ke)|0,F=Math.imul(it,st),U=U+Math.imul(Fe,Ge)|0,M=M+Math.imul(Fe,rt)|0,M=M+Math.imul(Xe,Ge)|0,F=F+Math.imul(Xe,rt)|0,U=U+Math.imul(Ue,je)|0,M=M+Math.imul(Ue,Qe)|0,M=M+Math.imul(Ye,je)|0,F=F+Math.imul(Ye,Qe)|0,U=U+Math.imul(Ne,we)|0,M=M+Math.imul(Ne,me)|0,M=M+Math.imul(We,we)|0,F=F+Math.imul(We,me)|0,U=U+Math.imul(Le,xe)|0,M=M+Math.imul(Le,Re)|0,M=M+Math.imul($e,xe)|0,F=F+Math.imul($e,Re)|0,U=U+Math.imul(ke,Ce)|0,M=M+Math.imul(ke,Ie)|0,M=M+Math.imul(De,Ce)|0,F=F+Math.imul(De,Ie)|0,U=U+Math.imul(ce,Be)|0,M=M+Math.imul(ce,Oe)|0,M=M+Math.imul(Se,Be)|0,F=F+Math.imul(Se,Oe)|0,U=U+Math.imul(ve,qe)|0,M=M+Math.imul(ve,Ze)|0,M=M+Math.imul(Me,qe)|0,F=F+Math.imul(Me,Ze)|0,U=U+Math.imul(de,ze)|0,M=M+Math.imul(de,tt)|0,M=M+Math.imul(oe,ze)|0,F=F+Math.imul(oe,tt)|0;var Ct=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,U=Math.imul(Ve,Ge),M=Math.imul(Ve,rt),M=M+Math.imul(it,Ge)|0,F=Math.imul(it,rt),U=U+Math.imul(Fe,je)|0,M=M+Math.imul(Fe,Qe)|0,M=M+Math.imul(Xe,je)|0,F=F+Math.imul(Xe,Qe)|0,U=U+Math.imul(Ue,we)|0,M=M+Math.imul(Ue,me)|0,M=M+Math.imul(Ye,we)|0,F=F+Math.imul(Ye,me)|0,U=U+Math.imul(Ne,xe)|0,M=M+Math.imul(Ne,Re)|0,M=M+Math.imul(We,xe)|0,F=F+Math.imul(We,Re)|0,U=U+Math.imul(Le,Ce)|0,M=M+Math.imul(Le,Ie)|0,M=M+Math.imul($e,Ce)|0,F=F+Math.imul($e,Ie)|0,U=U+Math.imul(ke,Be)|0,M=M+Math.imul(ke,Oe)|0,M=M+Math.imul(De,Be)|0,F=F+Math.imul(De,Oe)|0,U=U+Math.imul(ce,qe)|0,M=M+Math.imul(ce,Ze)|0,M=M+Math.imul(Se,qe)|0,F=F+Math.imul(Se,Ze)|0,U=U+Math.imul(ve,ze)|0,M=M+Math.imul(ve,tt)|0,M=M+Math.imul(Me,ze)|0,F=F+Math.imul(Me,tt)|0;var It=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(It>>>26)|0,It&=67108863,U=Math.imul(Ve,je),M=Math.imul(Ve,Qe),M=M+Math.imul(it,je)|0,F=Math.imul(it,Qe),U=U+Math.imul(Fe,we)|0,M=M+Math.imul(Fe,me)|0,M=M+Math.imul(Xe,we)|0,F=F+Math.imul(Xe,me)|0,U=U+Math.imul(Ue,xe)|0,M=M+Math.imul(Ue,Re)|0,M=M+Math.imul(Ye,xe)|0,F=F+Math.imul(Ye,Re)|0,U=U+Math.imul(Ne,Ce)|0,M=M+Math.imul(Ne,Ie)|0,M=M+Math.imul(We,Ce)|0,F=F+Math.imul(We,Ie)|0,U=U+Math.imul(Le,Be)|0,M=M+Math.imul(Le,Oe)|0,M=M+Math.imul($e,Be)|0,F=F+Math.imul($e,Oe)|0,U=U+Math.imul(ke,qe)|0,M=M+Math.imul(ke,Ze)|0,M=M+Math.imul(De,qe)|0,F=F+Math.imul(De,Ze)|0,U=U+Math.imul(ce,ze)|0,M=M+Math.imul(ce,tt)|0,M=M+Math.imul(Se,ze)|0,F=F+Math.imul(Se,tt)|0;var Bt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,U=Math.imul(Ve,we),M=Math.imul(Ve,me),M=M+Math.imul(it,we)|0,F=Math.imul(it,me),U=U+Math.imul(Fe,xe)|0,M=M+Math.imul(Fe,Re)|0,M=M+Math.imul(Xe,xe)|0,F=F+Math.imul(Xe,Re)|0,U=U+Math.imul(Ue,Ce)|0,M=M+Math.imul(Ue,Ie)|0,M=M+Math.imul(Ye,Ce)|0,F=F+Math.imul(Ye,Ie)|0,U=U+Math.imul(Ne,Be)|0,M=M+Math.imul(Ne,Oe)|0,M=M+Math.imul(We,Be)|0,F=F+Math.imul(We,Oe)|0,U=U+Math.imul(Le,qe)|0,M=M+Math.imul(Le,Ze)|0,M=M+Math.imul($e,qe)|0,F=F+Math.imul($e,Ze)|0,U=U+Math.imul(ke,ze)|0,M=M+Math.imul(ke,tt)|0,M=M+Math.imul(De,ze)|0,F=F+Math.imul(De,tt)|0;var kt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(kt>>>26)|0,kt&=67108863,U=Math.imul(Ve,xe),M=Math.imul(Ve,Re),M=M+Math.imul(it,xe)|0,F=Math.imul(it,Re),U=U+Math.imul(Fe,Ce)|0,M=M+Math.imul(Fe,Ie)|0,M=M+Math.imul(Xe,Ce)|0,F=F+Math.imul(Xe,Ie)|0,U=U+Math.imul(Ue,Be)|0,M=M+Math.imul(Ue,Oe)|0,M=M+Math.imul(Ye,Be)|0,F=F+Math.imul(Ye,Oe)|0,U=U+Math.imul(Ne,qe)|0,M=M+Math.imul(Ne,Ze)|0,M=M+Math.imul(We,qe)|0,F=F+Math.imul(We,Ze)|0,U=U+Math.imul(Le,ze)|0,M=M+Math.imul(Le,tt)|0,M=M+Math.imul($e,ze)|0,F=F+Math.imul($e,tt)|0;var Dt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,U=Math.imul(Ve,Ce),M=Math.imul(Ve,Ie),M=M+Math.imul(it,Ce)|0,F=Math.imul(it,Ie),U=U+Math.imul(Fe,Be)|0,M=M+Math.imul(Fe,Oe)|0,M=M+Math.imul(Xe,Be)|0,F=F+Math.imul(Xe,Oe)|0,U=U+Math.imul(Ue,qe)|0,M=M+Math.imul(Ue,Ze)|0,M=M+Math.imul(Ye,qe)|0,F=F+Math.imul(Ye,Ze)|0,U=U+Math.imul(Ne,ze)|0,M=M+Math.imul(Ne,tt)|0,M=M+Math.imul(We,ze)|0,F=F+Math.imul(We,tt)|0;var qt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(qt>>>26)|0,qt&=67108863,U=Math.imul(Ve,Be),M=Math.imul(Ve,Oe),M=M+Math.imul(it,Be)|0,F=Math.imul(it,Oe),U=U+Math.imul(Fe,qe)|0,M=M+Math.imul(Fe,Ze)|0,M=M+Math.imul(Xe,qe)|0,F=F+Math.imul(Xe,Ze)|0,U=U+Math.imul(Ue,ze)|0,M=M+Math.imul(Ue,tt)|0,M=M+Math.imul(Ye,ze)|0,F=F+Math.imul(Ye,tt)|0;var Pt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,U=Math.imul(Ve,qe),M=Math.imul(Ve,Ze),M=M+Math.imul(it,qe)|0,F=Math.imul(it,Ze),U=U+Math.imul(Fe,ze)|0,M=M+Math.imul(Fe,tt)|0,M=M+Math.imul(Xe,ze)|0,F=F+Math.imul(Xe,tt)|0;var Nt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,U=Math.imul(Ve,ze),M=Math.imul(Ve,tt),M=M+Math.imul(it,ze)|0,F=Math.imul(it,tt);var Ot=(Z+U|0)+((M&8191)<<13)|0;return Z=(F+(M>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,W[0]=dt,W[1]=pt,W[2]=xt,W[3]=St,W[4]=Mt,W[5]=Et,W[6]=At,W[7]=Rt,W[8]=Tt,W[9]=$t,W[10]=Ct,W[11]=It,W[12]=Bt,W[13]=kt,W[14]=Dt,W[15]=qt,W[16]=Pt,W[17]=Nt,W[18]=Ot,Z!==0&&(W[19]=Z,P.length++),P};Math.imul||(re=ee);function ne(J,u,T){T.negative=u.negative^J.negative,T.length=J.length+u.length;for(var P=0,N=0,L=0;L<T.length-1;L++){var W=N;N=0;for(var Z=P&67108863,U=Math.min(L,u.length-1),M=Math.max(0,L-J.length+1);M<=U;M++){var F=L-M,te=J.words[F]|0,ie=u.words[M]|0,he=te*ie,pe=he&67108863;W=W+(he/67108864|0)|0,pe=pe+Z|0,Z=pe&67108863,W=W+(pe>>>26)|0,N+=W>>>26,W&=67108863}T.words[L]=Z,P=W,W=N}return P!==0?T.words[L]=P:T.length--,T.strip()}function se(J,u,T){var P=new ae;return P.mulp(J,u,T)}$.prototype.mulTo=function(u,T){var P,N=this.length+u.length;return this.length===10&&u.length===10?P=re(this,u,T):N<63?P=ee(this,u,T):N<1024?P=ne(this,u,T):P=se(this,u,T),P};function ae(J,u){this.x=J,this.y=u}ae.prototype.makeRBT=function(u){for(var T=new Array(u),P=$.prototype._countBits(u)-1,N=0;N<u;N++)T[N]=this.revBin(N,P,u);return T},ae.prototype.revBin=function(u,T,P){if(u===0||u===P-1)return u;for(var N=0,L=0;L<T;L++)N|=(u&1)<<T-L-1,u>>=1;return N},ae.prototype.permute=function(u,T,P,N,L,W){for(var Z=0;Z<W;Z++)N[Z]=T[u[Z]],L[Z]=P[u[Z]]},ae.prototype.transform=function(u,T,P,N,L,W){this.permute(W,u,T,P,N,L);for(var Z=1;Z<L;Z<<=1)for(var U=Z<<1,M=Math.cos(2*Math.PI/U),F=Math.sin(2*Math.PI/U),te=0;te<L;te+=U)for(var ie=M,he=F,pe=0;pe<Z;pe++){var de=P[te+pe],oe=N[te+pe],le=P[te+pe+Z],ve=N[te+pe+Z],Me=ie*le-he*ve;ve=ie*ve+he*le,le=Me,P[te+pe]=de+le,N[te+pe]=oe+ve,P[te+pe+Z]=de-le,N[te+pe+Z]=oe-ve,pe!==U&&(Me=M*ie-F*he,he=M*he+F*ie,ie=Me)}},ae.prototype.guessLen13b=function(u,T){var P=Math.max(T,u)|1,N=P&1,L=0;for(P=P/2|0;P;P=P>>>1)L++;return 1<<L+1+N},ae.prototype.conjugate=function(u,T,P){if(!(P<=1))for(var N=0;N<P/2;N++){var L=u[N];u[N]=u[P-N-1],u[P-N-1]=L,L=T[N],T[N]=-T[P-N-1],T[P-N-1]=-L}},ae.prototype.normalize13b=function(u,T){for(var P=0,N=0;N<T/2;N++){var L=Math.round(u[2*N+1]/T)*8192+Math.round(u[2*N]/T)+P;u[N]=L&67108863,L<67108864?P=0:P=L/67108864|0}return u},ae.prototype.convert13b=function(u,T,P,N){for(var L=0,W=0;W<T;W++)L=L+(u[W]|0),P[2*W]=L&8191,L=L>>>13,P[2*W+1]=L&8191,L=L>>>13;for(W=2*T;W<N;++W)P[W]=0;q(L===0),q((L&-8192)===0)},ae.prototype.stub=function(u){for(var T=new Array(u),P=0;P<u;P++)T[P]=0;return T},ae.prototype.mulp=function(u,T,P){var N=2*this.guessLen13b(u.length,T.length),L=this.makeRBT(N),W=this.stub(N),Z=new Array(N),U=new Array(N),M=new Array(N),F=new Array(N),te=new Array(N),ie=new Array(N),he=P.words;he.length=N,this.convert13b(u.words,u.length,Z,N),this.convert13b(T.words,T.length,F,N),this.transform(Z,W,U,M,N,L),this.transform(F,W,te,ie,N,L);for(var pe=0;pe<N;pe++){var de=U[pe]*te[pe]-M[pe]*ie[pe];M[pe]=U[pe]*ie[pe]+M[pe]*te[pe],U[pe]=de}return this.conjugate(U,M,N),this.transform(U,M,he,W,N,L),this.conjugate(he,W,N),this.normalize13b(he,N),P.negative=u.negative^T.negative,P.length=u.length+T.length,P.strip()},$.prototype.mul=function(u){var T=new $(null);return T.words=new Array(this.length+u.length),this.mulTo(u,T)},$.prototype.mulf=function(u){var T=new $(null);return T.words=new Array(this.length+u.length),se(this,u,T)},$.prototype.imul=function(u){return this.clone().mulTo(u,this)},$.prototype.imuln=function(u){q(typeof u=="number"),q(u<67108864);for(var T=0,P=0;P<this.length;P++){var N=(this.words[P]|0)*u,L=(N&67108863)+(T&67108863);T>>=26,T+=N/67108864|0,T+=L>>>26,this.words[P]=L&67108863}return T!==0&&(this.words[P]=T,this.length++),this},$.prototype.muln=function(u){return this.clone().imuln(u)},$.prototype.sqr=function(){return this.mul(this)},$.prototype.isqr=function(){return this.imul(this.clone())},$.prototype.pow=function(u){var T=Q(u);if(T.length===0)return new $(1);for(var P=this,N=0;N<T.length&&T[N]===0;N++,P=P.sqr());if(++N<T.length)for(var L=P.sqr();N<T.length;N++,L=L.sqr())T[N]!==0&&(P=P.mul(L));return P},$.prototype.iushln=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26,N=67108863>>>26-T<<26-T,L;if(T!==0){var W=0;for(L=0;L<this.length;L++){var Z=this.words[L]&N,U=(this.words[L]|0)-Z<<T;this.words[L]=U|W,W=Z>>>26-T}W&&(this.words[L]=W,this.length++)}if(P!==0){for(L=this.length-1;L>=0;L--)this.words[L+P]=this.words[L];for(L=0;L<P;L++)this.words[L]=0;this.length+=P}return this.strip()},$.prototype.ishln=function(u){return q(this.negative===0),this.iushln(u)},$.prototype.iushrn=function(u,T,P){q(typeof u=="number"&&u>=0);var N;T?N=(T-T%26)/26:N=0;var L=u%26,W=Math.min((u-L)/26,this.length),Z=67108863^67108863>>>L<<L,U=P;if(N-=W,N=Math.max(0,N),U){for(var M=0;M<W;M++)U.words[M]=this.words[M];U.length=W}if(W!==0)if(this.length>W)for(this.length-=W,M=0;M<this.length;M++)this.words[M]=this.words[M+W];else this.words[0]=0,this.length=1;var F=0;for(M=this.length-1;M>=0&&(F!==0||M>=N);M--){var te=this.words[M]|0;this.words[M]=F<<26-L|te>>>L,F=te&Z}return U&&F!==0&&(U.words[U.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},$.prototype.ishrn=function(u,T,P){return q(this.negative===0),this.iushrn(u,T,P)},$.prototype.shln=function(u){return this.clone().ishln(u)},$.prototype.ushln=function(u){return this.clone().iushln(u)},$.prototype.shrn=function(u){return this.clone().ishrn(u)},$.prototype.ushrn=function(u){return this.clone().iushrn(u)},$.prototype.testn=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26,N=1<<T;if(this.length<=P)return!1;var L=this.words[P];return!!(L&N)},$.prototype.imaskn=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26;if(q(this.negative===0,"imaskn works only with positive numbers"),this.length<=P)return this;if(T!==0&&P++,this.length=Math.min(P,this.length),T!==0){var N=67108863^67108863>>>T<<T;this.words[this.length-1]&=N}return this.strip()},$.prototype.maskn=function(u){return this.clone().imaskn(u)},$.prototype.iaddn=function(u){return q(typeof u=="number"),q(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},$.prototype._iaddn=function(u){this.words[0]+=u;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},$.prototype.isubn=function(u){if(q(typeof u=="number"),q(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this.strip()},$.prototype.addn=function(u){return this.clone().iaddn(u)},$.prototype.subn=function(u){return this.clone().isubn(u)},$.prototype.iabs=function(){return this.negative=0,this},$.prototype.abs=function(){return this.clone().iabs()},$.prototype._ishlnsubmul=function(u,T,P){var N=u.length+P,L;this._expand(N);var W,Z=0;for(L=0;L<u.length;L++){W=(this.words[L+P]|0)+Z;var U=(u.words[L]|0)*T;W-=U&67108863,Z=(W>>26)-(U/67108864|0),this.words[L+P]=W&67108863}for(;L<this.length-P;L++)W=(this.words[L+P]|0)+Z,Z=W>>26,this.words[L+P]=W&67108863;if(Z===0)return this.strip();for(q(Z===-1),Z=0,L=0;L<this.length;L++)W=-(this.words[L]|0)+Z,Z=W>>26,this.words[L]=W&67108863;return this.negative=1,this.strip()},$.prototype._wordDiv=function(u,T){var P=this.length-u.length,N=this.clone(),L=u,W=L.words[L.length-1]|0,Z=this._countBits(W);P=26-Z,P!==0&&(L=L.ushln(P),N.iushln(P),W=L.words[L.length-1]|0);var U=N.length-L.length,M;if(T!=="mod"){M=new $(null),M.length=U+1,M.words=new Array(M.length);for(var F=0;F<M.length;F++)M.words[F]=0}var te=N.clone()._ishlnsubmul(L,1,U);te.negative===0&&(N=te,M&&(M.words[U]=1));for(var ie=U-1;ie>=0;ie--){var he=(N.words[L.length+ie]|0)*67108864+(N.words[L.length+ie-1]|0);for(he=Math.min(he/W|0,67108863),N._ishlnsubmul(L,he,ie);N.negative!==0;)he--,N.negative=0,N._ishlnsubmul(L,1,ie),N.isZero()||(N.negative^=1);M&&(M.words[ie]=he)}return M&&M.strip(),N.strip(),T!=="div"&&P!==0&&N.iushrn(P),{div:M||null,mod:N}},$.prototype.divmod=function(u,T,P){if(q(!u.isZero()),this.isZero())return{div:new $(0),mod:new $(0)};var N,L,W;return this.negative!==0&&u.negative===0?(W=this.neg().divmod(u,T),T!=="mod"&&(N=W.div.neg()),T!=="div"&&(L=W.mod.neg(),P&&L.negative!==0&&L.iadd(u)),{div:N,mod:L}):this.negative===0&&u.negative!==0?(W=this.divmod(u.neg(),T),T!=="mod"&&(N=W.div.neg()),{div:N,mod:W.mod}):this.negative&u.negative?(W=this.neg().divmod(u.neg(),T),T!=="div"&&(L=W.mod.neg(),P&&L.negative!==0&&L.isub(u)),{div:W.div,mod:L}):u.length>this.length||this.cmp(u)<0?{div:new $(0),mod:this}:u.length===1?T==="div"?{div:this.divn(u.words[0]),mod:null}:T==="mod"?{div:null,mod:new $(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new $(this.modn(u.words[0]))}:this._wordDiv(u,T)},$.prototype.div=function(u){return this.divmod(u,"div",!1).div},$.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},$.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},$.prototype.divRound=function(u){var T=this.divmod(u);if(T.mod.isZero())return T.div;var P=T.div.negative!==0?T.mod.isub(u):T.mod,N=u.ushrn(1),L=u.andln(1),W=P.cmp(N);return W<0||L===1&&W===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},$.prototype.modn=function(u){q(u<=67108863);for(var T=(1<<26)%u,P=0,N=this.length-1;N>=0;N--)P=(T*P+(this.words[N]|0))%u;return P},$.prototype.idivn=function(u){q(u<=67108863);for(var T=0,P=this.length-1;P>=0;P--){var N=(this.words[P]|0)+T*67108864;this.words[P]=N/u|0,T=N%u}return this.strip()},$.prototype.divn=function(u){return this.clone().idivn(u)},$.prototype.egcd=function(u){q(u.negative===0),q(!u.isZero());var T=this,P=u.clone();T.negative!==0?T=T.umod(u):T=T.clone();for(var N=new $(1),L=new $(0),W=new $(0),Z=new $(1),U=0;T.isEven()&&P.isEven();)T.iushrn(1),P.iushrn(1),++U;for(var M=P.clone(),F=T.clone();!T.isZero();){for(var te=0,ie=1;!(T.words[0]&ie)&&te<26;++te,ie<<=1);if(te>0)for(T.iushrn(te);te-- >0;)(N.isOdd()||L.isOdd())&&(N.iadd(M),L.isub(F)),N.iushrn(1),L.iushrn(1);for(var he=0,pe=1;!(P.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(P.iushrn(he);he-- >0;)(W.isOdd()||Z.isOdd())&&(W.iadd(M),Z.isub(F)),W.iushrn(1),Z.iushrn(1);T.cmp(P)>=0?(T.isub(P),N.isub(W),L.isub(Z)):(P.isub(T),W.isub(N),Z.isub(L))}return{a:W,b:Z,gcd:P.iushln(U)}},$.prototype._invmp=function(u){q(u.negative===0),q(!u.isZero());var T=this,P=u.clone();T.negative!==0?T=T.umod(u):T=T.clone();for(var N=new $(1),L=new $(0),W=P.clone();T.cmpn(1)>0&&P.cmpn(1)>0;){for(var Z=0,U=1;!(T.words[0]&U)&&Z<26;++Z,U<<=1);if(Z>0)for(T.iushrn(Z);Z-- >0;)N.isOdd()&&N.iadd(W),N.iushrn(1);for(var M=0,F=1;!(P.words[0]&F)&&M<26;++M,F<<=1);if(M>0)for(P.iushrn(M);M-- >0;)L.isOdd()&&L.iadd(W),L.iushrn(1);T.cmp(P)>=0?(T.isub(P),N.isub(L)):(P.isub(T),L.isub(N))}var te;return T.cmpn(1)===0?te=N:te=L,te.cmpn(0)<0&&te.iadd(u),te},$.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var T=this.clone(),P=u.clone();T.negative=0,P.negative=0;for(var N=0;T.isEven()&&P.isEven();N++)T.iushrn(1),P.iushrn(1);do{for(;T.isEven();)T.iushrn(1);for(;P.isEven();)P.iushrn(1);var L=T.cmp(P);if(L<0){var W=T;T=P,P=W}else if(L===0||P.cmpn(1)===0)break;T.isub(P)}while(!0);return P.iushln(N)},$.prototype.invm=function(u){return this.egcd(u).a.umod(u)},$.prototype.isEven=function(){return(this.words[0]&1)===0},$.prototype.isOdd=function(){return(this.words[0]&1)===1},$.prototype.andln=function(u){return this.words[0]&u},$.prototype.bincn=function(u){q(typeof u=="number");var T=u%26,P=(u-T)/26,N=1<<T;if(this.length<=P)return this._expand(P+1),this.words[P]|=N,this;for(var L=N,W=P;L!==0&&W<this.length;W++){var Z=this.words[W]|0;Z+=L,L=Z>>>26,Z&=67108863,this.words[W]=Z}return L!==0&&(this.words[W]=L,this.length++),this},$.prototype.isZero=function(){return this.length===1&&this.words[0]===0},$.prototype.cmpn=function(u){var T=u<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;this.strip();var P;if(this.length>1)P=1;else{T&&(u=-u),q(u<=67108863,"Number is too big");var N=this.words[0]|0;P=N===u?0:N<u?-1:1}return this.negative!==0?-P|0:P},$.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var T=this.ucmp(u);return this.negative!==0?-T|0:T},$.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var T=0,P=this.length-1;P>=0;P--){var N=this.words[P]|0,L=u.words[P]|0;if(N!==L){N<L?T=-1:N>L&&(T=1);break}}return T},$.prototype.gtn=function(u){return this.cmpn(u)===1},$.prototype.gt=function(u){return this.cmp(u)===1},$.prototype.gten=function(u){return this.cmpn(u)>=0},$.prototype.gte=function(u){return this.cmp(u)>=0},$.prototype.ltn=function(u){return this.cmpn(u)===-1},$.prototype.lt=function(u){return this.cmp(u)===-1},$.prototype.lten=function(u){return this.cmpn(u)<=0},$.prototype.lte=function(u){return this.cmp(u)<=0},$.prototype.eqn=function(u){return this.cmpn(u)===0},$.prototype.eq=function(u){return this.cmp(u)===0},$.red=function(u){return new be(u)},$.prototype.toRed=function(u){return q(!this.red,"Already a number in reduction context"),q(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},$.prototype.fromRed=function(){return q(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},$.prototype._forceRed=function(u){return this.red=u,this},$.prototype.forceRed=function(u){return q(!this.red,"Already a number in reduction context"),this._forceRed(u)},$.prototype.redAdd=function(u){return q(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},$.prototype.redIAdd=function(u){return q(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},$.prototype.redSub=function(u){return q(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},$.prototype.redISub=function(u){return q(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},$.prototype.redShl=function(u){return q(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},$.prototype.redMul=function(u){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},$.prototype.redIMul=function(u){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},$.prototype.redSqr=function(){return q(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},$.prototype.redISqr=function(){return q(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},$.prototype.redSqrt=function(){return q(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},$.prototype.redInvm=function(){return q(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},$.prototype.redNeg=function(){return q(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},$.prototype.redPow=function(u){return q(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var fe={k256:null,p224:null,p192:null,p25519:null};function ue(J,u){this.name=J,this.p=new $(u,16),this.n=this.p.bitLength(),this.k=new $(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ue.prototype._tmp=function(){var u=new $(null);return u.words=new Array(Math.ceil(this.n/13)),u},ue.prototype.ireduce=function(u){var T=u,P;do this.split(T,this.tmp),T=this.imulK(T),T=T.iadd(this.tmp),P=T.bitLength();while(P>this.n);var N=P<this.n?-1:T.ucmp(this.p);return N===0?(T.words[0]=0,T.length=1):N>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},ue.prototype.split=function(u,T){u.iushrn(this.n,0,T)},ue.prototype.imulK=function(u){return u.imul(this.k)};function _e(){ue.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(_e,ue),_e.prototype.split=function(u,T){for(var P=4194303,N=Math.min(u.length,9),L=0;L<N;L++)T.words[L]=u.words[L];if(T.length=N,u.length<=9){u.words[0]=0,u.length=1;return}var W=u.words[9];for(T.words[T.length++]=W&P,L=10;L<u.length;L++){var Z=u.words[L]|0;u.words[L-10]=(Z&P)<<4|W>>>22,W=Z}W>>>=22,u.words[L-10]=W,W===0&&u.length>10?u.length-=10:u.length-=9},_e.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var T=0,P=0;P<u.length;P++){var N=u.words[P]|0;T+=N*977,u.words[P]=T&67108863,T=N*64+(T/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function ge(){ue.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(ge,ue);function Ae(){ue.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(Ae,ue);function Te(){ue.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(Te,ue),Te.prototype.imulK=function(u){for(var T=0,P=0;P<u.length;P++){var N=(u.words[P]|0)*19+T,L=N&67108863;N>>>=26,u.words[P]=L,T=N}return T!==0&&(u.words[u.length++]=T),u},$._prime=function(u){if(fe[u])return fe[u];var T;if(u==="k256")T=new _e;else if(u==="p224")T=new ge;else if(u==="p192")T=new Ae;else if(u==="p25519")T=new Te;else throw new Error("Unknown prime "+u);return fe[u]=T,T};function be(J){if(typeof J=="string"){var u=$._prime(J);this.m=u.p,this.prime=u}else q(J.gtn(1),"modulus must be greater than 1"),this.m=J,this.prime=null}be.prototype._verify1=function(u){q(u.negative===0,"red works only with positives"),q(u.red,"red works only with red numbers")},be.prototype._verify2=function(u,T){q((u.negative|T.negative)===0,"red works only with positives"),q(u.red&&u.red===T.red,"red works only with red numbers")},be.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},be.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},be.prototype.add=function(u,T){this._verify2(u,T);var P=u.add(T);return P.cmp(this.m)>=0&&P.isub(this.m),P._forceRed(this)},be.prototype.iadd=function(u,T){this._verify2(u,T);var P=u.iadd(T);return P.cmp(this.m)>=0&&P.isub(this.m),P},be.prototype.sub=function(u,T){this._verify2(u,T);var P=u.sub(T);return P.cmpn(0)<0&&P.iadd(this.m),P._forceRed(this)},be.prototype.isub=function(u,T){this._verify2(u,T);var P=u.isub(T);return P.cmpn(0)<0&&P.iadd(this.m),P},be.prototype.shl=function(u,T){return this._verify1(u),this.imod(u.ushln(T))},be.prototype.imul=function(u,T){return this._verify2(u,T),this.imod(u.imul(T))},be.prototype.mul=function(u,T){return this._verify2(u,T),this.imod(u.mul(T))},be.prototype.isqr=function(u){return this.imul(u,u.clone())},be.prototype.sqr=function(u){return this.mul(u,u)},be.prototype.sqrt=function(u){if(u.isZero())return u.clone();var T=this.m.andln(3);if(q(T%2===1),T===3){var P=this.m.add(new $(1)).iushrn(2);return this.pow(u,P)}for(var N=this.m.subn(1),L=0;!N.isZero()&&N.andln(1)===0;)L++,N.iushrn(1);q(!N.isZero());var W=new $(1).toRed(this),Z=W.redNeg(),U=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new $(2*M*M).toRed(this);this.pow(M,U).cmp(Z)!==0;)M.redIAdd(Z);for(var F=this.pow(M,N),te=this.pow(u,N.addn(1).iushrn(1)),ie=this.pow(u,N),he=L;ie.cmp(W)!==0;){for(var pe=ie,de=0;pe.cmp(W)!==0;de++)pe=pe.redSqr();q(de<he);var oe=this.pow(F,new $(1).iushln(he-de-1));te=te.redMul(oe),F=oe.redSqr(),ie=ie.redMul(F),he=de}return te},be.prototype.invm=function(u){var T=u._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},be.prototype.pow=function(u,T){if(T.isZero())return new $(1).toRed(this);if(T.cmpn(1)===0)return u.clone();var P=4,N=new Array(1<<P);N[0]=new $(1).toRed(this),N[1]=u;for(var L=2;L<N.length;L++)N[L]=this.mul(N[L-1],u);var W=N[0],Z=0,U=0,M=T.bitLength()%26;for(M===0&&(M=26),L=T.length-1;L>=0;L--){for(var F=T.words[L],te=M-1;te>=0;te--){var ie=F>>te&1;if(W!==N[0]&&(W=this.sqr(W)),ie===0&&Z===0){U=0;continue}Z<<=1,Z|=ie,U++,!(U!==P&&(L!==0||te!==0))&&(W=this.mul(W,N[Z]),U=0,Z=0)}M=26}return W},be.prototype.convertTo=function(u){var T=u.umod(this.m);return T===u?T.clone():T},be.prototype.convertFrom=function(u){var T=u.clone();return T.red=null,T},$.mont=function(u){return new Pe(u)};function Pe(J){be.call(this,J),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new $(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(Pe,be),Pe.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Pe.prototype.convertFrom=function(u){var T=this.imod(u.mul(this.rinv));return T.red=null,T},Pe.prototype.imul=function(u,T){if(u.isZero()||T.isZero())return u.words[0]=0,u.length=1,u;var P=u.imul(T),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=P.isub(N).iushrn(this.shift),W=L;return L.cmp(this.m)>=0?W=L.isub(this.m):L.cmpn(0)<0&&(W=L.iadd(this.m)),W._forceRed(this)},Pe.prototype.mul=function(u,T){if(u.isZero()||T.isZero())return new $(0)._forceRed(this);var P=u.mul(T),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=P.isub(N).iushrn(this.shift),W=L;return L.cmp(this.m)>=0?W=L.isub(this.m):L.cmpn(0)<0&&(W=L.iadd(this.m)),W._forceRed(this)},Pe.prototype.invm=function(u){var T=this.imod(u._invmp(this.m).mul(this.r2));return T._forceRed(this)}})(B,commonjsGlobal)}(bn$6)),bn$6.exports}var bn$5={exports:{}};bn$5.exports;var hasRequiredBn$5;function requireBn$5(){return hasRequiredBn$5||(hasRequiredBn$5=1,function(B){(function(S,D){function q(J,u){if(!J)throw new Error(u||"Assertion failed")}function O(J,u){J.super_=u;var T=function(){};T.prototype=u.prototype,J.prototype=new T,J.prototype.constructor=J}function $(J,u,T){if($.isBN(J))return J;this.negative=0,this.words=null,this.length=0,this.red=null,J!==null&&((u==="le"||u==="be")&&(T=u,u=10),this._init(J||0,u||10,T||"be"))}typeof S=="object"?S.exports=$:D.BN=$,$.BN=$,$.wordSize=26;var j;try{typeof window<"u"&&typeof window.Buffer<"u"?j=window.Buffer:j=require$$0$1.Buffer}catch{}$.isBN=function(u){return u instanceof $?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===$.wordSize&&Array.isArray(u.words)},$.max=function(u,T){return u.cmp(T)>0?u:T},$.min=function(u,T){return u.cmp(T)<0?u:T},$.prototype._init=function(u,T,P){if(typeof u=="number")return this._initNumber(u,T,P);if(typeof u=="object")return this._initArray(u,T,P);T==="hex"&&(T=16),q(T===(T|0)&&T>=2&&T<=36),u=u.toString().replace(/\s+/g,"");var N=0;u[0]==="-"&&(N++,this.negative=1),N<u.length&&(T===16?this._parseHex(u,N,P):(this._parseBase(u,T,N),P==="le"&&this._initArray(this.toArray(),T,P)))},$.prototype._initNumber=function(u,T,P){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(q(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),P==="le"&&this._initArray(this.toArray(),T,P)},$.prototype._initArray=function(u,T,P){if(q(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L,W,Z=0;if(P==="be")for(N=u.length-1,L=0;N>=0;N-=3)W=u[N]|u[N-1]<<8|u[N-2]<<16,this.words[L]|=W<<Z&67108863,this.words[L+1]=W>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,L++);else if(P==="le")for(N=0,L=0;N<u.length;N+=3)W=u[N]|u[N+1]<<8|u[N+2]<<16,this.words[L]|=W<<Z&67108863,this.words[L+1]=W>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,L++);return this.strip()};function G(J,u){var T=J.charCodeAt(u);return T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:T-48&15}function V(J,u,T){var P=G(J,T);return T-1>=u&&(P|=G(J,T-1)<<4),P}$.prototype._parseHex=function(u,T,P){this.length=Math.ceil((u.length-T)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L=0,W=0,Z;if(P==="be")for(N=u.length-1;N>=T;N-=2)Z=V(u,T,N)<<L,this.words[W]|=Z&67108863,L>=18?(L-=18,W+=1,this.words[W]|=Z>>>26):L+=8;else{var U=u.length-T;for(N=U%2===0?T+1:T;N<u.length;N+=2)Z=V(u,T,N)<<L,this.words[W]|=Z&67108863,L>=18?(L-=18,W+=1,this.words[W]|=Z>>>26):L+=8}this.strip()};function K(J,u,T,P){for(var N=0,L=Math.min(J.length,T),W=u;W<L;W++){var Z=J.charCodeAt(W)-48;N*=P,Z>=49?N+=Z-49+10:Z>=17?N+=Z-17+10:N+=Z}return N}$.prototype._parseBase=function(u,T,P){this.words=[0],this.length=1;for(var N=0,L=1;L<=67108863;L*=T)N++;N--,L=L/T|0;for(var W=u.length-P,Z=W%N,U=Math.min(W,W-Z)+P,M=0,F=P;F<U;F+=N)M=K(u,F,F+N,T),this.imuln(L),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(Z!==0){var te=1;for(M=K(u,F,u.length,T),F=0;F<Z;F++)te*=T;this.imuln(te),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this.strip()},$.prototype.copy=function(u){u.words=new Array(this.length);for(var T=0;T<this.length;T++)u.words[T]=this.words[T];u.length=this.length,u.negative=this.negative,u.red=this.red},$.prototype.clone=function(){var u=new $(null);return this.copy(u),u},$.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},$.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},$.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},$.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var H=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];$.prototype.toString=function(u,T){u=u||10,T=T|0||1;var P;if(u===16||u==="hex"){P="";for(var N=0,L=0,W=0;W<this.length;W++){var Z=this.words[W],U=((Z<<N|L)&16777215).toString(16);L=Z>>>24-N&16777215,N+=2,N>=26&&(N-=26,W--),L!==0||W!==this.length-1?P=H[6-U.length]+U+P:P=U+P}for(L!==0&&(P=L.toString(16)+P);P.length%T!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}if(u===(u|0)&&u>=2&&u<=36){var M=Y[u],F=X[u];P="";var te=this.clone();for(te.negative=0;!te.isZero();){var ie=te.modn(F).toString(u);te=te.idivn(F),te.isZero()?P=ie+P:P=H[M-ie.length]+ie+P}for(this.isZero()&&(P="0"+P);P.length%T!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}q(!1,"Base should be between 2 and 36")},$.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&q(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},$.prototype.toJSON=function(){return this.toString(16)},$.prototype.toBuffer=function(u,T){return q(typeof j<"u"),this.toArrayLike(j,u,T)},$.prototype.toArray=function(u,T){return this.toArrayLike(Array,u,T)},$.prototype.toArrayLike=function(u,T,P){var N=this.byteLength(),L=P||Math.max(1,N);q(N<=L,"byte array longer than desired length"),q(L>0,"Requested array length <= 0"),this.strip();var W=T==="le",Z=new u(L),U,M,F=this.clone();if(W){for(M=0;!F.isZero();M++)U=F.andln(255),F.iushrn(8),Z[M]=U;for(;M<L;M++)Z[M]=0}else{for(M=0;M<L-N;M++)Z[M]=0;for(M=0;!F.isZero();M++)U=F.andln(255),F.iushrn(8),Z[L-M-1]=U}return Z},Math.clz32?$.prototype._countBits=function(u){return 32-Math.clz32(u)}:$.prototype._countBits=function(u){var T=u,P=0;return T>=4096&&(P+=13,T>>>=13),T>=64&&(P+=7,T>>>=7),T>=8&&(P+=4,T>>>=4),T>=2&&(P+=2,T>>>=2),P+T},$.prototype._zeroBits=function(u){if(u===0)return 26;var T=u,P=0;return T&8191||(P+=13,T>>>=13),T&127||(P+=7,T>>>=7),T&15||(P+=4,T>>>=4),T&3||(P+=2,T>>>=2),T&1||P++,P},$.prototype.bitLength=function(){var u=this.words[this.length-1],T=this._countBits(u);return(this.length-1)*26+T};function Q(J){for(var u=new Array(J.bitLength()),T=0;T<u.length;T++){var P=T/26|0,N=T%26;u[T]=(J.words[P]&1<<N)>>>N}return u}$.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,T=0;T<this.length;T++){var P=this._zeroBits(this.words[T]);if(u+=P,P!==26)break}return u},$.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},$.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},$.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},$.prototype.isNeg=function(){return this.negative!==0},$.prototype.neg=function(){return this.clone().ineg()},$.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},$.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var T=0;T<u.length;T++)this.words[T]=this.words[T]|u.words[T];return this.strip()},$.prototype.ior=function(u){return q((this.negative|u.negative)===0),this.iuor(u)},$.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},$.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},$.prototype.iuand=function(u){var T;this.length>u.length?T=u:T=this;for(var P=0;P<T.length;P++)this.words[P]=this.words[P]&u.words[P];return this.length=T.length,this.strip()},$.prototype.iand=function(u){return q((this.negative|u.negative)===0),this.iuand(u)},$.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},$.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},$.prototype.iuxor=function(u){var T,P;this.length>u.length?(T=this,P=u):(T=u,P=this);for(var N=0;N<P.length;N++)this.words[N]=T.words[N]^P.words[N];if(this!==T)for(;N<T.length;N++)this.words[N]=T.words[N];return this.length=T.length,this.strip()},$.prototype.ixor=function(u){return q((this.negative|u.negative)===0),this.iuxor(u)},$.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},$.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},$.prototype.inotn=function(u){q(typeof u=="number"&&u>=0);var T=Math.ceil(u/26)|0,P=u%26;this._expand(T),P>0&&T--;for(var N=0;N<T;N++)this.words[N]=~this.words[N]&67108863;return P>0&&(this.words[N]=~this.words[N]&67108863>>26-P),this.strip()},$.prototype.notn=function(u){return this.clone().inotn(u)},$.prototype.setn=function(u,T){q(typeof u=="number"&&u>=0);var P=u/26|0,N=u%26;return this._expand(P+1),T?this.words[P]=this.words[P]|1<<N:this.words[P]=this.words[P]&~(1<<N),this.strip()},$.prototype.iadd=function(u){var T;if(this.negative!==0&&u.negative===0)return this.negative=0,T=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,T=this.isub(u),u.negative=1,T._normSign();var P,N;this.length>u.length?(P=this,N=u):(P=u,N=this);for(var L=0,W=0;W<N.length;W++)T=(P.words[W]|0)+(N.words[W]|0)+L,this.words[W]=T&67108863,L=T>>>26;for(;L!==0&&W<P.length;W++)T=(P.words[W]|0)+L,this.words[W]=T&67108863,L=T>>>26;if(this.length=P.length,L!==0)this.words[this.length]=L,this.length++;else if(P!==this)for(;W<P.length;W++)this.words[W]=P.words[W];return this},$.prototype.add=function(u){var T;return u.negative!==0&&this.negative===0?(u.negative=0,T=this.sub(u),u.negative^=1,T):u.negative===0&&this.negative!==0?(this.negative=0,T=u.sub(this),this.negative=1,T):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},$.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var T=this.iadd(u);return u.negative=1,T._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var P=this.cmp(u);if(P===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,L;P>0?(N=this,L=u):(N=u,L=this);for(var W=0,Z=0;Z<L.length;Z++)T=(N.words[Z]|0)-(L.words[Z]|0)+W,W=T>>26,this.words[Z]=T&67108863;for(;W!==0&&Z<N.length;Z++)T=(N.words[Z]|0)+W,W=T>>26,this.words[Z]=T&67108863;if(W===0&&Z<N.length&&N!==this)for(;Z<N.length;Z++)this.words[Z]=N.words[Z];return this.length=Math.max(this.length,Z),N!==this&&(this.negative=1),this.strip()},$.prototype.sub=function(u){return this.clone().isub(u)};function ee(J,u,T){T.negative=u.negative^J.negative;var P=J.length+u.length|0;T.length=P,P=P-1|0;var N=J.words[0]|0,L=u.words[0]|0,W=N*L,Z=W&67108863,U=W/67108864|0;T.words[0]=Z;for(var M=1;M<P;M++){for(var F=U>>>26,te=U&67108863,ie=Math.min(M,u.length-1),he=Math.max(0,M-J.length+1);he<=ie;he++){var pe=M-he|0;N=J.words[pe]|0,L=u.words[he]|0,W=N*L+te,F+=W/67108864|0,te=W&67108863}T.words[M]=te|0,U=F|0}return U!==0?T.words[M]=U|0:T.length--,T.strip()}var re=function(u,T,P){var N=u.words,L=T.words,W=P.words,Z=0,U,M,F,te=N[0]|0,ie=te&8191,he=te>>>13,pe=N[1]|0,de=pe&8191,oe=pe>>>13,le=N[2]|0,ve=le&8191,Me=le>>>13,ye=N[3]|0,ce=ye&8191,Se=ye>>>13,et=N[4]|0,ke=et&8191,De=et>>>13,ot=N[5]|0,Le=ot&8191,$e=ot>>>13,lt=N[6]|0,Ne=lt&8191,We=lt>>>13,ct=N[7]|0,Ue=ct&8191,Ye=ct>>>13,mt=N[8]|0,Fe=mt&8191,Xe=mt>>>13,_t=N[9]|0,Ve=_t&8191,it=_t>>>13,vt=L[0]|0,He=vt&8191,nt=vt>>>13,yt=L[1]|0,Ke=yt&8191,st=yt>>>13,bt=L[2]|0,Ge=bt&8191,rt=bt>>>13,wt=L[3]|0,je=wt&8191,Qe=wt>>>13,gt=L[4]|0,we=gt&8191,me=gt>>>13,Ee=L[5]|0,xe=Ee&8191,Re=Ee>>>13,Je=L[6]|0,Ce=Je&8191,Ie=Je>>>13,at=L[7]|0,Be=at&8191,Oe=at>>>13,ft=L[8]|0,qe=ft&8191,Ze=ft>>>13,ht=L[9]|0,ze=ht&8191,tt=ht>>>13;P.negative=u.negative^T.negative,P.length=19,U=Math.imul(ie,He),M=Math.imul(ie,nt),M=M+Math.imul(he,He)|0,F=Math.imul(he,nt);var dt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(dt>>>26)|0,dt&=67108863,U=Math.imul(de,He),M=Math.imul(de,nt),M=M+Math.imul(oe,He)|0,F=Math.imul(oe,nt),U=U+Math.imul(ie,Ke)|0,M=M+Math.imul(ie,st)|0,M=M+Math.imul(he,Ke)|0,F=F+Math.imul(he,st)|0;var pt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(pt>>>26)|0,pt&=67108863,U=Math.imul(ve,He),M=Math.imul(ve,nt),M=M+Math.imul(Me,He)|0,F=Math.imul(Me,nt),U=U+Math.imul(de,Ke)|0,M=M+Math.imul(de,st)|0,M=M+Math.imul(oe,Ke)|0,F=F+Math.imul(oe,st)|0,U=U+Math.imul(ie,Ge)|0,M=M+Math.imul(ie,rt)|0,M=M+Math.imul(he,Ge)|0,F=F+Math.imul(he,rt)|0;var xt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(xt>>>26)|0,xt&=67108863,U=Math.imul(ce,He),M=Math.imul(ce,nt),M=M+Math.imul(Se,He)|0,F=Math.imul(Se,nt),U=U+Math.imul(ve,Ke)|0,M=M+Math.imul(ve,st)|0,M=M+Math.imul(Me,Ke)|0,F=F+Math.imul(Me,st)|0,U=U+Math.imul(de,Ge)|0,M=M+Math.imul(de,rt)|0,M=M+Math.imul(oe,Ge)|0,F=F+Math.imul(oe,rt)|0,U=U+Math.imul(ie,je)|0,M=M+Math.imul(ie,Qe)|0,M=M+Math.imul(he,je)|0,F=F+Math.imul(he,Qe)|0;var St=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(St>>>26)|0,St&=67108863,U=Math.imul(ke,He),M=Math.imul(ke,nt),M=M+Math.imul(De,He)|0,F=Math.imul(De,nt),U=U+Math.imul(ce,Ke)|0,M=M+Math.imul(ce,st)|0,M=M+Math.imul(Se,Ke)|0,F=F+Math.imul(Se,st)|0,U=U+Math.imul(ve,Ge)|0,M=M+Math.imul(ve,rt)|0,M=M+Math.imul(Me,Ge)|0,F=F+Math.imul(Me,rt)|0,U=U+Math.imul(de,je)|0,M=M+Math.imul(de,Qe)|0,M=M+Math.imul(oe,je)|0,F=F+Math.imul(oe,Qe)|0,U=U+Math.imul(ie,we)|0,M=M+Math.imul(ie,me)|0,M=M+Math.imul(he,we)|0,F=F+Math.imul(he,me)|0;var Mt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,U=Math.imul(Le,He),M=Math.imul(Le,nt),M=M+Math.imul($e,He)|0,F=Math.imul($e,nt),U=U+Math.imul(ke,Ke)|0,M=M+Math.imul(ke,st)|0,M=M+Math.imul(De,Ke)|0,F=F+Math.imul(De,st)|0,U=U+Math.imul(ce,Ge)|0,M=M+Math.imul(ce,rt)|0,M=M+Math.imul(Se,Ge)|0,F=F+Math.imul(Se,rt)|0,U=U+Math.imul(ve,je)|0,M=M+Math.imul(ve,Qe)|0,M=M+Math.imul(Me,je)|0,F=F+Math.imul(Me,Qe)|0,U=U+Math.imul(de,we)|0,M=M+Math.imul(de,me)|0,M=M+Math.imul(oe,we)|0,F=F+Math.imul(oe,me)|0,U=U+Math.imul(ie,xe)|0,M=M+Math.imul(ie,Re)|0,M=M+Math.imul(he,xe)|0,F=F+Math.imul(he,Re)|0;var Et=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Et>>>26)|0,Et&=67108863,U=Math.imul(Ne,He),M=Math.imul(Ne,nt),M=M+Math.imul(We,He)|0,F=Math.imul(We,nt),U=U+Math.imul(Le,Ke)|0,M=M+Math.imul(Le,st)|0,M=M+Math.imul($e,Ke)|0,F=F+Math.imul($e,st)|0,U=U+Math.imul(ke,Ge)|0,M=M+Math.imul(ke,rt)|0,M=M+Math.imul(De,Ge)|0,F=F+Math.imul(De,rt)|0,U=U+Math.imul(ce,je)|0,M=M+Math.imul(ce,Qe)|0,M=M+Math.imul(Se,je)|0,F=F+Math.imul(Se,Qe)|0,U=U+Math.imul(ve,we)|0,M=M+Math.imul(ve,me)|0,M=M+Math.imul(Me,we)|0,F=F+Math.imul(Me,me)|0,U=U+Math.imul(de,xe)|0,M=M+Math.imul(de,Re)|0,M=M+Math.imul(oe,xe)|0,F=F+Math.imul(oe,Re)|0,U=U+Math.imul(ie,Ce)|0,M=M+Math.imul(ie,Ie)|0,M=M+Math.imul(he,Ce)|0,F=F+Math.imul(he,Ie)|0;var At=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(At>>>26)|0,At&=67108863,U=Math.imul(Ue,He),M=Math.imul(Ue,nt),M=M+Math.imul(Ye,He)|0,F=Math.imul(Ye,nt),U=U+Math.imul(Ne,Ke)|0,M=M+Math.imul(Ne,st)|0,M=M+Math.imul(We,Ke)|0,F=F+Math.imul(We,st)|0,U=U+Math.imul(Le,Ge)|0,M=M+Math.imul(Le,rt)|0,M=M+Math.imul($e,Ge)|0,F=F+Math.imul($e,rt)|0,U=U+Math.imul(ke,je)|0,M=M+Math.imul(ke,Qe)|0,M=M+Math.imul(De,je)|0,F=F+Math.imul(De,Qe)|0,U=U+Math.imul(ce,we)|0,M=M+Math.imul(ce,me)|0,M=M+Math.imul(Se,we)|0,F=F+Math.imul(Se,me)|0,U=U+Math.imul(ve,xe)|0,M=M+Math.imul(ve,Re)|0,M=M+Math.imul(Me,xe)|0,F=F+Math.imul(Me,Re)|0,U=U+Math.imul(de,Ce)|0,M=M+Math.imul(de,Ie)|0,M=M+Math.imul(oe,Ce)|0,F=F+Math.imul(oe,Ie)|0,U=U+Math.imul(ie,Be)|0,M=M+Math.imul(ie,Oe)|0,M=M+Math.imul(he,Be)|0,F=F+Math.imul(he,Oe)|0;var Rt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,U=Math.imul(Fe,He),M=Math.imul(Fe,nt),M=M+Math.imul(Xe,He)|0,F=Math.imul(Xe,nt),U=U+Math.imul(Ue,Ke)|0,M=M+Math.imul(Ue,st)|0,M=M+Math.imul(Ye,Ke)|0,F=F+Math.imul(Ye,st)|0,U=U+Math.imul(Ne,Ge)|0,M=M+Math.imul(Ne,rt)|0,M=M+Math.imul(We,Ge)|0,F=F+Math.imul(We,rt)|0,U=U+Math.imul(Le,je)|0,M=M+Math.imul(Le,Qe)|0,M=M+Math.imul($e,je)|0,F=F+Math.imul($e,Qe)|0,U=U+Math.imul(ke,we)|0,M=M+Math.imul(ke,me)|0,M=M+Math.imul(De,we)|0,F=F+Math.imul(De,me)|0,U=U+Math.imul(ce,xe)|0,M=M+Math.imul(ce,Re)|0,M=M+Math.imul(Se,xe)|0,F=F+Math.imul(Se,Re)|0,U=U+Math.imul(ve,Ce)|0,M=M+Math.imul(ve,Ie)|0,M=M+Math.imul(Me,Ce)|0,F=F+Math.imul(Me,Ie)|0,U=U+Math.imul(de,Be)|0,M=M+Math.imul(de,Oe)|0,M=M+Math.imul(oe,Be)|0,F=F+Math.imul(oe,Oe)|0,U=U+Math.imul(ie,qe)|0,M=M+Math.imul(ie,Ze)|0,M=M+Math.imul(he,qe)|0,F=F+Math.imul(he,Ze)|0;var Tt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,U=Math.imul(Ve,He),M=Math.imul(Ve,nt),M=M+Math.imul(it,He)|0,F=Math.imul(it,nt),U=U+Math.imul(Fe,Ke)|0,M=M+Math.imul(Fe,st)|0,M=M+Math.imul(Xe,Ke)|0,F=F+Math.imul(Xe,st)|0,U=U+Math.imul(Ue,Ge)|0,M=M+Math.imul(Ue,rt)|0,M=M+Math.imul(Ye,Ge)|0,F=F+Math.imul(Ye,rt)|0,U=U+Math.imul(Ne,je)|0,M=M+Math.imul(Ne,Qe)|0,M=M+Math.imul(We,je)|0,F=F+Math.imul(We,Qe)|0,U=U+Math.imul(Le,we)|0,M=M+Math.imul(Le,me)|0,M=M+Math.imul($e,we)|0,F=F+Math.imul($e,me)|0,U=U+Math.imul(ke,xe)|0,M=M+Math.imul(ke,Re)|0,M=M+Math.imul(De,xe)|0,F=F+Math.imul(De,Re)|0,U=U+Math.imul(ce,Ce)|0,M=M+Math.imul(ce,Ie)|0,M=M+Math.imul(Se,Ce)|0,F=F+Math.imul(Se,Ie)|0,U=U+Math.imul(ve,Be)|0,M=M+Math.imul(ve,Oe)|0,M=M+Math.imul(Me,Be)|0,F=F+Math.imul(Me,Oe)|0,U=U+Math.imul(de,qe)|0,M=M+Math.imul(de,Ze)|0,M=M+Math.imul(oe,qe)|0,F=F+Math.imul(oe,Ze)|0,U=U+Math.imul(ie,ze)|0,M=M+Math.imul(ie,tt)|0,M=M+Math.imul(he,ze)|0,F=F+Math.imul(he,tt)|0;var $t=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+($t>>>26)|0,$t&=67108863,U=Math.imul(Ve,Ke),M=Math.imul(Ve,st),M=M+Math.imul(it,Ke)|0,F=Math.imul(it,st),U=U+Math.imul(Fe,Ge)|0,M=M+Math.imul(Fe,rt)|0,M=M+Math.imul(Xe,Ge)|0,F=F+Math.imul(Xe,rt)|0,U=U+Math.imul(Ue,je)|0,M=M+Math.imul(Ue,Qe)|0,M=M+Math.imul(Ye,je)|0,F=F+Math.imul(Ye,Qe)|0,U=U+Math.imul(Ne,we)|0,M=M+Math.imul(Ne,me)|0,M=M+Math.imul(We,we)|0,F=F+Math.imul(We,me)|0,U=U+Math.imul(Le,xe)|0,M=M+Math.imul(Le,Re)|0,M=M+Math.imul($e,xe)|0,F=F+Math.imul($e,Re)|0,U=U+Math.imul(ke,Ce)|0,M=M+Math.imul(ke,Ie)|0,M=M+Math.imul(De,Ce)|0,F=F+Math.imul(De,Ie)|0,U=U+Math.imul(ce,Be)|0,M=M+Math.imul(ce,Oe)|0,M=M+Math.imul(Se,Be)|0,F=F+Math.imul(Se,Oe)|0,U=U+Math.imul(ve,qe)|0,M=M+Math.imul(ve,Ze)|0,M=M+Math.imul(Me,qe)|0,F=F+Math.imul(Me,Ze)|0,U=U+Math.imul(de,ze)|0,M=M+Math.imul(de,tt)|0,M=M+Math.imul(oe,ze)|0,F=F+Math.imul(oe,tt)|0;var Ct=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,U=Math.imul(Ve,Ge),M=Math.imul(Ve,rt),M=M+Math.imul(it,Ge)|0,F=Math.imul(it,rt),U=U+Math.imul(Fe,je)|0,M=M+Math.imul(Fe,Qe)|0,M=M+Math.imul(Xe,je)|0,F=F+Math.imul(Xe,Qe)|0,U=U+Math.imul(Ue,we)|0,M=M+Math.imul(Ue,me)|0,M=M+Math.imul(Ye,we)|0,F=F+Math.imul(Ye,me)|0,U=U+Math.imul(Ne,xe)|0,M=M+Math.imul(Ne,Re)|0,M=M+Math.imul(We,xe)|0,F=F+Math.imul(We,Re)|0,U=U+Math.imul(Le,Ce)|0,M=M+Math.imul(Le,Ie)|0,M=M+Math.imul($e,Ce)|0,F=F+Math.imul($e,Ie)|0,U=U+Math.imul(ke,Be)|0,M=M+Math.imul(ke,Oe)|0,M=M+Math.imul(De,Be)|0,F=F+Math.imul(De,Oe)|0,U=U+Math.imul(ce,qe)|0,M=M+Math.imul(ce,Ze)|0,M=M+Math.imul(Se,qe)|0,F=F+Math.imul(Se,Ze)|0,U=U+Math.imul(ve,ze)|0,M=M+Math.imul(ve,tt)|0,M=M+Math.imul(Me,ze)|0,F=F+Math.imul(Me,tt)|0;var It=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(It>>>26)|0,It&=67108863,U=Math.imul(Ve,je),M=Math.imul(Ve,Qe),M=M+Math.imul(it,je)|0,F=Math.imul(it,Qe),U=U+Math.imul(Fe,we)|0,M=M+Math.imul(Fe,me)|0,M=M+Math.imul(Xe,we)|0,F=F+Math.imul(Xe,me)|0,U=U+Math.imul(Ue,xe)|0,M=M+Math.imul(Ue,Re)|0,M=M+Math.imul(Ye,xe)|0,F=F+Math.imul(Ye,Re)|0,U=U+Math.imul(Ne,Ce)|0,M=M+Math.imul(Ne,Ie)|0,M=M+Math.imul(We,Ce)|0,F=F+Math.imul(We,Ie)|0,U=U+Math.imul(Le,Be)|0,M=M+Math.imul(Le,Oe)|0,M=M+Math.imul($e,Be)|0,F=F+Math.imul($e,Oe)|0,U=U+Math.imul(ke,qe)|0,M=M+Math.imul(ke,Ze)|0,M=M+Math.imul(De,qe)|0,F=F+Math.imul(De,Ze)|0,U=U+Math.imul(ce,ze)|0,M=M+Math.imul(ce,tt)|0,M=M+Math.imul(Se,ze)|0,F=F+Math.imul(Se,tt)|0;var Bt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,U=Math.imul(Ve,we),M=Math.imul(Ve,me),M=M+Math.imul(it,we)|0,F=Math.imul(it,me),U=U+Math.imul(Fe,xe)|0,M=M+Math.imul(Fe,Re)|0,M=M+Math.imul(Xe,xe)|0,F=F+Math.imul(Xe,Re)|0,U=U+Math.imul(Ue,Ce)|0,M=M+Math.imul(Ue,Ie)|0,M=M+Math.imul(Ye,Ce)|0,F=F+Math.imul(Ye,Ie)|0,U=U+Math.imul(Ne,Be)|0,M=M+Math.imul(Ne,Oe)|0,M=M+Math.imul(We,Be)|0,F=F+Math.imul(We,Oe)|0,U=U+Math.imul(Le,qe)|0,M=M+Math.imul(Le,Ze)|0,M=M+Math.imul($e,qe)|0,F=F+Math.imul($e,Ze)|0,U=U+Math.imul(ke,ze)|0,M=M+Math.imul(ke,tt)|0,M=M+Math.imul(De,ze)|0,F=F+Math.imul(De,tt)|0;var kt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(kt>>>26)|0,kt&=67108863,U=Math.imul(Ve,xe),M=Math.imul(Ve,Re),M=M+Math.imul(it,xe)|0,F=Math.imul(it,Re),U=U+Math.imul(Fe,Ce)|0,M=M+Math.imul(Fe,Ie)|0,M=M+Math.imul(Xe,Ce)|0,F=F+Math.imul(Xe,Ie)|0,U=U+Math.imul(Ue,Be)|0,M=M+Math.imul(Ue,Oe)|0,M=M+Math.imul(Ye,Be)|0,F=F+Math.imul(Ye,Oe)|0,U=U+Math.imul(Ne,qe)|0,M=M+Math.imul(Ne,Ze)|0,M=M+Math.imul(We,qe)|0,F=F+Math.imul(We,Ze)|0,U=U+Math.imul(Le,ze)|0,M=M+Math.imul(Le,tt)|0,M=M+Math.imul($e,ze)|0,F=F+Math.imul($e,tt)|0;var Dt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,U=Math.imul(Ve,Ce),M=Math.imul(Ve,Ie),M=M+Math.imul(it,Ce)|0,F=Math.imul(it,Ie),U=U+Math.imul(Fe,Be)|0,M=M+Math.imul(Fe,Oe)|0,M=M+Math.imul(Xe,Be)|0,F=F+Math.imul(Xe,Oe)|0,U=U+Math.imul(Ue,qe)|0,M=M+Math.imul(Ue,Ze)|0,M=M+Math.imul(Ye,qe)|0,F=F+Math.imul(Ye,Ze)|0,U=U+Math.imul(Ne,ze)|0,M=M+Math.imul(Ne,tt)|0,M=M+Math.imul(We,ze)|0,F=F+Math.imul(We,tt)|0;var qt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(qt>>>26)|0,qt&=67108863,U=Math.imul(Ve,Be),M=Math.imul(Ve,Oe),M=M+Math.imul(it,Be)|0,F=Math.imul(it,Oe),U=U+Math.imul(Fe,qe)|0,M=M+Math.imul(Fe,Ze)|0,M=M+Math.imul(Xe,qe)|0,F=F+Math.imul(Xe,Ze)|0,U=U+Math.imul(Ue,ze)|0,M=M+Math.imul(Ue,tt)|0,M=M+Math.imul(Ye,ze)|0,F=F+Math.imul(Ye,tt)|0;var Pt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,U=Math.imul(Ve,qe),M=Math.imul(Ve,Ze),M=M+Math.imul(it,qe)|0,F=Math.imul(it,Ze),U=U+Math.imul(Fe,ze)|0,M=M+Math.imul(Fe,tt)|0,M=M+Math.imul(Xe,ze)|0,F=F+Math.imul(Xe,tt)|0;var Nt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,U=Math.imul(Ve,ze),M=Math.imul(Ve,tt),M=M+Math.imul(it,ze)|0,F=Math.imul(it,tt);var Ot=(Z+U|0)+((M&8191)<<13)|0;return Z=(F+(M>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,W[0]=dt,W[1]=pt,W[2]=xt,W[3]=St,W[4]=Mt,W[5]=Et,W[6]=At,W[7]=Rt,W[8]=Tt,W[9]=$t,W[10]=Ct,W[11]=It,W[12]=Bt,W[13]=kt,W[14]=Dt,W[15]=qt,W[16]=Pt,W[17]=Nt,W[18]=Ot,Z!==0&&(W[19]=Z,P.length++),P};Math.imul||(re=ee);function ne(J,u,T){T.negative=u.negative^J.negative,T.length=J.length+u.length;for(var P=0,N=0,L=0;L<T.length-1;L++){var W=N;N=0;for(var Z=P&67108863,U=Math.min(L,u.length-1),M=Math.max(0,L-J.length+1);M<=U;M++){var F=L-M,te=J.words[F]|0,ie=u.words[M]|0,he=te*ie,pe=he&67108863;W=W+(he/67108864|0)|0,pe=pe+Z|0,Z=pe&67108863,W=W+(pe>>>26)|0,N+=W>>>26,W&=67108863}T.words[L]=Z,P=W,W=N}return P!==0?T.words[L]=P:T.length--,T.strip()}function se(J,u,T){var P=new ae;return P.mulp(J,u,T)}$.prototype.mulTo=function(u,T){var P,N=this.length+u.length;return this.length===10&&u.length===10?P=re(this,u,T):N<63?P=ee(this,u,T):N<1024?P=ne(this,u,T):P=se(this,u,T),P};function ae(J,u){this.x=J,this.y=u}ae.prototype.makeRBT=function(u){for(var T=new Array(u),P=$.prototype._countBits(u)-1,N=0;N<u;N++)T[N]=this.revBin(N,P,u);return T},ae.prototype.revBin=function(u,T,P){if(u===0||u===P-1)return u;for(var N=0,L=0;L<T;L++)N|=(u&1)<<T-L-1,u>>=1;return N},ae.prototype.permute=function(u,T,P,N,L,W){for(var Z=0;Z<W;Z++)N[Z]=T[u[Z]],L[Z]=P[u[Z]]},ae.prototype.transform=function(u,T,P,N,L,W){this.permute(W,u,T,P,N,L);for(var Z=1;Z<L;Z<<=1)for(var U=Z<<1,M=Math.cos(2*Math.PI/U),F=Math.sin(2*Math.PI/U),te=0;te<L;te+=U)for(var ie=M,he=F,pe=0;pe<Z;pe++){var de=P[te+pe],oe=N[te+pe],le=P[te+pe+Z],ve=N[te+pe+Z],Me=ie*le-he*ve;ve=ie*ve+he*le,le=Me,P[te+pe]=de+le,N[te+pe]=oe+ve,P[te+pe+Z]=de-le,N[te+pe+Z]=oe-ve,pe!==U&&(Me=M*ie-F*he,he=M*he+F*ie,ie=Me)}},ae.prototype.guessLen13b=function(u,T){var P=Math.max(T,u)|1,N=P&1,L=0;for(P=P/2|0;P;P=P>>>1)L++;return 1<<L+1+N},ae.prototype.conjugate=function(u,T,P){if(!(P<=1))for(var N=0;N<P/2;N++){var L=u[N];u[N]=u[P-N-1],u[P-N-1]=L,L=T[N],T[N]=-T[P-N-1],T[P-N-1]=-L}},ae.prototype.normalize13b=function(u,T){for(var P=0,N=0;N<T/2;N++){var L=Math.round(u[2*N+1]/T)*8192+Math.round(u[2*N]/T)+P;u[N]=L&67108863,L<67108864?P=0:P=L/67108864|0}return u},ae.prototype.convert13b=function(u,T,P,N){for(var L=0,W=0;W<T;W++)L=L+(u[W]|0),P[2*W]=L&8191,L=L>>>13,P[2*W+1]=L&8191,L=L>>>13;for(W=2*T;W<N;++W)P[W]=0;q(L===0),q((L&-8192)===0)},ae.prototype.stub=function(u){for(var T=new Array(u),P=0;P<u;P++)T[P]=0;return T},ae.prototype.mulp=function(u,T,P){var N=2*this.guessLen13b(u.length,T.length),L=this.makeRBT(N),W=this.stub(N),Z=new Array(N),U=new Array(N),M=new Array(N),F=new Array(N),te=new Array(N),ie=new Array(N),he=P.words;he.length=N,this.convert13b(u.words,u.length,Z,N),this.convert13b(T.words,T.length,F,N),this.transform(Z,W,U,M,N,L),this.transform(F,W,te,ie,N,L);for(var pe=0;pe<N;pe++){var de=U[pe]*te[pe]-M[pe]*ie[pe];M[pe]=U[pe]*ie[pe]+M[pe]*te[pe],U[pe]=de}return this.conjugate(U,M,N),this.transform(U,M,he,W,N,L),this.conjugate(he,W,N),this.normalize13b(he,N),P.negative=u.negative^T.negative,P.length=u.length+T.length,P.strip()},$.prototype.mul=function(u){var T=new $(null);return T.words=new Array(this.length+u.length),this.mulTo(u,T)},$.prototype.mulf=function(u){var T=new $(null);return T.words=new Array(this.length+u.length),se(this,u,T)},$.prototype.imul=function(u){return this.clone().mulTo(u,this)},$.prototype.imuln=function(u){q(typeof u=="number"),q(u<67108864);for(var T=0,P=0;P<this.length;P++){var N=(this.words[P]|0)*u,L=(N&67108863)+(T&67108863);T>>=26,T+=N/67108864|0,T+=L>>>26,this.words[P]=L&67108863}return T!==0&&(this.words[P]=T,this.length++),this},$.prototype.muln=function(u){return this.clone().imuln(u)},$.prototype.sqr=function(){return this.mul(this)},$.prototype.isqr=function(){return this.imul(this.clone())},$.prototype.pow=function(u){var T=Q(u);if(T.length===0)return new $(1);for(var P=this,N=0;N<T.length&&T[N]===0;N++,P=P.sqr());if(++N<T.length)for(var L=P.sqr();N<T.length;N++,L=L.sqr())T[N]!==0&&(P=P.mul(L));return P},$.prototype.iushln=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26,N=67108863>>>26-T<<26-T,L;if(T!==0){var W=0;for(L=0;L<this.length;L++){var Z=this.words[L]&N,U=(this.words[L]|0)-Z<<T;this.words[L]=U|W,W=Z>>>26-T}W&&(this.words[L]=W,this.length++)}if(P!==0){for(L=this.length-1;L>=0;L--)this.words[L+P]=this.words[L];for(L=0;L<P;L++)this.words[L]=0;this.length+=P}return this.strip()},$.prototype.ishln=function(u){return q(this.negative===0),this.iushln(u)},$.prototype.iushrn=function(u,T,P){q(typeof u=="number"&&u>=0);var N;T?N=(T-T%26)/26:N=0;var L=u%26,W=Math.min((u-L)/26,this.length),Z=67108863^67108863>>>L<<L,U=P;if(N-=W,N=Math.max(0,N),U){for(var M=0;M<W;M++)U.words[M]=this.words[M];U.length=W}if(W!==0)if(this.length>W)for(this.length-=W,M=0;M<this.length;M++)this.words[M]=this.words[M+W];else this.words[0]=0,this.length=1;var F=0;for(M=this.length-1;M>=0&&(F!==0||M>=N);M--){var te=this.words[M]|0;this.words[M]=F<<26-L|te>>>L,F=te&Z}return U&&F!==0&&(U.words[U.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},$.prototype.ishrn=function(u,T,P){return q(this.negative===0),this.iushrn(u,T,P)},$.prototype.shln=function(u){return this.clone().ishln(u)},$.prototype.ushln=function(u){return this.clone().iushln(u)},$.prototype.shrn=function(u){return this.clone().ishrn(u)},$.prototype.ushrn=function(u){return this.clone().iushrn(u)},$.prototype.testn=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26,N=1<<T;if(this.length<=P)return!1;var L=this.words[P];return!!(L&N)},$.prototype.imaskn=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26;if(q(this.negative===0,"imaskn works only with positive numbers"),this.length<=P)return this;if(T!==0&&P++,this.length=Math.min(P,this.length),T!==0){var N=67108863^67108863>>>T<<T;this.words[this.length-1]&=N}return this.strip()},$.prototype.maskn=function(u){return this.clone().imaskn(u)},$.prototype.iaddn=function(u){return q(typeof u=="number"),q(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},$.prototype._iaddn=function(u){this.words[0]+=u;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},$.prototype.isubn=function(u){if(q(typeof u=="number"),q(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this.strip()},$.prototype.addn=function(u){return this.clone().iaddn(u)},$.prototype.subn=function(u){return this.clone().isubn(u)},$.prototype.iabs=function(){return this.negative=0,this},$.prototype.abs=function(){return this.clone().iabs()},$.prototype._ishlnsubmul=function(u,T,P){var N=u.length+P,L;this._expand(N);var W,Z=0;for(L=0;L<u.length;L++){W=(this.words[L+P]|0)+Z;var U=(u.words[L]|0)*T;W-=U&67108863,Z=(W>>26)-(U/67108864|0),this.words[L+P]=W&67108863}for(;L<this.length-P;L++)W=(this.words[L+P]|0)+Z,Z=W>>26,this.words[L+P]=W&67108863;if(Z===0)return this.strip();for(q(Z===-1),Z=0,L=0;L<this.length;L++)W=-(this.words[L]|0)+Z,Z=W>>26,this.words[L]=W&67108863;return this.negative=1,this.strip()},$.prototype._wordDiv=function(u,T){var P=this.length-u.length,N=this.clone(),L=u,W=L.words[L.length-1]|0,Z=this._countBits(W);P=26-Z,P!==0&&(L=L.ushln(P),N.iushln(P),W=L.words[L.length-1]|0);var U=N.length-L.length,M;if(T!=="mod"){M=new $(null),M.length=U+1,M.words=new Array(M.length);for(var F=0;F<M.length;F++)M.words[F]=0}var te=N.clone()._ishlnsubmul(L,1,U);te.negative===0&&(N=te,M&&(M.words[U]=1));for(var ie=U-1;ie>=0;ie--){var he=(N.words[L.length+ie]|0)*67108864+(N.words[L.length+ie-1]|0);for(he=Math.min(he/W|0,67108863),N._ishlnsubmul(L,he,ie);N.negative!==0;)he--,N.negative=0,N._ishlnsubmul(L,1,ie),N.isZero()||(N.negative^=1);M&&(M.words[ie]=he)}return M&&M.strip(),N.strip(),T!=="div"&&P!==0&&N.iushrn(P),{div:M||null,mod:N}},$.prototype.divmod=function(u,T,P){if(q(!u.isZero()),this.isZero())return{div:new $(0),mod:new $(0)};var N,L,W;return this.negative!==0&&u.negative===0?(W=this.neg().divmod(u,T),T!=="mod"&&(N=W.div.neg()),T!=="div"&&(L=W.mod.neg(),P&&L.negative!==0&&L.iadd(u)),{div:N,mod:L}):this.negative===0&&u.negative!==0?(W=this.divmod(u.neg(),T),T!=="mod"&&(N=W.div.neg()),{div:N,mod:W.mod}):this.negative&u.negative?(W=this.neg().divmod(u.neg(),T),T!=="div"&&(L=W.mod.neg(),P&&L.negative!==0&&L.isub(u)),{div:W.div,mod:L}):u.length>this.length||this.cmp(u)<0?{div:new $(0),mod:this}:u.length===1?T==="div"?{div:this.divn(u.words[0]),mod:null}:T==="mod"?{div:null,mod:new $(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new $(this.modn(u.words[0]))}:this._wordDiv(u,T)},$.prototype.div=function(u){return this.divmod(u,"div",!1).div},$.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},$.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},$.prototype.divRound=function(u){var T=this.divmod(u);if(T.mod.isZero())return T.div;var P=T.div.negative!==0?T.mod.isub(u):T.mod,N=u.ushrn(1),L=u.andln(1),W=P.cmp(N);return W<0||L===1&&W===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},$.prototype.modn=function(u){q(u<=67108863);for(var T=(1<<26)%u,P=0,N=this.length-1;N>=0;N--)P=(T*P+(this.words[N]|0))%u;return P},$.prototype.idivn=function(u){q(u<=67108863);for(var T=0,P=this.length-1;P>=0;P--){var N=(this.words[P]|0)+T*67108864;this.words[P]=N/u|0,T=N%u}return this.strip()},$.prototype.divn=function(u){return this.clone().idivn(u)},$.prototype.egcd=function(u){q(u.negative===0),q(!u.isZero());var T=this,P=u.clone();T.negative!==0?T=T.umod(u):T=T.clone();for(var N=new $(1),L=new $(0),W=new $(0),Z=new $(1),U=0;T.isEven()&&P.isEven();)T.iushrn(1),P.iushrn(1),++U;for(var M=P.clone(),F=T.clone();!T.isZero();){for(var te=0,ie=1;!(T.words[0]&ie)&&te<26;++te,ie<<=1);if(te>0)for(T.iushrn(te);te-- >0;)(N.isOdd()||L.isOdd())&&(N.iadd(M),L.isub(F)),N.iushrn(1),L.iushrn(1);for(var he=0,pe=1;!(P.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(P.iushrn(he);he-- >0;)(W.isOdd()||Z.isOdd())&&(W.iadd(M),Z.isub(F)),W.iushrn(1),Z.iushrn(1);T.cmp(P)>=0?(T.isub(P),N.isub(W),L.isub(Z)):(P.isub(T),W.isub(N),Z.isub(L))}return{a:W,b:Z,gcd:P.iushln(U)}},$.prototype._invmp=function(u){q(u.negative===0),q(!u.isZero());var T=this,P=u.clone();T.negative!==0?T=T.umod(u):T=T.clone();for(var N=new $(1),L=new $(0),W=P.clone();T.cmpn(1)>0&&P.cmpn(1)>0;){for(var Z=0,U=1;!(T.words[0]&U)&&Z<26;++Z,U<<=1);if(Z>0)for(T.iushrn(Z);Z-- >0;)N.isOdd()&&N.iadd(W),N.iushrn(1);for(var M=0,F=1;!(P.words[0]&F)&&M<26;++M,F<<=1);if(M>0)for(P.iushrn(M);M-- >0;)L.isOdd()&&L.iadd(W),L.iushrn(1);T.cmp(P)>=0?(T.isub(P),N.isub(L)):(P.isub(T),L.isub(N))}var te;return T.cmpn(1)===0?te=N:te=L,te.cmpn(0)<0&&te.iadd(u),te},$.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var T=this.clone(),P=u.clone();T.negative=0,P.negative=0;for(var N=0;T.isEven()&&P.isEven();N++)T.iushrn(1),P.iushrn(1);do{for(;T.isEven();)T.iushrn(1);for(;P.isEven();)P.iushrn(1);var L=T.cmp(P);if(L<0){var W=T;T=P,P=W}else if(L===0||P.cmpn(1)===0)break;T.isub(P)}while(!0);return P.iushln(N)},$.prototype.invm=function(u){return this.egcd(u).a.umod(u)},$.prototype.isEven=function(){return(this.words[0]&1)===0},$.prototype.isOdd=function(){return(this.words[0]&1)===1},$.prototype.andln=function(u){return this.words[0]&u},$.prototype.bincn=function(u){q(typeof u=="number");var T=u%26,P=(u-T)/26,N=1<<T;if(this.length<=P)return this._expand(P+1),this.words[P]|=N,this;for(var L=N,W=P;L!==0&&W<this.length;W++){var Z=this.words[W]|0;Z+=L,L=Z>>>26,Z&=67108863,this.words[W]=Z}return L!==0&&(this.words[W]=L,this.length++),this},$.prototype.isZero=function(){return this.length===1&&this.words[0]===0},$.prototype.cmpn=function(u){var T=u<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;this.strip();var P;if(this.length>1)P=1;else{T&&(u=-u),q(u<=67108863,"Number is too big");var N=this.words[0]|0;P=N===u?0:N<u?-1:1}return this.negative!==0?-P|0:P},$.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var T=this.ucmp(u);return this.negative!==0?-T|0:T},$.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var T=0,P=this.length-1;P>=0;P--){var N=this.words[P]|0,L=u.words[P]|0;if(N!==L){N<L?T=-1:N>L&&(T=1);break}}return T},$.prototype.gtn=function(u){return this.cmpn(u)===1},$.prototype.gt=function(u){return this.cmp(u)===1},$.prototype.gten=function(u){return this.cmpn(u)>=0},$.prototype.gte=function(u){return this.cmp(u)>=0},$.prototype.ltn=function(u){return this.cmpn(u)===-1},$.prototype.lt=function(u){return this.cmp(u)===-1},$.prototype.lten=function(u){return this.cmpn(u)<=0},$.prototype.lte=function(u){return this.cmp(u)<=0},$.prototype.eqn=function(u){return this.cmpn(u)===0},$.prototype.eq=function(u){return this.cmp(u)===0},$.red=function(u){return new be(u)},$.prototype.toRed=function(u){return q(!this.red,"Already a number in reduction context"),q(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},$.prototype.fromRed=function(){return q(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},$.prototype._forceRed=function(u){return this.red=u,this},$.prototype.forceRed=function(u){return q(!this.red,"Already a number in reduction context"),this._forceRed(u)},$.prototype.redAdd=function(u){return q(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},$.prototype.redIAdd=function(u){return q(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},$.prototype.redSub=function(u){return q(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},$.prototype.redISub=function(u){return q(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},$.prototype.redShl=function(u){return q(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},$.prototype.redMul=function(u){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},$.prototype.redIMul=function(u){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},$.prototype.redSqr=function(){return q(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},$.prototype.redISqr=function(){return q(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},$.prototype.redSqrt=function(){return q(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},$.prototype.redInvm=function(){return q(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},$.prototype.redNeg=function(){return q(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},$.prototype.redPow=function(u){return q(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var fe={k256:null,p224:null,p192:null,p25519:null};function ue(J,u){this.name=J,this.p=new $(u,16),this.n=this.p.bitLength(),this.k=new $(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ue.prototype._tmp=function(){var u=new $(null);return u.words=new Array(Math.ceil(this.n/13)),u},ue.prototype.ireduce=function(u){var T=u,P;do this.split(T,this.tmp),T=this.imulK(T),T=T.iadd(this.tmp),P=T.bitLength();while(P>this.n);var N=P<this.n?-1:T.ucmp(this.p);return N===0?(T.words[0]=0,T.length=1):N>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},ue.prototype.split=function(u,T){u.iushrn(this.n,0,T)},ue.prototype.imulK=function(u){return u.imul(this.k)};function _e(){ue.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(_e,ue),_e.prototype.split=function(u,T){for(var P=4194303,N=Math.min(u.length,9),L=0;L<N;L++)T.words[L]=u.words[L];if(T.length=N,u.length<=9){u.words[0]=0,u.length=1;return}var W=u.words[9];for(T.words[T.length++]=W&P,L=10;L<u.length;L++){var Z=u.words[L]|0;u.words[L-10]=(Z&P)<<4|W>>>22,W=Z}W>>>=22,u.words[L-10]=W,W===0&&u.length>10?u.length-=10:u.length-=9},_e.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var T=0,P=0;P<u.length;P++){var N=u.words[P]|0;T+=N*977,u.words[P]=T&67108863,T=N*64+(T/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function ge(){ue.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(ge,ue);function Ae(){ue.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(Ae,ue);function Te(){ue.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(Te,ue),Te.prototype.imulK=function(u){for(var T=0,P=0;P<u.length;P++){var N=(u.words[P]|0)*19+T,L=N&67108863;N>>>=26,u.words[P]=L,T=N}return T!==0&&(u.words[u.length++]=T),u},$._prime=function(u){if(fe[u])return fe[u];var T;if(u==="k256")T=new _e;else if(u==="p224")T=new ge;else if(u==="p192")T=new Ae;else if(u==="p25519")T=new Te;else throw new Error("Unknown prime "+u);return fe[u]=T,T};function be(J){if(typeof J=="string"){var u=$._prime(J);this.m=u.p,this.prime=u}else q(J.gtn(1),"modulus must be greater than 1"),this.m=J,this.prime=null}be.prototype._verify1=function(u){q(u.negative===0,"red works only with positives"),q(u.red,"red works only with red numbers")},be.prototype._verify2=function(u,T){q((u.negative|T.negative)===0,"red works only with positives"),q(u.red&&u.red===T.red,"red works only with red numbers")},be.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},be.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},be.prototype.add=function(u,T){this._verify2(u,T);var P=u.add(T);return P.cmp(this.m)>=0&&P.isub(this.m),P._forceRed(this)},be.prototype.iadd=function(u,T){this._verify2(u,T);var P=u.iadd(T);return P.cmp(this.m)>=0&&P.isub(this.m),P},be.prototype.sub=function(u,T){this._verify2(u,T);var P=u.sub(T);return P.cmpn(0)<0&&P.iadd(this.m),P._forceRed(this)},be.prototype.isub=function(u,T){this._verify2(u,T);var P=u.isub(T);return P.cmpn(0)<0&&P.iadd(this.m),P},be.prototype.shl=function(u,T){return this._verify1(u),this.imod(u.ushln(T))},be.prototype.imul=function(u,T){return this._verify2(u,T),this.imod(u.imul(T))},be.prototype.mul=function(u,T){return this._verify2(u,T),this.imod(u.mul(T))},be.prototype.isqr=function(u){return this.imul(u,u.clone())},be.prototype.sqr=function(u){return this.mul(u,u)},be.prototype.sqrt=function(u){if(u.isZero())return u.clone();var T=this.m.andln(3);if(q(T%2===1),T===3){var P=this.m.add(new $(1)).iushrn(2);return this.pow(u,P)}for(var N=this.m.subn(1),L=0;!N.isZero()&&N.andln(1)===0;)L++,N.iushrn(1);q(!N.isZero());var W=new $(1).toRed(this),Z=W.redNeg(),U=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new $(2*M*M).toRed(this);this.pow(M,U).cmp(Z)!==0;)M.redIAdd(Z);for(var F=this.pow(M,N),te=this.pow(u,N.addn(1).iushrn(1)),ie=this.pow(u,N),he=L;ie.cmp(W)!==0;){for(var pe=ie,de=0;pe.cmp(W)!==0;de++)pe=pe.redSqr();q(de<he);var oe=this.pow(F,new $(1).iushln(he-de-1));te=te.redMul(oe),F=oe.redSqr(),ie=ie.redMul(F),he=de}return te},be.prototype.invm=function(u){var T=u._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},be.prototype.pow=function(u,T){if(T.isZero())return new $(1).toRed(this);if(T.cmpn(1)===0)return u.clone();var P=4,N=new Array(1<<P);N[0]=new $(1).toRed(this),N[1]=u;for(var L=2;L<N.length;L++)N[L]=this.mul(N[L-1],u);var W=N[0],Z=0,U=0,M=T.bitLength()%26;for(M===0&&(M=26),L=T.length-1;L>=0;L--){for(var F=T.words[L],te=M-1;te>=0;te--){var ie=F>>te&1;if(W!==N[0]&&(W=this.sqr(W)),ie===0&&Z===0){U=0;continue}Z<<=1,Z|=ie,U++,!(U!==P&&(L!==0||te!==0))&&(W=this.mul(W,N[Z]),U=0,Z=0)}M=26}return W},be.prototype.convertTo=function(u){var T=u.umod(this.m);return T===u?T.clone():T},be.prototype.convertFrom=function(u){var T=u.clone();return T.red=null,T},$.mont=function(u){return new Pe(u)};function Pe(J){be.call(this,J),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new $(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(Pe,be),Pe.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Pe.prototype.convertFrom=function(u){var T=this.imod(u.mul(this.rinv));return T.red=null,T},Pe.prototype.imul=function(u,T){if(u.isZero()||T.isZero())return u.words[0]=0,u.length=1,u;var P=u.imul(T),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=P.isub(N).iushrn(this.shift),W=L;return L.cmp(this.m)>=0?W=L.isub(this.m):L.cmpn(0)<0&&(W=L.iadd(this.m)),W._forceRed(this)},Pe.prototype.mul=function(u,T){if(u.isZero()||T.isZero())return new $(0)._forceRed(this);var P=u.mul(T),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=P.isub(N).iushrn(this.shift),W=L;return L.cmp(this.m)>=0?W=L.isub(this.m):L.cmpn(0)<0&&(W=L.iadd(this.m)),W._forceRed(this)},Pe.prototype.invm=function(u){var T=this.imod(u._invmp(this.m).mul(this.r2));return T._forceRed(this)}})(B,commonjsGlobal)}(bn$5)),bn$5.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var B;brorand.exports=function(O){return B||(B=new S(null)),B.generate(O)};function S(q){this.rand=q}if(brorand.exports.Rand=S,S.prototype.generate=function(O){return this._rand(O)},S.prototype._rand=function(O){if(this.rand.getBytes)return this.rand.getBytes(O);for(var $=new Uint8Array(O),j=0;j<$.length;j++)$[j]=this.rand.getByte();return $},typeof self=="object")self.crypto&&self.crypto.getRandomValues?S.prototype._rand=function(O){var $=new Uint8Array(O);return self.crypto.getRandomValues($),$}:self.msCrypto&&self.msCrypto.getRandomValues?S.prototype._rand=function(O){var $=new Uint8Array(O);return self.msCrypto.getRandomValues($),$}:typeof window=="object"&&(S.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var D=requireCryptoBrowserify();if(typeof D.randomBytes!="function")throw new Error("Not supported");S.prototype._rand=function(O){return D.randomBytes(O)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var B=requireBn$5(),S=requireBrorand();function D(q){this.rand=q||new S.Rand}return mr=D,D.create=function(O){return new D(O)},D.prototype._randbelow=function(O){var $=O.bitLength(),j=Math.ceil($/8);do var G=new B(this.rand.generate(j));while(G.cmp(O)>=0);return G},D.prototype._randrange=function(O,$){var j=$.sub(O);return O.add(this._randbelow(j))},D.prototype.test=function(O,$,j){var G=O.bitLength(),V=B.mont(O),K=new B(1).toRed(V);$||($=Math.max(1,G/48|0));for(var H=O.subn(1),Y=0;!H.testn(Y);Y++);for(var X=O.shrn(Y),Q=H.toRed(V),ee=!0;$>0;$--){var re=this._randrange(new B(2),H);j&&j(re);var ne=re.toRed(V).redPow(X);if(!(ne.cmp(K)===0||ne.cmp(Q)===0)){for(var se=1;se<Y;se++){if(ne=ne.redSqr(),ne.cmp(K)===0)return!1;if(ne.cmp(Q)===0)break}if(se===Y)return!1}}return ee},D.prototype.getDivisor=function(O,$){var j=O.bitLength(),G=B.mont(O),V=new B(1).toRed(G);$||($=Math.max(1,j/48|0));for(var K=O.subn(1),H=0;!K.testn(H);H++);for(var Y=O.shrn(H),X=K.toRed(G);$>0;$--){var Q=this._randrange(new B(2),K),ee=O.gcd(Q);if(ee.cmpn(1)!==0)return ee;var re=Q.toRed(G).redPow(Y);if(!(re.cmp(V)===0||re.cmp(X)===0)){for(var ne=1;ne<H;ne++){if(re=re.redSqr(),re.cmp(V)===0)return re.fromRed().subn(1).gcd(O);if(re.cmp(X)===0)break}if(ne===H)return re=re.redSqr(),re.fromRed().subn(1).gcd(O)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var B=requireBrowser$b();generatePrime=ne,ne.simpleSieve=ee,ne.fermatTest=re;var S=requireBn$6(),D=new S(24),q=requireMr(),O=new q,$=new S(1),j=new S(2),G=new S(5);new S(16),new S(8);var V=new S(10),K=new S(3);new S(7);var H=new S(11),Y=new S(4);new S(12);var X=null;function Q(){if(X!==null)return X;var se=1048576,ae=[];ae[0]=2;for(var fe=1,ue=3;ue<se;ue+=2){for(var _e=Math.ceil(Math.sqrt(ue)),ge=0;ge<fe&&ae[ge]<=_e&&ue%ae[ge]!==0;ge++);fe!==ge&&ae[ge]<=_e||(ae[fe++]=ue)}return X=ae,ae}function ee(se){for(var ae=Q(),fe=0;fe<ae.length;fe++)if(se.modn(ae[fe])===0)return se.cmpn(ae[fe])===0;return!0}function re(se){var ae=S.mont(se);return j.toRed(ae).redPow(se.subn(1)).fromRed().cmpn(1)===0}function ne(se,ae){if(se<16)return ae===2||ae===5?new S([140,123]):new S([140,39]);ae=new S(ae);for(var fe,ue;;){for(fe=new S(B(Math.ceil(se/8)));fe.bitLength()>se;)fe.ishrn(1);if(fe.isEven()&&fe.iadd($),fe.testn(1)||fe.iadd(j),ae.cmp(j)){if(!ae.cmp(G))for(;fe.mod(V).cmp(K);)fe.iadd(Y)}else for(;fe.mod(D).cmp(H);)fe.iadd(Y);if(ue=fe.shrn(1),ee(ue)&&ee(fe)&&re(ue)&&re(fe)&&O.test(ue)&&O.test(fe))return fe}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var B=requireBn$6(),S=requireMr(),D=new S,q=new B(24),O=new B(11),$=new B(10),j=new B(3),G=new B(7),V=requireGeneratePrime(),K=requireBrowser$b();dh=ee;function H(ne,se){return se=se||"utf8",Buffer.isBuffer(ne)||(ne=new Buffer(ne,se)),this._pub=new B(ne),this}function Y(ne,se){return se=se||"utf8",Buffer.isBuffer(ne)||(ne=new Buffer(ne,se)),this._priv=new B(ne),this}var X={};function Q(ne,se){var ae=se.toString("hex"),fe=[ae,ne.toString(16)].join("_");if(fe in X)return X[fe];var ue=0;if(ne.isEven()||!V.simpleSieve||!V.fermatTest(ne)||!D.test(ne))return ue+=1,ae==="02"||ae==="05"?ue+=8:ue+=4,X[fe]=ue,ue;D.test(ne.shrn(1))||(ue+=2);var _e;switch(ae){case"02":ne.mod(q).cmp(O)&&(ue+=8);break;case"05":_e=ne.mod($),_e.cmp(j)&&_e.cmp(G)&&(ue+=8);break;default:ue+=4}return X[fe]=ue,ue}function ee(ne,se,ae){this.setGenerator(se),this.__prime=new B(ne),this._prime=B.mont(this.__prime),this._primeLen=ne.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,ae?(this.setPublicKey=H,this.setPrivateKey=Y):this._primeCode=8}Object.defineProperty(ee.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=Q(this.__prime,this.__gen)),this._primeCode}}),ee.prototype.generateKeys=function(){return this._priv||(this._priv=new B(K(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},ee.prototype.computeSecret=function(ne){ne=new B(ne),ne=ne.toRed(this._prime);var se=ne.redPow(this._priv).fromRed(),ae=new Buffer(se.toArray()),fe=this.getPrime();if(ae.length<fe.length){var ue=new Buffer(fe.length-ae.length);ue.fill(0),ae=Buffer.concat([ue,ae])}return ae},ee.prototype.getPublicKey=function(se){return re(this._pub,se)},ee.prototype.getPrivateKey=function(se){return re(this._priv,se)},ee.prototype.getPrime=function(ne){return re(this.__prime,ne)},ee.prototype.getGenerator=function(ne){return re(this._gen,ne)},ee.prototype.setGenerator=function(ne,se){return se=se||"utf8",Buffer.isBuffer(ne)||(ne=new Buffer(ne,se)),this.__gen=ne,this._gen=new B(ne),this};function re(ne,se){var ae=new Buffer(ne.toArray());return se?ae.toString(se):ae}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var B=requireGeneratePrime(),S=require$$1$1,D=requireDh();function q(j){var G=new Buffer(S[j].prime,"hex"),V=new Buffer(S[j].gen,"hex");return new D(G,V)}var O={binary:!0,hex:!0,base64:!0};function $(j,G,V,K){return Buffer.isBuffer(G)||O[G]===void 0?$(j,"binary",G,V):(G=G||"binary",K=K||"binary",V=V||new Buffer([2]),Buffer.isBuffer(V)||(V=new Buffer(V,K)),typeof j=="number"?new D(B(j,V),V,!0):(Buffer.isBuffer(j)||(j=new Buffer(j,G)),new D(j,V,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=q,browser$4.createDiffieHellman=browser$4.DiffieHellman=$,browser$4}var safeBuffer$3={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$3;function requireSafeBuffer$3(){return hasRequiredSafeBuffer$3||(hasRequiredSafeBuffer$3=1,function(B,S){var D=require$$0$1,q=D.Buffer;function O(j,G){for(var V in j)G[V]=j[V]}q.from&&q.alloc&&q.allocUnsafe&&q.allocUnsafeSlow?B.exports=D:(O(D,S),S.Buffer=$);function $(j,G,V){return q(j,G,V)}$.prototype=Object.create(q.prototype),O(q,$),$.from=function(j,G,V){if(typeof j=="number")throw new TypeError("Argument must not be a number");return q(j,G,V)},$.alloc=function(j,G,V){if(typeof j!="number")throw new TypeError("Argument must be a number");var K=q(j);return G!==void 0?typeof V=="string"?K.fill(G,V):K.fill(G):K.fill(0),K},$.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return q(j)},$.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return D.SlowBuffer(j)}}(safeBuffer$3,safeBuffer$3.exports)),safeBuffer$3.exports}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:B}:processNextickArgs.exports=process$1;function B(S,D,q,O){if(typeof S!="function")throw new TypeError('"callback" argument must be a function');var $=arguments.length,j,G;switch($){case 0:case 1:return process$1.nextTick(S);case 2:return process$1.nextTick(function(){S.call(null,D)});case 3:return process$1.nextTick(function(){S.call(null,D,q)});case 4:return process$1.nextTick(function(){S.call(null,D,q,O)});default:for(j=new Array($-1),G=0;G<j.length;)j[G++]=arguments[G];return process$1.nextTick(function(){S.apply(null,j)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var B={}.toString;return isarray=Array.isArray||function(S){return B.call(S)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=eventsExports.EventEmitter),streamBrowser}var safeBuffer$2={exports:{}},hasRequiredSafeBuffer$2;function requireSafeBuffer$2(){return hasRequiredSafeBuffer$2||(hasRequiredSafeBuffer$2=1,function(B,S){var D=require$$0$1,q=D.Buffer;function O(j,G){for(var V in j)G[V]=j[V]}q.from&&q.alloc&&q.allocUnsafe&&q.allocUnsafeSlow?B.exports=D:(O(D,S),S.Buffer=$);function $(j,G,V){return q(j,G,V)}O(q,$),$.from=function(j,G,V){if(typeof j=="number")throw new TypeError("Argument must not be a number");return q(j,G,V)},$.alloc=function(j,G,V){if(typeof j!="number")throw new TypeError("Argument must be a number");var K=q(j);return G!==void 0?typeof V=="string"?K.fill(G,V):K.fill(G):K.fill(0),K},$.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return q(j)},$.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return D.SlowBuffer(j)}}(safeBuffer$2,safeBuffer$2.exports)),safeBuffer$2.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function B(re){return Array.isArray?Array.isArray(re):ee(re)==="[object Array]"}util.isArray=B;function S(re){return typeof re=="boolean"}util.isBoolean=S;function D(re){return re===null}util.isNull=D;function q(re){return re==null}util.isNullOrUndefined=q;function O(re){return typeof re=="number"}util.isNumber=O;function $(re){return typeof re=="string"}util.isString=$;function j(re){return typeof re=="symbol"}util.isSymbol=j;function G(re){return re===void 0}util.isUndefined=G;function V(re){return ee(re)==="[object RegExp]"}util.isRegExp=V;function K(re){return typeof re=="object"&&re!==null}util.isObject=K;function H(re){return ee(re)==="[object Date]"}util.isDate=H;function Y(re){return ee(re)==="[object Error]"||re instanceof Error}util.isError=Y;function X(re){return typeof re=="function"}util.isFunction=X;function Q(re){return re===null||typeof re=="boolean"||typeof re=="number"||typeof re=="string"||typeof re=="symbol"||typeof re>"u"}util.isPrimitive=Q,util.isBuffer=require$$0$1.Buffer.isBuffer;function ee(re){return Object.prototype.toString.call(re)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(B){function S($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")}var D=requireSafeBuffer$2().Buffer,q=requireUtil$1();function O($,j,G){$.copy(j,G)}B.exports=function(){function $(){S(this,$),this.head=null,this.tail=null,this.length=0}return $.prototype.push=function(G){var V={data:G,next:null};this.length>0?this.tail.next=V:this.head=V,this.tail=V,++this.length},$.prototype.unshift=function(G){var V={data:G,next:this.head};this.length===0&&(this.tail=V),this.head=V,++this.length},$.prototype.shift=function(){if(this.length!==0){var G=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,G}},$.prototype.clear=function(){this.head=this.tail=null,this.length=0},$.prototype.join=function(G){if(this.length===0)return"";for(var V=this.head,K=""+V.data;V=V.next;)K+=G+V.data;return K},$.prototype.concat=function(G){if(this.length===0)return D.alloc(0);for(var V=D.allocUnsafe(G>>>0),K=this.head,H=0;K;)O(K.data,V,H),H+=K.data.length,K=K.next;return V},$}(),q&&q.inspect&&q.inspect.custom&&(B.exports.prototype[q.inspect.custom]=function(){var $=q.inspect({length:this.length});return this.constructor.name+" "+$})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var B=requireProcessNextickArgs();function S(O,$){var j=this,G=this._readableState&&this._readableState.destroyed,V=this._writableState&&this._writableState.destroyed;return G||V?($?$(O):O&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,B.nextTick(q,this,O)):B.nextTick(q,this,O)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(O||null,function(K){!$&&K?j._writableState?j._writableState.errorEmitted||(j._writableState.errorEmitted=!0,B.nextTick(q,j,K)):B.nextTick(q,j,K):$&&$(K)}),this)}function D(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function q(O,$){O.emit("error",$)}return destroy_1={destroy:S,undestroy:D},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var B=requireProcessNextickArgs();_stream_writable=re;function S(W){var Z=this;this.next=null,this.entry=null,this.finish=function(){L(Z,W)}}var D=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:B.nextTick,q;re.WritableState=Q;var O=Object.create(requireUtil());O.inherits=requireInherits_browser();var $={deprecate:requireBrowser$a()},j=requireStreamBrowser(),G=requireSafeBuffer$2().Buffer,V=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function K(W){return G.from(W)}function H(W){return G.isBuffer(W)||W instanceof V}var Y=requireDestroy();O.inherits(re,j);function X(){}function Q(W,Z){q=q||require_stream_duplex(),W=W||{};var U=Z instanceof q;this.objectMode=!!W.objectMode,U&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var M=W.highWaterMark,F=W.writableHighWaterMark,te=this.objectMode?16:16*1024;M||M===0?this.highWaterMark=M:U&&(F||F===0)?this.highWaterMark=F:this.highWaterMark=te,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ie=W.decodeStrings===!1;this.decodeStrings=!ie,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(he){Ae(Z,he)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new S(this)}Q.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,U=[];Z;)U.push(Z),Z=Z.next;return U},function(){try{Object.defineProperty(Q.prototype,"buffer",{get:$.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ee;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ee=Function.prototype[Symbol.hasInstance],Object.defineProperty(re,Symbol.hasInstance,{value:function(W){return ee.call(this,W)?!0:this!==re?!1:W&&W._writableState instanceof Q}})):ee=function(W){return W instanceof this};function re(W){if(q=q||require_stream_duplex(),!ee.call(re,this)&&!(this instanceof q))return new re(W);this._writableState=new Q(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),j.call(this)}re.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function ne(W,Z){var U=new Error("write after end");W.emit("error",U),B.nextTick(Z,U)}function se(W,Z,U,M){var F=!0,te=!1;return U===null?te=new TypeError("May not write null values to stream"):typeof U!="string"&&U!==void 0&&!Z.objectMode&&(te=new TypeError("Invalid non-string/buffer chunk")),te&&(W.emit("error",te),B.nextTick(M,te),F=!1),F}re.prototype.write=function(W,Z,U){var M=this._writableState,F=!1,te=!M.objectMode&&H(W);return te&&!G.isBuffer(W)&&(W=K(W)),typeof Z=="function"&&(U=Z,Z=null),te?Z="buffer":Z||(Z=M.defaultEncoding),typeof U!="function"&&(U=X),M.ended?ne(this,U):(te||se(this,M,W,U))&&(M.pendingcb++,F=fe(this,M,te,W,Z,U)),F},re.prototype.cork=function(){var W=this._writableState;W.corked++},re.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,!W.writing&&!W.corked&&!W.bufferProcessing&&W.bufferedRequest&&Pe(this,W))},re.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Z);return this._writableState.defaultEncoding=Z,this};function ae(W,Z,U){return!W.objectMode&&W.decodeStrings!==!1&&typeof Z=="string"&&(Z=G.from(Z,U)),Z}Object.defineProperty(re.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function fe(W,Z,U,M,F,te){if(!U){var ie=ae(Z,M,F);M!==ie&&(U=!0,F="buffer",M=ie)}var he=Z.objectMode?1:M.length;Z.length+=he;var pe=Z.length<Z.highWaterMark;if(pe||(Z.needDrain=!0),Z.writing||Z.corked){var de=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:M,encoding:F,isBuf:U,callback:te,next:null},de?de.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else ue(W,Z,!1,he,M,F,te);return pe}function ue(W,Z,U,M,F,te,ie){Z.writelen=M,Z.writecb=ie,Z.writing=!0,Z.sync=!0,U?W._writev(F,Z.onwrite):W._write(F,te,Z.onwrite),Z.sync=!1}function _e(W,Z,U,M,F){--Z.pendingcb,U?(B.nextTick(F,M),B.nextTick(P,W,Z),W._writableState.errorEmitted=!0,W.emit("error",M)):(F(M),W._writableState.errorEmitted=!0,W.emit("error",M),P(W,Z))}function ge(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}function Ae(W,Z){var U=W._writableState,M=U.sync,F=U.writecb;if(ge(U),Z)_e(W,U,M,Z,F);else{var te=J(U);!te&&!U.corked&&!U.bufferProcessing&&U.bufferedRequest&&Pe(W,U),M?D(Te,W,U,te,F):Te(W,U,te,F)}}function Te(W,Z,U,M){U||be(W,Z),Z.pendingcb--,M(),P(W,Z)}function be(W,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,W.emit("drain"))}function Pe(W,Z){Z.bufferProcessing=!0;var U=Z.bufferedRequest;if(W._writev&&U&&U.next){var M=Z.bufferedRequestCount,F=new Array(M),te=Z.corkedRequestsFree;te.entry=U;for(var ie=0,he=!0;U;)F[ie]=U,U.isBuf||(he=!1),U=U.next,ie+=1;F.allBuffers=he,ue(W,Z,!0,Z.length,F,"",te.finish),Z.pendingcb++,Z.lastBufferedRequest=null,te.next?(Z.corkedRequestsFree=te.next,te.next=null):Z.corkedRequestsFree=new S(Z),Z.bufferedRequestCount=0}else{for(;U;){var pe=U.chunk,de=U.encoding,oe=U.callback,le=Z.objectMode?1:pe.length;if(ue(W,Z,!1,le,pe,de,oe),U=U.next,Z.bufferedRequestCount--,Z.writing)break}U===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=U,Z.bufferProcessing=!1}re.prototype._write=function(W,Z,U){U(new Error("_write() is not implemented"))},re.prototype._writev=null,re.prototype.end=function(W,Z,U){var M=this._writableState;typeof W=="function"?(U=W,W=null,Z=null):typeof Z=="function"&&(U=Z,Z=null),W!=null&&this.write(W,Z),M.corked&&(M.corked=1,this.uncork()),M.ending||N(this,M,U)};function J(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function u(W,Z){W._final(function(U){Z.pendingcb--,U&&W.emit("error",U),Z.prefinished=!0,W.emit("prefinish"),P(W,Z)})}function T(W,Z){!Z.prefinished&&!Z.finalCalled&&(typeof W._final=="function"?(Z.pendingcb++,Z.finalCalled=!0,B.nextTick(u,W,Z)):(Z.prefinished=!0,W.emit("prefinish")))}function P(W,Z){var U=J(Z);return U&&(T(W,Z),Z.pendingcb===0&&(Z.finished=!0,W.emit("finish"))),U}function N(W,Z,U){Z.ending=!0,P(W,Z),U&&(Z.finished?B.nextTick(U):W.once("finish",U)),Z.ended=!0,W.writable=!1}function L(W,Z,U){var M=W.entry;for(W.entry=null;M;){var F=M.callback;Z.pendingcb--,F(U),M=M.next}Z.corkedRequestsFree.next=W}return Object.defineProperty(re.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),re.prototype.destroy=Y.destroy,re.prototype._undestroy=Y.undestroy,re.prototype._destroy=function(W,Z){this.end(),Z(W)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var B=requireProcessNextickArgs(),S=Object.keys||function(Y){var X=[];for(var Q in Y)X.push(Q);return X};_stream_duplex=V;var D=Object.create(requireUtil());D.inherits=requireInherits_browser();var q=require_stream_readable(),O=require_stream_writable();D.inherits(V,q);for(var $=S(O.prototype),j=0;j<$.length;j++){var G=$[j];V.prototype[G]||(V.prototype[G]=O.prototype[G])}function V(Y){if(!(this instanceof V))return new V(Y);q.call(this,Y),O.call(this,Y),Y&&Y.readable===!1&&(this.readable=!1),Y&&Y.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,Y&&Y.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",K)}Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K(){this.allowHalfOpen||this._writableState.ended||B.nextTick(H,this)}function H(Y){Y.end()}return Object.defineProperty(V.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Y,this._writableState.destroyed=Y)}}),V.prototype._destroy=function(Y,X){this.push(null),this.end(),B.nextTick(X,Y)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var B=requireProcessNextickArgs();_stream_readable=ae;var S=requireIsarray(),D;ae.ReadableState=se,eventsExports.EventEmitter;var q=function(oe,le){return oe.listeners(le).length},O=requireStreamBrowser(),$=requireSafeBuffer$2().Buffer,j=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function G(oe){return $.from(oe)}function V(oe){return $.isBuffer(oe)||oe instanceof j}var K=Object.create(requireUtil());K.inherits=requireInherits_browser();var H=requireUtil$1(),Y=void 0;H&&H.debuglog?Y=H.debuglog("stream"):Y=function(){};var X=requireBufferList(),Q=requireDestroy(),ee;K.inherits(ae,O);var re=["error","close","destroy","pause","resume"];function ne(oe,le,ve){if(typeof oe.prependListener=="function")return oe.prependListener(le,ve);!oe._events||!oe._events[le]?oe.on(le,ve):S(oe._events[le])?oe._events[le].unshift(ve):oe._events[le]=[ve,oe._events[le]]}function se(oe,le){D=D||require_stream_duplex(),oe=oe||{};var ve=le instanceof D;this.objectMode=!!oe.objectMode,ve&&(this.objectMode=this.objectMode||!!oe.readableObjectMode);var Me=oe.highWaterMark,ye=oe.readableHighWaterMark,ce=this.objectMode?16:16*1024;Me||Me===0?this.highWaterMark=Me:ve&&(ye||ye===0)?this.highWaterMark=ye:this.highWaterMark=ce,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new X,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=oe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,oe.encoding&&(ee||(ee=requireString_decoder().StringDecoder),this.decoder=new ee(oe.encoding),this.encoding=oe.encoding)}function ae(oe){if(D=D||require_stream_duplex(),!(this instanceof ae))return new ae(oe);this._readableState=new se(oe,this),this.readable=!0,oe&&(typeof oe.read=="function"&&(this._read=oe.read),typeof oe.destroy=="function"&&(this._destroy=oe.destroy)),O.call(this)}Object.defineProperty(ae.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(oe){this._readableState&&(this._readableState.destroyed=oe)}}),ae.prototype.destroy=Q.destroy,ae.prototype._undestroy=Q.undestroy,ae.prototype._destroy=function(oe,le){this.push(null),le(oe)},ae.prototype.push=function(oe,le){var ve=this._readableState,Me;return ve.objectMode?Me=!0:typeof oe=="string"&&(le=le||ve.defaultEncoding,le!==ve.encoding&&(oe=$.from(oe,le),le=""),Me=!0),fe(this,oe,le,!1,Me)},ae.prototype.unshift=function(oe){return fe(this,oe,null,!0,!1)};function fe(oe,le,ve,Me,ye){var ce=oe._readableState;if(le===null)ce.reading=!1,Pe(oe,ce);else{var Se;ye||(Se=_e(ce,le)),Se?oe.emit("error",Se):ce.objectMode||le&&le.length>0?(typeof le!="string"&&!ce.objectMode&&Object.getPrototypeOf(le)!==$.prototype&&(le=G(le)),Me?ce.endEmitted?oe.emit("error",new Error("stream.unshift() after end event")):ue(oe,ce,le,!0):ce.ended?oe.emit("error",new Error("stream.push() after EOF")):(ce.reading=!1,ce.decoder&&!ve?(le=ce.decoder.write(le),ce.objectMode||le.length!==0?ue(oe,ce,le,!1):T(oe,ce)):ue(oe,ce,le,!1))):Me||(ce.reading=!1)}return ge(ce)}function ue(oe,le,ve,Me){le.flowing&&le.length===0&&!le.sync?(oe.emit("data",ve),oe.read(0)):(le.length+=le.objectMode?1:ve.length,Me?le.buffer.unshift(ve):le.buffer.push(ve),le.needReadable&&J(oe)),T(oe,le)}function _e(oe,le){var ve;return!V(le)&&typeof le!="string"&&le!==void 0&&!oe.objectMode&&(ve=new TypeError("Invalid non-string/buffer chunk")),ve}function ge(oe){return!oe.ended&&(oe.needReadable||oe.length<oe.highWaterMark||oe.length===0)}ae.prototype.isPaused=function(){return this._readableState.flowing===!1},ae.prototype.setEncoding=function(oe){return ee||(ee=requireString_decoder().StringDecoder),this._readableState.decoder=new ee(oe),this._readableState.encoding=oe,this};var Ae=8388608;function Te(oe){return oe>=Ae?oe=Ae:(oe--,oe|=oe>>>1,oe|=oe>>>2,oe|=oe>>>4,oe|=oe>>>8,oe|=oe>>>16,oe++),oe}function be(oe,le){return oe<=0||le.length===0&&le.ended?0:le.objectMode?1:oe!==oe?le.flowing&&le.length?le.buffer.head.data.length:le.length:(oe>le.highWaterMark&&(le.highWaterMark=Te(oe)),oe<=le.length?oe:le.ended?le.length:(le.needReadable=!0,0))}ae.prototype.read=function(oe){Y("read",oe),oe=parseInt(oe,10);var le=this._readableState,ve=oe;if(oe!==0&&(le.emittedReadable=!1),oe===0&&le.needReadable&&(le.length>=le.highWaterMark||le.ended))return Y("read: emitReadable",le.length,le.ended),le.length===0&&le.ended?he(this):J(this),null;if(oe=be(oe,le),oe===0&&le.ended)return le.length===0&&he(this),null;var Me=le.needReadable;Y("need readable",Me),(le.length===0||le.length-oe<le.highWaterMark)&&(Me=!0,Y("length less than watermark",Me)),le.ended||le.reading?(Me=!1,Y("reading or ended",Me)):Me&&(Y("do read"),le.reading=!0,le.sync=!0,le.length===0&&(le.needReadable=!0),this._read(le.highWaterMark),le.sync=!1,le.reading||(oe=be(ve,le)));var ye;return oe>0?ye=M(oe,le):ye=null,ye===null?(le.needReadable=!0,oe=0):le.length-=oe,le.length===0&&(le.ended||(le.needReadable=!0),ve!==oe&&le.ended&&he(this)),ye!==null&&this.emit("data",ye),ye};function Pe(oe,le){if(!le.ended){if(le.decoder){var ve=le.decoder.end();ve&&ve.length&&(le.buffer.push(ve),le.length+=le.objectMode?1:ve.length)}le.ended=!0,J(oe)}}function J(oe){var le=oe._readableState;le.needReadable=!1,le.emittedReadable||(Y("emitReadable",le.flowing),le.emittedReadable=!0,le.sync?B.nextTick(u,oe):u(oe))}function u(oe){Y("emit readable"),oe.emit("readable"),U(oe)}function T(oe,le){le.readingMore||(le.readingMore=!0,B.nextTick(P,oe,le))}function P(oe,le){for(var ve=le.length;!le.reading&&!le.flowing&&!le.ended&&le.length<le.highWaterMark&&(Y("maybeReadMore read 0"),oe.read(0),ve!==le.length);)ve=le.length;le.readingMore=!1}ae.prototype._read=function(oe){this.emit("error",new Error("_read() is not implemented"))},ae.prototype.pipe=function(oe,le){var ve=this,Me=this._readableState;switch(Me.pipesCount){case 0:Me.pipes=oe;break;case 1:Me.pipes=[Me.pipes,oe];break;default:Me.pipes.push(oe);break}Me.pipesCount+=1,Y("pipe count=%d opts=%j",Me.pipesCount,le);var ye=(!le||le.end!==!1)&&oe!==process$1.stdout&&oe!==process$1.stderr,ce=ye?et:ct;Me.endEmitted?B.nextTick(ce):ve.once("end",ce),oe.on("unpipe",Se);function Se(Ue,Ye){Y("onunpipe"),Ue===ve&&Ye&&Ye.hasUnpiped===!1&&(Ye.hasUnpiped=!0,ot())}function et(){Y("onend"),oe.end()}var ke=N(ve);oe.on("drain",ke);var De=!1;function ot(){Y("cleanup"),oe.removeListener("close",Ne),oe.removeListener("finish",We),oe.removeListener("drain",ke),oe.removeListener("error",lt),oe.removeListener("unpipe",Se),ve.removeListener("end",et),ve.removeListener("end",ct),ve.removeListener("data",$e),De=!0,Me.awaitDrain&&(!oe._writableState||oe._writableState.needDrain)&&ke()}var Le=!1;ve.on("data",$e);function $e(Ue){Y("ondata"),Le=!1;var Ye=oe.write(Ue);Ye===!1&&!Le&&((Me.pipesCount===1&&Me.pipes===oe||Me.pipesCount>1&&de(Me.pipes,oe)!==-1)&&!De&&(Y("false write response, pause",Me.awaitDrain),Me.awaitDrain++,Le=!0),ve.pause())}function lt(Ue){Y("onerror",Ue),ct(),oe.removeListener("error",lt),q(oe,"error")===0&&oe.emit("error",Ue)}ne(oe,"error",lt);function Ne(){oe.removeListener("finish",We),ct()}oe.once("close",Ne);function We(){Y("onfinish"),oe.removeListener("close",Ne),ct()}oe.once("finish",We);function ct(){Y("unpipe"),ve.unpipe(oe)}return oe.emit("pipe",ve),Me.flowing||(Y("pipe resume"),ve.resume()),oe};function N(oe){return function(){var le=oe._readableState;Y("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&q(oe,"data")&&(le.flowing=!0,U(oe))}}ae.prototype.unpipe=function(oe){var le=this._readableState,ve={hasUnpiped:!1};if(le.pipesCount===0)return this;if(le.pipesCount===1)return oe&&oe!==le.pipes?this:(oe||(oe=le.pipes),le.pipes=null,le.pipesCount=0,le.flowing=!1,oe&&oe.emit("unpipe",this,ve),this);if(!oe){var Me=le.pipes,ye=le.pipesCount;le.pipes=null,le.pipesCount=0,le.flowing=!1;for(var ce=0;ce<ye;ce++)Me[ce].emit("unpipe",this,{hasUnpiped:!1});return this}var Se=de(le.pipes,oe);return Se===-1?this:(le.pipes.splice(Se,1),le.pipesCount-=1,le.pipesCount===1&&(le.pipes=le.pipes[0]),oe.emit("unpipe",this,ve),this)},ae.prototype.on=function(oe,le){var ve=O.prototype.on.call(this,oe,le);if(oe==="data")this._readableState.flowing!==!1&&this.resume();else if(oe==="readable"){var Me=this._readableState;!Me.endEmitted&&!Me.readableListening&&(Me.readableListening=Me.needReadable=!0,Me.emittedReadable=!1,Me.reading?Me.length&&J(this):B.nextTick(L,this))}return ve},ae.prototype.addListener=ae.prototype.on;function L(oe){Y("readable nexttick read 0"),oe.read(0)}ae.prototype.resume=function(){var oe=this._readableState;return oe.flowing||(Y("resume"),oe.flowing=!0,W(this,oe)),this};function W(oe,le){le.resumeScheduled||(le.resumeScheduled=!0,B.nextTick(Z,oe,le))}function Z(oe,le){le.reading||(Y("resume read 0"),oe.read(0)),le.resumeScheduled=!1,le.awaitDrain=0,oe.emit("resume"),U(oe),le.flowing&&!le.reading&&oe.read(0)}ae.prototype.pause=function(){return Y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Y("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function U(oe){var le=oe._readableState;for(Y("flow",le.flowing);le.flowing&&oe.read()!==null;);}ae.prototype.wrap=function(oe){var le=this,ve=this._readableState,Me=!1;oe.on("end",function(){if(Y("wrapped end"),ve.decoder&&!ve.ended){var Se=ve.decoder.end();Se&&Se.length&&le.push(Se)}le.push(null)}),oe.on("data",function(Se){if(Y("wrapped data"),ve.decoder&&(Se=ve.decoder.write(Se)),!(ve.objectMode&&Se==null)&&!(!ve.objectMode&&(!Se||!Se.length))){var et=le.push(Se);et||(Me=!0,oe.pause())}});for(var ye in oe)this[ye]===void 0&&typeof oe[ye]=="function"&&(this[ye]=function(Se){return function(){return oe[Se].apply(oe,arguments)}}(ye));for(var ce=0;ce<re.length;ce++)oe.on(re[ce],this.emit.bind(this,re[ce]));return this._read=function(Se){Y("wrapped _read",Se),Me&&(Me=!1,oe.resume())},this},Object.defineProperty(ae.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),ae._fromList=M;function M(oe,le){if(le.length===0)return null;var ve;return le.objectMode?ve=le.buffer.shift():!oe||oe>=le.length?(le.decoder?ve=le.buffer.join(""):le.buffer.length===1?ve=le.buffer.head.data:ve=le.buffer.concat(le.length),le.buffer.clear()):ve=F(oe,le.buffer,le.decoder),ve}function F(oe,le,ve){var Me;return oe<le.head.data.length?(Me=le.head.data.slice(0,oe),le.head.data=le.head.data.slice(oe)):oe===le.head.data.length?Me=le.shift():Me=ve?te(oe,le):ie(oe,le),Me}function te(oe,le){var ve=le.head,Me=1,ye=ve.data;for(oe-=ye.length;ve=ve.next;){var ce=ve.data,Se=oe>ce.length?ce.length:oe;if(Se===ce.length?ye+=ce:ye+=ce.slice(0,oe),oe-=Se,oe===0){Se===ce.length?(++Me,ve.next?le.head=ve.next:le.head=le.tail=null):(le.head=ve,ve.data=ce.slice(Se));break}++Me}return le.length-=Me,ye}function ie(oe,le){var ve=$.allocUnsafe(oe),Me=le.head,ye=1;for(Me.data.copy(ve),oe-=Me.data.length;Me=Me.next;){var ce=Me.data,Se=oe>ce.length?ce.length:oe;if(ce.copy(ve,ve.length-oe,0,Se),oe-=Se,oe===0){Se===ce.length?(++ye,Me.next?le.head=Me.next:le.head=le.tail=null):(le.head=Me,Me.data=ce.slice(Se));break}++ye}return le.length-=ye,ve}function he(oe){var le=oe._readableState;if(le.length>0)throw new Error('"endReadable()" called on non-empty stream');le.endEmitted||(le.ended=!0,B.nextTick(pe,le,oe))}function pe(oe,le){!oe.endEmitted&&oe.length===0&&(oe.endEmitted=!0,le.readable=!1,le.emit("end"))}function de(oe,le){for(var ve=0,Me=oe.length;ve<Me;ve++)if(oe[ve]===le)return ve;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=q;var B=require_stream_duplex(),S=Object.create(requireUtil());S.inherits=requireInherits_browser(),S.inherits(q,B);function D(j,G){var V=this._transformState;V.transforming=!1;var K=V.writecb;if(!K)return this.emit("error",new Error("write callback called multiple times"));V.writechunk=null,V.writecb=null,G!=null&&this.push(G),K(j);var H=this._readableState;H.reading=!1,(H.needReadable||H.length<H.highWaterMark)&&this._read(H.highWaterMark)}function q(j){if(!(this instanceof q))return new q(j);B.call(this,j),this._transformState={afterTransform:D.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,j&&(typeof j.transform=="function"&&(this._transform=j.transform),typeof j.flush=="function"&&(this._flush=j.flush)),this.on("prefinish",O)}function O(){var j=this;typeof this._flush=="function"?this._flush(function(G,V){$(j,G,V)}):$(this,null,null)}q.prototype.push=function(j,G){return this._transformState.needTransform=!1,B.prototype.push.call(this,j,G)},q.prototype._transform=function(j,G,V){throw new Error("_transform() is not implemented")},q.prototype._write=function(j,G,V){var K=this._transformState;if(K.writecb=V,K.writechunk=j,K.writeencoding=G,!K.transforming){var H=this._readableState;(K.needTransform||H.needReadable||H.length<H.highWaterMark)&&this._read(H.highWaterMark)}},q.prototype._read=function(j){var G=this._transformState;G.writechunk!==null&&G.writecb&&!G.transforming?(G.transforming=!0,this._transform(G.writechunk,G.writeencoding,G.afterTransform)):G.needTransform=!0},q.prototype._destroy=function(j,G){var V=this;B.prototype._destroy.call(this,j,function(K){G(K),V.emit("close")})};function $(j,G,V){if(G)return j.emit("error",G);if(V!=null&&j.push(V),j._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(j._transformState.transforming)throw new Error("Calling transform done when still transforming");return j.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=D;var B=require_stream_transform(),S=Object.create(requireUtil());S.inherits=requireInherits_browser(),S.inherits(D,B);function D(q){if(!(this instanceof D))return new D(q);B.call(this,q)}return D.prototype._transform=function(q,O,$){$(null,q)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(B,S){S=B.exports=require_stream_readable(),S.Stream=S,S.Readable=S,S.Writable=require_stream_writable(),S.Duplex=require_stream_duplex(),S.Transform=require_stream_transform(),S.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},bn$4={exports:{}};bn$4.exports;var hasRequiredBn$4;function requireBn$4(){return hasRequiredBn$4||(hasRequiredBn$4=1,function(B){(function(S,D){function q(T,P){if(!T)throw new Error(P||"Assertion failed")}function O(T,P){T.super_=P;var N=function(){};N.prototype=P.prototype,T.prototype=new N,T.prototype.constructor=T}function $(T,P,N){if($.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((P==="le"||P==="be")&&(N=P,P=10),this._init(T||0,P||10,N||"be"))}typeof S=="object"?S.exports=$:D.BN=$,$.BN=$,$.wordSize=26;var j;try{typeof window<"u"&&typeof window.Buffer<"u"?j=window.Buffer:j=require$$0$1.Buffer}catch{}$.isBN=function(P){return P instanceof $?!0:P!==null&&typeof P=="object"&&P.constructor.wordSize===$.wordSize&&Array.isArray(P.words)},$.max=function(P,N){return P.cmp(N)>0?P:N},$.min=function(P,N){return P.cmp(N)<0?P:N},$.prototype._init=function(P,N,L){if(typeof P=="number")return this._initNumber(P,N,L);if(typeof P=="object")return this._initArray(P,N,L);N==="hex"&&(N=16),q(N===(N|0)&&N>=2&&N<=36),P=P.toString().replace(/\s+/g,"");var W=0;P[0]==="-"&&(W++,this.negative=1),W<P.length&&(N===16?this._parseHex(P,W,L):(this._parseBase(P,N,W),L==="le"&&this._initArray(this.toArray(),N,L)))},$.prototype._initNumber=function(P,N,L){P<0&&(this.negative=1,P=-P),P<67108864?(this.words=[P&67108863],this.length=1):P<4503599627370496?(this.words=[P&67108863,P/67108864&67108863],this.length=2):(q(P<9007199254740992),this.words=[P&67108863,P/67108864&67108863,1],this.length=3),L==="le"&&this._initArray(this.toArray(),N,L)},$.prototype._initArray=function(P,N,L){if(q(typeof P.length=="number"),P.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(P.length/3),this.words=new Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var Z,U,M=0;if(L==="be")for(W=P.length-1,Z=0;W>=0;W-=3)U=P[W]|P[W-1]<<8|P[W-2]<<16,this.words[Z]|=U<<M&67108863,this.words[Z+1]=U>>>26-M&67108863,M+=24,M>=26&&(M-=26,Z++);else if(L==="le")for(W=0,Z=0;W<P.length;W+=3)U=P[W]|P[W+1]<<8|P[W+2]<<16,this.words[Z]|=U<<M&67108863,this.words[Z+1]=U>>>26-M&67108863,M+=24,M>=26&&(M-=26,Z++);return this._strip()};function G(T,P){var N=T.charCodeAt(P);if(N>=48&&N<=57)return N-48;if(N>=65&&N<=70)return N-55;if(N>=97&&N<=102)return N-87;q(!1,"Invalid character in "+T)}function V(T,P,N){var L=G(T,N);return N-1>=P&&(L|=G(T,N-1)<<4),L}$.prototype._parseHex=function(P,N,L){this.length=Math.ceil((P.length-N)/6),this.words=new Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var Z=0,U=0,M;if(L==="be")for(W=P.length-1;W>=N;W-=2)M=V(P,N,W)<<Z,this.words[U]|=M&67108863,Z>=18?(Z-=18,U+=1,this.words[U]|=M>>>26):Z+=8;else{var F=P.length-N;for(W=F%2===0?N+1:N;W<P.length;W+=2)M=V(P,N,W)<<Z,this.words[U]|=M&67108863,Z>=18?(Z-=18,U+=1,this.words[U]|=M>>>26):Z+=8}this._strip()};function K(T,P,N,L){for(var W=0,Z=0,U=Math.min(T.length,N),M=P;M<U;M++){var F=T.charCodeAt(M)-48;W*=L,F>=49?Z=F-49+10:F>=17?Z=F-17+10:Z=F,q(F>=0&&Z<L,"Invalid character"),W+=Z}return W}$.prototype._parseBase=function(P,N,L){this.words=[0],this.length=1;for(var W=0,Z=1;Z<=67108863;Z*=N)W++;W--,Z=Z/N|0;for(var U=P.length-L,M=U%W,F=Math.min(U,U-M)+L,te=0,ie=L;ie<F;ie+=W)te=K(P,ie,ie+W,N),this.imuln(Z),this.words[0]+te<67108864?this.words[0]+=te:this._iaddn(te);if(M!==0){var he=1;for(te=K(P,ie,P.length,N),ie=0;ie<M;ie++)he*=N;this.imuln(he),this.words[0]+te<67108864?this.words[0]+=te:this._iaddn(te)}this._strip()},$.prototype.copy=function(P){P.words=new Array(this.length);for(var N=0;N<this.length;N++)P.words[N]=this.words[N];P.length=this.length,P.negative=this.negative,P.red=this.red};function H(T,P){T.words=P.words,T.length=P.length,T.negative=P.negative,T.red=P.red}if($.prototype._move=function(P){H(P,this)},$.prototype.clone=function(){var P=new $(null);return this.copy(P),P},$.prototype._expand=function(P){for(;this.length<P;)this.words[this.length++]=0;return this},$.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},$.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{$.prototype[Symbol.for("nodejs.util.inspect.custom")]=Y}catch{$.prototype.inspect=Y}else $.prototype.inspect=Y;function Y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var X=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Q=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ee=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];$.prototype.toString=function(P,N){P=P||10,N=N|0||1;var L;if(P===16||P==="hex"){L="";for(var W=0,Z=0,U=0;U<this.length;U++){var M=this.words[U],F=((M<<W|Z)&16777215).toString(16);Z=M>>>24-W&16777215,W+=2,W>=26&&(W-=26,U--),Z!==0||U!==this.length-1?L=X[6-F.length]+F+L:L=F+L}for(Z!==0&&(L=Z.toString(16)+L);L.length%N!==0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}if(P===(P|0)&&P>=2&&P<=36){var te=Q[P],ie=ee[P];L="";var he=this.clone();for(he.negative=0;!he.isZero();){var pe=he.modrn(ie).toString(P);he=he.idivn(ie),he.isZero()?L=pe+L:L=X[te-pe.length]+pe+L}for(this.isZero()&&(L="0"+L);L.length%N!==0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}q(!1,"Base should be between 2 and 36")},$.prototype.toNumber=function(){var P=this.words[0];return this.length===2?P+=this.words[1]*67108864:this.length===3&&this.words[2]===1?P+=4503599627370496+this.words[1]*67108864:this.length>2&&q(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-P:P},$.prototype.toJSON=function(){return this.toString(16,2)},j&&($.prototype.toBuffer=function(P,N){return this.toArrayLike(j,P,N)}),$.prototype.toArray=function(P,N){return this.toArrayLike(Array,P,N)};var re=function(P,N){return P.allocUnsafe?P.allocUnsafe(N):new P(N)};$.prototype.toArrayLike=function(P,N,L){this._strip();var W=this.byteLength(),Z=L||Math.max(1,W);q(W<=Z,"byte array longer than desired length"),q(Z>0,"Requested array length <= 0");var U=re(P,Z),M=N==="le"?"LE":"BE";return this["_toArrayLike"+M](U,W),U},$.prototype._toArrayLikeLE=function(P,N){for(var L=0,W=0,Z=0,U=0;Z<this.length;Z++){var M=this.words[Z]<<U|W;P[L++]=M&255,L<P.length&&(P[L++]=M>>8&255),L<P.length&&(P[L++]=M>>16&255),U===6?(L<P.length&&(P[L++]=M>>24&255),W=0,U=0):(W=M>>>24,U+=2)}if(L<P.length)for(P[L++]=W;L<P.length;)P[L++]=0},$.prototype._toArrayLikeBE=function(P,N){for(var L=P.length-1,W=0,Z=0,U=0;Z<this.length;Z++){var M=this.words[Z]<<U|W;P[L--]=M&255,L>=0&&(P[L--]=M>>8&255),L>=0&&(P[L--]=M>>16&255),U===6?(L>=0&&(P[L--]=M>>24&255),W=0,U=0):(W=M>>>24,U+=2)}if(L>=0)for(P[L--]=W;L>=0;)P[L--]=0},Math.clz32?$.prototype._countBits=function(P){return 32-Math.clz32(P)}:$.prototype._countBits=function(P){var N=P,L=0;return N>=4096&&(L+=13,N>>>=13),N>=64&&(L+=7,N>>>=7),N>=8&&(L+=4,N>>>=4),N>=2&&(L+=2,N>>>=2),L+N},$.prototype._zeroBits=function(P){if(P===0)return 26;var N=P,L=0;return N&8191||(L+=13,N>>>=13),N&127||(L+=7,N>>>=7),N&15||(L+=4,N>>>=4),N&3||(L+=2,N>>>=2),N&1||L++,L},$.prototype.bitLength=function(){var P=this.words[this.length-1],N=this._countBits(P);return(this.length-1)*26+N};function ne(T){for(var P=new Array(T.bitLength()),N=0;N<P.length;N++){var L=N/26|0,W=N%26;P[N]=T.words[L]>>>W&1}return P}$.prototype.zeroBits=function(){if(this.isZero())return 0;for(var P=0,N=0;N<this.length;N++){var L=this._zeroBits(this.words[N]);if(P+=L,L!==26)break}return P},$.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},$.prototype.toTwos=function(P){return this.negative!==0?this.abs().inotn(P).iaddn(1):this.clone()},$.prototype.fromTwos=function(P){return this.testn(P-1)?this.notn(P).iaddn(1).ineg():this.clone()},$.prototype.isNeg=function(){return this.negative!==0},$.prototype.neg=function(){return this.clone().ineg()},$.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},$.prototype.iuor=function(P){for(;this.length<P.length;)this.words[this.length++]=0;for(var N=0;N<P.length;N++)this.words[N]=this.words[N]|P.words[N];return this._strip()},$.prototype.ior=function(P){return q((this.negative|P.negative)===0),this.iuor(P)},$.prototype.or=function(P){return this.length>P.length?this.clone().ior(P):P.clone().ior(this)},$.prototype.uor=function(P){return this.length>P.length?this.clone().iuor(P):P.clone().iuor(this)},$.prototype.iuand=function(P){var N;this.length>P.length?N=P:N=this;for(var L=0;L<N.length;L++)this.words[L]=this.words[L]&P.words[L];return this.length=N.length,this._strip()},$.prototype.iand=function(P){return q((this.negative|P.negative)===0),this.iuand(P)},$.prototype.and=function(P){return this.length>P.length?this.clone().iand(P):P.clone().iand(this)},$.prototype.uand=function(P){return this.length>P.length?this.clone().iuand(P):P.clone().iuand(this)},$.prototype.iuxor=function(P){var N,L;this.length>P.length?(N=this,L=P):(N=P,L=this);for(var W=0;W<L.length;W++)this.words[W]=N.words[W]^L.words[W];if(this!==N)for(;W<N.length;W++)this.words[W]=N.words[W];return this.length=N.length,this._strip()},$.prototype.ixor=function(P){return q((this.negative|P.negative)===0),this.iuxor(P)},$.prototype.xor=function(P){return this.length>P.length?this.clone().ixor(P):P.clone().ixor(this)},$.prototype.uxor=function(P){return this.length>P.length?this.clone().iuxor(P):P.clone().iuxor(this)},$.prototype.inotn=function(P){q(typeof P=="number"&&P>=0);var N=Math.ceil(P/26)|0,L=P%26;this._expand(N),L>0&&N--;for(var W=0;W<N;W++)this.words[W]=~this.words[W]&67108863;return L>0&&(this.words[W]=~this.words[W]&67108863>>26-L),this._strip()},$.prototype.notn=function(P){return this.clone().inotn(P)},$.prototype.setn=function(P,N){q(typeof P=="number"&&P>=0);var L=P/26|0,W=P%26;return this._expand(L+1),N?this.words[L]=this.words[L]|1<<W:this.words[L]=this.words[L]&~(1<<W),this._strip()},$.prototype.iadd=function(P){var N;if(this.negative!==0&&P.negative===0)return this.negative=0,N=this.isub(P),this.negative^=1,this._normSign();if(this.negative===0&&P.negative!==0)return P.negative=0,N=this.isub(P),P.negative=1,N._normSign();var L,W;this.length>P.length?(L=this,W=P):(L=P,W=this);for(var Z=0,U=0;U<W.length;U++)N=(L.words[U]|0)+(W.words[U]|0)+Z,this.words[U]=N&67108863,Z=N>>>26;for(;Z!==0&&U<L.length;U++)N=(L.words[U]|0)+Z,this.words[U]=N&67108863,Z=N>>>26;if(this.length=L.length,Z!==0)this.words[this.length]=Z,this.length++;else if(L!==this)for(;U<L.length;U++)this.words[U]=L.words[U];return this},$.prototype.add=function(P){var N;return P.negative!==0&&this.negative===0?(P.negative=0,N=this.sub(P),P.negative^=1,N):P.negative===0&&this.negative!==0?(this.negative=0,N=P.sub(this),this.negative=1,N):this.length>P.length?this.clone().iadd(P):P.clone().iadd(this)},$.prototype.isub=function(P){if(P.negative!==0){P.negative=0;var N=this.iadd(P);return P.negative=1,N._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(P),this.negative=1,this._normSign();var L=this.cmp(P);if(L===0)return this.negative=0,this.length=1,this.words[0]=0,this;var W,Z;L>0?(W=this,Z=P):(W=P,Z=this);for(var U=0,M=0;M<Z.length;M++)N=(W.words[M]|0)-(Z.words[M]|0)+U,U=N>>26,this.words[M]=N&67108863;for(;U!==0&&M<W.length;M++)N=(W.words[M]|0)+U,U=N>>26,this.words[M]=N&67108863;if(U===0&&M<W.length&&W!==this)for(;M<W.length;M++)this.words[M]=W.words[M];return this.length=Math.max(this.length,M),W!==this&&(this.negative=1),this._strip()},$.prototype.sub=function(P){return this.clone().isub(P)};function se(T,P,N){N.negative=P.negative^T.negative;var L=T.length+P.length|0;N.length=L,L=L-1|0;var W=T.words[0]|0,Z=P.words[0]|0,U=W*Z,M=U&67108863,F=U/67108864|0;N.words[0]=M;for(var te=1;te<L;te++){for(var ie=F>>>26,he=F&67108863,pe=Math.min(te,P.length-1),de=Math.max(0,te-T.length+1);de<=pe;de++){var oe=te-de|0;W=T.words[oe]|0,Z=P.words[de]|0,U=W*Z+he,ie+=U/67108864|0,he=U&67108863}N.words[te]=he|0,F=ie|0}return F!==0?N.words[te]=F|0:N.length--,N._strip()}var ae=function(P,N,L){var W=P.words,Z=N.words,U=L.words,M=0,F,te,ie,he=W[0]|0,pe=he&8191,de=he>>>13,oe=W[1]|0,le=oe&8191,ve=oe>>>13,Me=W[2]|0,ye=Me&8191,ce=Me>>>13,Se=W[3]|0,et=Se&8191,ke=Se>>>13,De=W[4]|0,ot=De&8191,Le=De>>>13,$e=W[5]|0,lt=$e&8191,Ne=$e>>>13,We=W[6]|0,ct=We&8191,Ue=We>>>13,Ye=W[7]|0,mt=Ye&8191,Fe=Ye>>>13,Xe=W[8]|0,_t=Xe&8191,Ve=Xe>>>13,it=W[9]|0,vt=it&8191,He=it>>>13,nt=Z[0]|0,yt=nt&8191,Ke=nt>>>13,st=Z[1]|0,bt=st&8191,Ge=st>>>13,rt=Z[2]|0,wt=rt&8191,je=rt>>>13,Qe=Z[3]|0,gt=Qe&8191,we=Qe>>>13,me=Z[4]|0,Ee=me&8191,xe=me>>>13,Re=Z[5]|0,Je=Re&8191,Ce=Re>>>13,Ie=Z[6]|0,at=Ie&8191,Be=Ie>>>13,Oe=Z[7]|0,ft=Oe&8191,qe=Oe>>>13,Ze=Z[8]|0,ht=Ze&8191,ze=Ze>>>13,tt=Z[9]|0,dt=tt&8191,pt=tt>>>13;L.negative=P.negative^N.negative,L.length=19,F=Math.imul(pe,yt),te=Math.imul(pe,Ke),te=te+Math.imul(de,yt)|0,ie=Math.imul(de,Ke);var xt=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(xt>>>26)|0,xt&=67108863,F=Math.imul(le,yt),te=Math.imul(le,Ke),te=te+Math.imul(ve,yt)|0,ie=Math.imul(ve,Ke),F=F+Math.imul(pe,bt)|0,te=te+Math.imul(pe,Ge)|0,te=te+Math.imul(de,bt)|0,ie=ie+Math.imul(de,Ge)|0;var St=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(St>>>26)|0,St&=67108863,F=Math.imul(ye,yt),te=Math.imul(ye,Ke),te=te+Math.imul(ce,yt)|0,ie=Math.imul(ce,Ke),F=F+Math.imul(le,bt)|0,te=te+Math.imul(le,Ge)|0,te=te+Math.imul(ve,bt)|0,ie=ie+Math.imul(ve,Ge)|0,F=F+Math.imul(pe,wt)|0,te=te+Math.imul(pe,je)|0,te=te+Math.imul(de,wt)|0,ie=ie+Math.imul(de,je)|0;var Mt=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,F=Math.imul(et,yt),te=Math.imul(et,Ke),te=te+Math.imul(ke,yt)|0,ie=Math.imul(ke,Ke),F=F+Math.imul(ye,bt)|0,te=te+Math.imul(ye,Ge)|0,te=te+Math.imul(ce,bt)|0,ie=ie+Math.imul(ce,Ge)|0,F=F+Math.imul(le,wt)|0,te=te+Math.imul(le,je)|0,te=te+Math.imul(ve,wt)|0,ie=ie+Math.imul(ve,je)|0,F=F+Math.imul(pe,gt)|0,te=te+Math.imul(pe,we)|0,te=te+Math.imul(de,gt)|0,ie=ie+Math.imul(de,we)|0;var Et=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(Et>>>26)|0,Et&=67108863,F=Math.imul(ot,yt),te=Math.imul(ot,Ke),te=te+Math.imul(Le,yt)|0,ie=Math.imul(Le,Ke),F=F+Math.imul(et,bt)|0,te=te+Math.imul(et,Ge)|0,te=te+Math.imul(ke,bt)|0,ie=ie+Math.imul(ke,Ge)|0,F=F+Math.imul(ye,wt)|0,te=te+Math.imul(ye,je)|0,te=te+Math.imul(ce,wt)|0,ie=ie+Math.imul(ce,je)|0,F=F+Math.imul(le,gt)|0,te=te+Math.imul(le,we)|0,te=te+Math.imul(ve,gt)|0,ie=ie+Math.imul(ve,we)|0,F=F+Math.imul(pe,Ee)|0,te=te+Math.imul(pe,xe)|0,te=te+Math.imul(de,Ee)|0,ie=ie+Math.imul(de,xe)|0;var At=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(At>>>26)|0,At&=67108863,F=Math.imul(lt,yt),te=Math.imul(lt,Ke),te=te+Math.imul(Ne,yt)|0,ie=Math.imul(Ne,Ke),F=F+Math.imul(ot,bt)|0,te=te+Math.imul(ot,Ge)|0,te=te+Math.imul(Le,bt)|0,ie=ie+Math.imul(Le,Ge)|0,F=F+Math.imul(et,wt)|0,te=te+Math.imul(et,je)|0,te=te+Math.imul(ke,wt)|0,ie=ie+Math.imul(ke,je)|0,F=F+Math.imul(ye,gt)|0,te=te+Math.imul(ye,we)|0,te=te+Math.imul(ce,gt)|0,ie=ie+Math.imul(ce,we)|0,F=F+Math.imul(le,Ee)|0,te=te+Math.imul(le,xe)|0,te=te+Math.imul(ve,Ee)|0,ie=ie+Math.imul(ve,xe)|0,F=F+Math.imul(pe,Je)|0,te=te+Math.imul(pe,Ce)|0,te=te+Math.imul(de,Je)|0,ie=ie+Math.imul(de,Ce)|0;var Rt=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,F=Math.imul(ct,yt),te=Math.imul(ct,Ke),te=te+Math.imul(Ue,yt)|0,ie=Math.imul(Ue,Ke),F=F+Math.imul(lt,bt)|0,te=te+Math.imul(lt,Ge)|0,te=te+Math.imul(Ne,bt)|0,ie=ie+Math.imul(Ne,Ge)|0,F=F+Math.imul(ot,wt)|0,te=te+Math.imul(ot,je)|0,te=te+Math.imul(Le,wt)|0,ie=ie+Math.imul(Le,je)|0,F=F+Math.imul(et,gt)|0,te=te+Math.imul(et,we)|0,te=te+Math.imul(ke,gt)|0,ie=ie+Math.imul(ke,we)|0,F=F+Math.imul(ye,Ee)|0,te=te+Math.imul(ye,xe)|0,te=te+Math.imul(ce,Ee)|0,ie=ie+Math.imul(ce,xe)|0,F=F+Math.imul(le,Je)|0,te=te+Math.imul(le,Ce)|0,te=te+Math.imul(ve,Je)|0,ie=ie+Math.imul(ve,Ce)|0,F=F+Math.imul(pe,at)|0,te=te+Math.imul(pe,Be)|0,te=te+Math.imul(de,at)|0,ie=ie+Math.imul(de,Be)|0;var Tt=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,F=Math.imul(mt,yt),te=Math.imul(mt,Ke),te=te+Math.imul(Fe,yt)|0,ie=Math.imul(Fe,Ke),F=F+Math.imul(ct,bt)|0,te=te+Math.imul(ct,Ge)|0,te=te+Math.imul(Ue,bt)|0,ie=ie+Math.imul(Ue,Ge)|0,F=F+Math.imul(lt,wt)|0,te=te+Math.imul(lt,je)|0,te=te+Math.imul(Ne,wt)|0,ie=ie+Math.imul(Ne,je)|0,F=F+Math.imul(ot,gt)|0,te=te+Math.imul(ot,we)|0,te=te+Math.imul(Le,gt)|0,ie=ie+Math.imul(Le,we)|0,F=F+Math.imul(et,Ee)|0,te=te+Math.imul(et,xe)|0,te=te+Math.imul(ke,Ee)|0,ie=ie+Math.imul(ke,xe)|0,F=F+Math.imul(ye,Je)|0,te=te+Math.imul(ye,Ce)|0,te=te+Math.imul(ce,Je)|0,ie=ie+Math.imul(ce,Ce)|0,F=F+Math.imul(le,at)|0,te=te+Math.imul(le,Be)|0,te=te+Math.imul(ve,at)|0,ie=ie+Math.imul(ve,Be)|0,F=F+Math.imul(pe,ft)|0,te=te+Math.imul(pe,qe)|0,te=te+Math.imul(de,ft)|0,ie=ie+Math.imul(de,qe)|0;var $t=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+($t>>>26)|0,$t&=67108863,F=Math.imul(_t,yt),te=Math.imul(_t,Ke),te=te+Math.imul(Ve,yt)|0,ie=Math.imul(Ve,Ke),F=F+Math.imul(mt,bt)|0,te=te+Math.imul(mt,Ge)|0,te=te+Math.imul(Fe,bt)|0,ie=ie+Math.imul(Fe,Ge)|0,F=F+Math.imul(ct,wt)|0,te=te+Math.imul(ct,je)|0,te=te+Math.imul(Ue,wt)|0,ie=ie+Math.imul(Ue,je)|0,F=F+Math.imul(lt,gt)|0,te=te+Math.imul(lt,we)|0,te=te+Math.imul(Ne,gt)|0,ie=ie+Math.imul(Ne,we)|0,F=F+Math.imul(ot,Ee)|0,te=te+Math.imul(ot,xe)|0,te=te+Math.imul(Le,Ee)|0,ie=ie+Math.imul(Le,xe)|0,F=F+Math.imul(et,Je)|0,te=te+Math.imul(et,Ce)|0,te=te+Math.imul(ke,Je)|0,ie=ie+Math.imul(ke,Ce)|0,F=F+Math.imul(ye,at)|0,te=te+Math.imul(ye,Be)|0,te=te+Math.imul(ce,at)|0,ie=ie+Math.imul(ce,Be)|0,F=F+Math.imul(le,ft)|0,te=te+Math.imul(le,qe)|0,te=te+Math.imul(ve,ft)|0,ie=ie+Math.imul(ve,qe)|0,F=F+Math.imul(pe,ht)|0,te=te+Math.imul(pe,ze)|0,te=te+Math.imul(de,ht)|0,ie=ie+Math.imul(de,ze)|0;var Ct=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,F=Math.imul(vt,yt),te=Math.imul(vt,Ke),te=te+Math.imul(He,yt)|0,ie=Math.imul(He,Ke),F=F+Math.imul(_t,bt)|0,te=te+Math.imul(_t,Ge)|0,te=te+Math.imul(Ve,bt)|0,ie=ie+Math.imul(Ve,Ge)|0,F=F+Math.imul(mt,wt)|0,te=te+Math.imul(mt,je)|0,te=te+Math.imul(Fe,wt)|0,ie=ie+Math.imul(Fe,je)|0,F=F+Math.imul(ct,gt)|0,te=te+Math.imul(ct,we)|0,te=te+Math.imul(Ue,gt)|0,ie=ie+Math.imul(Ue,we)|0,F=F+Math.imul(lt,Ee)|0,te=te+Math.imul(lt,xe)|0,te=te+Math.imul(Ne,Ee)|0,ie=ie+Math.imul(Ne,xe)|0,F=F+Math.imul(ot,Je)|0,te=te+Math.imul(ot,Ce)|0,te=te+Math.imul(Le,Je)|0,ie=ie+Math.imul(Le,Ce)|0,F=F+Math.imul(et,at)|0,te=te+Math.imul(et,Be)|0,te=te+Math.imul(ke,at)|0,ie=ie+Math.imul(ke,Be)|0,F=F+Math.imul(ye,ft)|0,te=te+Math.imul(ye,qe)|0,te=te+Math.imul(ce,ft)|0,ie=ie+Math.imul(ce,qe)|0,F=F+Math.imul(le,ht)|0,te=te+Math.imul(le,ze)|0,te=te+Math.imul(ve,ht)|0,ie=ie+Math.imul(ve,ze)|0,F=F+Math.imul(pe,dt)|0,te=te+Math.imul(pe,pt)|0,te=te+Math.imul(de,dt)|0,ie=ie+Math.imul(de,pt)|0;var It=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(It>>>26)|0,It&=67108863,F=Math.imul(vt,bt),te=Math.imul(vt,Ge),te=te+Math.imul(He,bt)|0,ie=Math.imul(He,Ge),F=F+Math.imul(_t,wt)|0,te=te+Math.imul(_t,je)|0,te=te+Math.imul(Ve,wt)|0,ie=ie+Math.imul(Ve,je)|0,F=F+Math.imul(mt,gt)|0,te=te+Math.imul(mt,we)|0,te=te+Math.imul(Fe,gt)|0,ie=ie+Math.imul(Fe,we)|0,F=F+Math.imul(ct,Ee)|0,te=te+Math.imul(ct,xe)|0,te=te+Math.imul(Ue,Ee)|0,ie=ie+Math.imul(Ue,xe)|0,F=F+Math.imul(lt,Je)|0,te=te+Math.imul(lt,Ce)|0,te=te+Math.imul(Ne,Je)|0,ie=ie+Math.imul(Ne,Ce)|0,F=F+Math.imul(ot,at)|0,te=te+Math.imul(ot,Be)|0,te=te+Math.imul(Le,at)|0,ie=ie+Math.imul(Le,Be)|0,F=F+Math.imul(et,ft)|0,te=te+Math.imul(et,qe)|0,te=te+Math.imul(ke,ft)|0,ie=ie+Math.imul(ke,qe)|0,F=F+Math.imul(ye,ht)|0,te=te+Math.imul(ye,ze)|0,te=te+Math.imul(ce,ht)|0,ie=ie+Math.imul(ce,ze)|0,F=F+Math.imul(le,dt)|0,te=te+Math.imul(le,pt)|0,te=te+Math.imul(ve,dt)|0,ie=ie+Math.imul(ve,pt)|0;var Bt=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,F=Math.imul(vt,wt),te=Math.imul(vt,je),te=te+Math.imul(He,wt)|0,ie=Math.imul(He,je),F=F+Math.imul(_t,gt)|0,te=te+Math.imul(_t,we)|0,te=te+Math.imul(Ve,gt)|0,ie=ie+Math.imul(Ve,we)|0,F=F+Math.imul(mt,Ee)|0,te=te+Math.imul(mt,xe)|0,te=te+Math.imul(Fe,Ee)|0,ie=ie+Math.imul(Fe,xe)|0,F=F+Math.imul(ct,Je)|0,te=te+Math.imul(ct,Ce)|0,te=te+Math.imul(Ue,Je)|0,ie=ie+Math.imul(Ue,Ce)|0,F=F+Math.imul(lt,at)|0,te=te+Math.imul(lt,Be)|0,te=te+Math.imul(Ne,at)|0,ie=ie+Math.imul(Ne,Be)|0,F=F+Math.imul(ot,ft)|0,te=te+Math.imul(ot,qe)|0,te=te+Math.imul(Le,ft)|0,ie=ie+Math.imul(Le,qe)|0,F=F+Math.imul(et,ht)|0,te=te+Math.imul(et,ze)|0,te=te+Math.imul(ke,ht)|0,ie=ie+Math.imul(ke,ze)|0,F=F+Math.imul(ye,dt)|0,te=te+Math.imul(ye,pt)|0,te=te+Math.imul(ce,dt)|0,ie=ie+Math.imul(ce,pt)|0;var kt=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(kt>>>26)|0,kt&=67108863,F=Math.imul(vt,gt),te=Math.imul(vt,we),te=te+Math.imul(He,gt)|0,ie=Math.imul(He,we),F=F+Math.imul(_t,Ee)|0,te=te+Math.imul(_t,xe)|0,te=te+Math.imul(Ve,Ee)|0,ie=ie+Math.imul(Ve,xe)|0,F=F+Math.imul(mt,Je)|0,te=te+Math.imul(mt,Ce)|0,te=te+Math.imul(Fe,Je)|0,ie=ie+Math.imul(Fe,Ce)|0,F=F+Math.imul(ct,at)|0,te=te+Math.imul(ct,Be)|0,te=te+Math.imul(Ue,at)|0,ie=ie+Math.imul(Ue,Be)|0,F=F+Math.imul(lt,ft)|0,te=te+Math.imul(lt,qe)|0,te=te+Math.imul(Ne,ft)|0,ie=ie+Math.imul(Ne,qe)|0,F=F+Math.imul(ot,ht)|0,te=te+Math.imul(ot,ze)|0,te=te+Math.imul(Le,ht)|0,ie=ie+Math.imul(Le,ze)|0,F=F+Math.imul(et,dt)|0,te=te+Math.imul(et,pt)|0,te=te+Math.imul(ke,dt)|0,ie=ie+Math.imul(ke,pt)|0;var Dt=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,F=Math.imul(vt,Ee),te=Math.imul(vt,xe),te=te+Math.imul(He,Ee)|0,ie=Math.imul(He,xe),F=F+Math.imul(_t,Je)|0,te=te+Math.imul(_t,Ce)|0,te=te+Math.imul(Ve,Je)|0,ie=ie+Math.imul(Ve,Ce)|0,F=F+Math.imul(mt,at)|0,te=te+Math.imul(mt,Be)|0,te=te+Math.imul(Fe,at)|0,ie=ie+Math.imul(Fe,Be)|0,F=F+Math.imul(ct,ft)|0,te=te+Math.imul(ct,qe)|0,te=te+Math.imul(Ue,ft)|0,ie=ie+Math.imul(Ue,qe)|0,F=F+Math.imul(lt,ht)|0,te=te+Math.imul(lt,ze)|0,te=te+Math.imul(Ne,ht)|0,ie=ie+Math.imul(Ne,ze)|0,F=F+Math.imul(ot,dt)|0,te=te+Math.imul(ot,pt)|0,te=te+Math.imul(Le,dt)|0,ie=ie+Math.imul(Le,pt)|0;var qt=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(qt>>>26)|0,qt&=67108863,F=Math.imul(vt,Je),te=Math.imul(vt,Ce),te=te+Math.imul(He,Je)|0,ie=Math.imul(He,Ce),F=F+Math.imul(_t,at)|0,te=te+Math.imul(_t,Be)|0,te=te+Math.imul(Ve,at)|0,ie=ie+Math.imul(Ve,Be)|0,F=F+Math.imul(mt,ft)|0,te=te+Math.imul(mt,qe)|0,te=te+Math.imul(Fe,ft)|0,ie=ie+Math.imul(Fe,qe)|0,F=F+Math.imul(ct,ht)|0,te=te+Math.imul(ct,ze)|0,te=te+Math.imul(Ue,ht)|0,ie=ie+Math.imul(Ue,ze)|0,F=F+Math.imul(lt,dt)|0,te=te+Math.imul(lt,pt)|0,te=te+Math.imul(Ne,dt)|0,ie=ie+Math.imul(Ne,pt)|0;var Pt=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,F=Math.imul(vt,at),te=Math.imul(vt,Be),te=te+Math.imul(He,at)|0,ie=Math.imul(He,Be),F=F+Math.imul(_t,ft)|0,te=te+Math.imul(_t,qe)|0,te=te+Math.imul(Ve,ft)|0,ie=ie+Math.imul(Ve,qe)|0,F=F+Math.imul(mt,ht)|0,te=te+Math.imul(mt,ze)|0,te=te+Math.imul(Fe,ht)|0,ie=ie+Math.imul(Fe,ze)|0,F=F+Math.imul(ct,dt)|0,te=te+Math.imul(ct,pt)|0,te=te+Math.imul(Ue,dt)|0,ie=ie+Math.imul(Ue,pt)|0;var Nt=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,F=Math.imul(vt,ft),te=Math.imul(vt,qe),te=te+Math.imul(He,ft)|0,ie=Math.imul(He,qe),F=F+Math.imul(_t,ht)|0,te=te+Math.imul(_t,ze)|0,te=te+Math.imul(Ve,ht)|0,ie=ie+Math.imul(Ve,ze)|0,F=F+Math.imul(mt,dt)|0,te=te+Math.imul(mt,pt)|0,te=te+Math.imul(Fe,dt)|0,ie=ie+Math.imul(Fe,pt)|0;var Ot=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,F=Math.imul(vt,ht),te=Math.imul(vt,ze),te=te+Math.imul(He,ht)|0,ie=Math.imul(He,ze),F=F+Math.imul(_t,dt)|0,te=te+Math.imul(_t,pt)|0,te=te+Math.imul(Ve,dt)|0,ie=ie+Math.imul(Ve,pt)|0;var Ht=(M+F|0)+((te&8191)<<13)|0;M=(ie+(te>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,F=Math.imul(vt,dt),te=Math.imul(vt,pt),te=te+Math.imul(He,dt)|0,ie=Math.imul(He,pt);var Wt=(M+F|0)+((te&8191)<<13)|0;return M=(ie+(te>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,U[0]=xt,U[1]=St,U[2]=Mt,U[3]=Et,U[4]=At,U[5]=Rt,U[6]=Tt,U[7]=$t,U[8]=Ct,U[9]=It,U[10]=Bt,U[11]=kt,U[12]=Dt,U[13]=qt,U[14]=Pt,U[15]=Nt,U[16]=Ot,U[17]=Ht,U[18]=Wt,M!==0&&(U[19]=M,L.length++),L};Math.imul||(ae=se);function fe(T,P,N){N.negative=P.negative^T.negative,N.length=T.length+P.length;for(var L=0,W=0,Z=0;Z<N.length-1;Z++){var U=W;W=0;for(var M=L&67108863,F=Math.min(Z,P.length-1),te=Math.max(0,Z-T.length+1);te<=F;te++){var ie=Z-te,he=T.words[ie]|0,pe=P.words[te]|0,de=he*pe,oe=de&67108863;U=U+(de/67108864|0)|0,oe=oe+M|0,M=oe&67108863,U=U+(oe>>>26)|0,W+=U>>>26,U&=67108863}N.words[Z]=M,L=U,U=W}return L!==0?N.words[Z]=L:N.length--,N._strip()}function ue(T,P,N){return fe(T,P,N)}$.prototype.mulTo=function(P,N){var L,W=this.length+P.length;return this.length===10&&P.length===10?L=ae(this,P,N):W<63?L=se(this,P,N):W<1024?L=fe(this,P,N):L=ue(this,P,N),L},$.prototype.mul=function(P){var N=new $(null);return N.words=new Array(this.length+P.length),this.mulTo(P,N)},$.prototype.mulf=function(P){var N=new $(null);return N.words=new Array(this.length+P.length),ue(this,P,N)},$.prototype.imul=function(P){return this.clone().mulTo(P,this)},$.prototype.imuln=function(P){var N=P<0;N&&(P=-P),q(typeof P=="number"),q(P<67108864);for(var L=0,W=0;W<this.length;W++){var Z=(this.words[W]|0)*P,U=(Z&67108863)+(L&67108863);L>>=26,L+=Z/67108864|0,L+=U>>>26,this.words[W]=U&67108863}return L!==0&&(this.words[W]=L,this.length++),N?this.ineg():this},$.prototype.muln=function(P){return this.clone().imuln(P)},$.prototype.sqr=function(){return this.mul(this)},$.prototype.isqr=function(){return this.imul(this.clone())},$.prototype.pow=function(P){var N=ne(P);if(N.length===0)return new $(1);for(var L=this,W=0;W<N.length&&N[W]===0;W++,L=L.sqr());if(++W<N.length)for(var Z=L.sqr();W<N.length;W++,Z=Z.sqr())N[W]!==0&&(L=L.mul(Z));return L},$.prototype.iushln=function(P){q(typeof P=="number"&&P>=0);var N=P%26,L=(P-N)/26,W=67108863>>>26-N<<26-N,Z;if(N!==0){var U=0;for(Z=0;Z<this.length;Z++){var M=this.words[Z]&W,F=(this.words[Z]|0)-M<<N;this.words[Z]=F|U,U=M>>>26-N}U&&(this.words[Z]=U,this.length++)}if(L!==0){for(Z=this.length-1;Z>=0;Z--)this.words[Z+L]=this.words[Z];for(Z=0;Z<L;Z++)this.words[Z]=0;this.length+=L}return this._strip()},$.prototype.ishln=function(P){return q(this.negative===0),this.iushln(P)},$.prototype.iushrn=function(P,N,L){q(typeof P=="number"&&P>=0);var W;N?W=(N-N%26)/26:W=0;var Z=P%26,U=Math.min((P-Z)/26,this.length),M=67108863^67108863>>>Z<<Z,F=L;if(W-=U,W=Math.max(0,W),F){for(var te=0;te<U;te++)F.words[te]=this.words[te];F.length=U}if(U!==0)if(this.length>U)for(this.length-=U,te=0;te<this.length;te++)this.words[te]=this.words[te+U];else this.words[0]=0,this.length=1;var ie=0;for(te=this.length-1;te>=0&&(ie!==0||te>=W);te--){var he=this.words[te]|0;this.words[te]=ie<<26-Z|he>>>Z,ie=he&M}return F&&ie!==0&&(F.words[F.length++]=ie),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},$.prototype.ishrn=function(P,N,L){return q(this.negative===0),this.iushrn(P,N,L)},$.prototype.shln=function(P){return this.clone().ishln(P)},$.prototype.ushln=function(P){return this.clone().iushln(P)},$.prototype.shrn=function(P){return this.clone().ishrn(P)},$.prototype.ushrn=function(P){return this.clone().iushrn(P)},$.prototype.testn=function(P){q(typeof P=="number"&&P>=0);var N=P%26,L=(P-N)/26,W=1<<N;if(this.length<=L)return!1;var Z=this.words[L];return!!(Z&W)},$.prototype.imaskn=function(P){q(typeof P=="number"&&P>=0);var N=P%26,L=(P-N)/26;if(q(this.negative===0,"imaskn works only with positive numbers"),this.length<=L)return this;if(N!==0&&L++,this.length=Math.min(L,this.length),N!==0){var W=67108863^67108863>>>N<<N;this.words[this.length-1]&=W}return this._strip()},$.prototype.maskn=function(P){return this.clone().imaskn(P)},$.prototype.iaddn=function(P){return q(typeof P=="number"),q(P<67108864),P<0?this.isubn(-P):this.negative!==0?this.length===1&&(this.words[0]|0)<=P?(this.words[0]=P-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(P),this.negative=1,this):this._iaddn(P)},$.prototype._iaddn=function(P){this.words[0]+=P;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},$.prototype.isubn=function(P){if(q(typeof P=="number"),q(P<67108864),P<0)return this.iaddn(-P);if(this.negative!==0)return this.negative=0,this.iaddn(P),this.negative=1,this;if(this.words[0]-=P,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this._strip()},$.prototype.addn=function(P){return this.clone().iaddn(P)},$.prototype.subn=function(P){return this.clone().isubn(P)},$.prototype.iabs=function(){return this.negative=0,this},$.prototype.abs=function(){return this.clone().iabs()},$.prototype._ishlnsubmul=function(P,N,L){var W=P.length+L,Z;this._expand(W);var U,M=0;for(Z=0;Z<P.length;Z++){U=(this.words[Z+L]|0)+M;var F=(P.words[Z]|0)*N;U-=F&67108863,M=(U>>26)-(F/67108864|0),this.words[Z+L]=U&67108863}for(;Z<this.length-L;Z++)U=(this.words[Z+L]|0)+M,M=U>>26,this.words[Z+L]=U&67108863;if(M===0)return this._strip();for(q(M===-1),M=0,Z=0;Z<this.length;Z++)U=-(this.words[Z]|0)+M,M=U>>26,this.words[Z]=U&67108863;return this.negative=1,this._strip()},$.prototype._wordDiv=function(P,N){var L=this.length-P.length,W=this.clone(),Z=P,U=Z.words[Z.length-1]|0,M=this._countBits(U);L=26-M,L!==0&&(Z=Z.ushln(L),W.iushln(L),U=Z.words[Z.length-1]|0);var F=W.length-Z.length,te;if(N!=="mod"){te=new $(null),te.length=F+1,te.words=new Array(te.length);for(var ie=0;ie<te.length;ie++)te.words[ie]=0}var he=W.clone()._ishlnsubmul(Z,1,F);he.negative===0&&(W=he,te&&(te.words[F]=1));for(var pe=F-1;pe>=0;pe--){var de=(W.words[Z.length+pe]|0)*67108864+(W.words[Z.length+pe-1]|0);for(de=Math.min(de/U|0,67108863),W._ishlnsubmul(Z,de,pe);W.negative!==0;)de--,W.negative=0,W._ishlnsubmul(Z,1,pe),W.isZero()||(W.negative^=1);te&&(te.words[pe]=de)}return te&&te._strip(),W._strip(),N!=="div"&&L!==0&&W.iushrn(L),{div:te||null,mod:W}},$.prototype.divmod=function(P,N,L){if(q(!P.isZero()),this.isZero())return{div:new $(0),mod:new $(0)};var W,Z,U;return this.negative!==0&&P.negative===0?(U=this.neg().divmod(P,N),N!=="mod"&&(W=U.div.neg()),N!=="div"&&(Z=U.mod.neg(),L&&Z.negative!==0&&Z.iadd(P)),{div:W,mod:Z}):this.negative===0&&P.negative!==0?(U=this.divmod(P.neg(),N),N!=="mod"&&(W=U.div.neg()),{div:W,mod:U.mod}):this.negative&P.negative?(U=this.neg().divmod(P.neg(),N),N!=="div"&&(Z=U.mod.neg(),L&&Z.negative!==0&&Z.isub(P)),{div:U.div,mod:Z}):P.length>this.length||this.cmp(P)<0?{div:new $(0),mod:this}:P.length===1?N==="div"?{div:this.divn(P.words[0]),mod:null}:N==="mod"?{div:null,mod:new $(this.modrn(P.words[0]))}:{div:this.divn(P.words[0]),mod:new $(this.modrn(P.words[0]))}:this._wordDiv(P,N)},$.prototype.div=function(P){return this.divmod(P,"div",!1).div},$.prototype.mod=function(P){return this.divmod(P,"mod",!1).mod},$.prototype.umod=function(P){return this.divmod(P,"mod",!0).mod},$.prototype.divRound=function(P){var N=this.divmod(P);if(N.mod.isZero())return N.div;var L=N.div.negative!==0?N.mod.isub(P):N.mod,W=P.ushrn(1),Z=P.andln(1),U=L.cmp(W);return U<0||Z===1&&U===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},$.prototype.modrn=function(P){var N=P<0;N&&(P=-P),q(P<=67108863);for(var L=(1<<26)%P,W=0,Z=this.length-1;Z>=0;Z--)W=(L*W+(this.words[Z]|0))%P;return N?-W:W},$.prototype.modn=function(P){return this.modrn(P)},$.prototype.idivn=function(P){var N=P<0;N&&(P=-P),q(P<=67108863);for(var L=0,W=this.length-1;W>=0;W--){var Z=(this.words[W]|0)+L*67108864;this.words[W]=Z/P|0,L=Z%P}return this._strip(),N?this.ineg():this},$.prototype.divn=function(P){return this.clone().idivn(P)},$.prototype.egcd=function(P){q(P.negative===0),q(!P.isZero());var N=this,L=P.clone();N.negative!==0?N=N.umod(P):N=N.clone();for(var W=new $(1),Z=new $(0),U=new $(0),M=new $(1),F=0;N.isEven()&&L.isEven();)N.iushrn(1),L.iushrn(1),++F;for(var te=L.clone(),ie=N.clone();!N.isZero();){for(var he=0,pe=1;!(N.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(N.iushrn(he);he-- >0;)(W.isOdd()||Z.isOdd())&&(W.iadd(te),Z.isub(ie)),W.iushrn(1),Z.iushrn(1);for(var de=0,oe=1;!(L.words[0]&oe)&&de<26;++de,oe<<=1);if(de>0)for(L.iushrn(de);de-- >0;)(U.isOdd()||M.isOdd())&&(U.iadd(te),M.isub(ie)),U.iushrn(1),M.iushrn(1);N.cmp(L)>=0?(N.isub(L),W.isub(U),Z.isub(M)):(L.isub(N),U.isub(W),M.isub(Z))}return{a:U,b:M,gcd:L.iushln(F)}},$.prototype._invmp=function(P){q(P.negative===0),q(!P.isZero());var N=this,L=P.clone();N.negative!==0?N=N.umod(P):N=N.clone();for(var W=new $(1),Z=new $(0),U=L.clone();N.cmpn(1)>0&&L.cmpn(1)>0;){for(var M=0,F=1;!(N.words[0]&F)&&M<26;++M,F<<=1);if(M>0)for(N.iushrn(M);M-- >0;)W.isOdd()&&W.iadd(U),W.iushrn(1);for(var te=0,ie=1;!(L.words[0]&ie)&&te<26;++te,ie<<=1);if(te>0)for(L.iushrn(te);te-- >0;)Z.isOdd()&&Z.iadd(U),Z.iushrn(1);N.cmp(L)>=0?(N.isub(L),W.isub(Z)):(L.isub(N),Z.isub(W))}var he;return N.cmpn(1)===0?he=W:he=Z,he.cmpn(0)<0&&he.iadd(P),he},$.prototype.gcd=function(P){if(this.isZero())return P.abs();if(P.isZero())return this.abs();var N=this.clone(),L=P.clone();N.negative=0,L.negative=0;for(var W=0;N.isEven()&&L.isEven();W++)N.iushrn(1),L.iushrn(1);do{for(;N.isEven();)N.iushrn(1);for(;L.isEven();)L.iushrn(1);var Z=N.cmp(L);if(Z<0){var U=N;N=L,L=U}else if(Z===0||L.cmpn(1)===0)break;N.isub(L)}while(!0);return L.iushln(W)},$.prototype.invm=function(P){return this.egcd(P).a.umod(P)},$.prototype.isEven=function(){return(this.words[0]&1)===0},$.prototype.isOdd=function(){return(this.words[0]&1)===1},$.prototype.andln=function(P){return this.words[0]&P},$.prototype.bincn=function(P){q(typeof P=="number");var N=P%26,L=(P-N)/26,W=1<<N;if(this.length<=L)return this._expand(L+1),this.words[L]|=W,this;for(var Z=W,U=L;Z!==0&&U<this.length;U++){var M=this.words[U]|0;M+=Z,Z=M>>>26,M&=67108863,this.words[U]=M}return Z!==0&&(this.words[U]=Z,this.length++),this},$.prototype.isZero=function(){return this.length===1&&this.words[0]===0},$.prototype.cmpn=function(P){var N=P<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;this._strip();var L;if(this.length>1)L=1;else{N&&(P=-P),q(P<=67108863,"Number is too big");var W=this.words[0]|0;L=W===P?0:W<P?-1:1}return this.negative!==0?-L|0:L},$.prototype.cmp=function(P){if(this.negative!==0&&P.negative===0)return-1;if(this.negative===0&&P.negative!==0)return 1;var N=this.ucmp(P);return this.negative!==0?-N|0:N},$.prototype.ucmp=function(P){if(this.length>P.length)return 1;if(this.length<P.length)return-1;for(var N=0,L=this.length-1;L>=0;L--){var W=this.words[L]|0,Z=P.words[L]|0;if(W!==Z){W<Z?N=-1:W>Z&&(N=1);break}}return N},$.prototype.gtn=function(P){return this.cmpn(P)===1},$.prototype.gt=function(P){return this.cmp(P)===1},$.prototype.gten=function(P){return this.cmpn(P)>=0},$.prototype.gte=function(P){return this.cmp(P)>=0},$.prototype.ltn=function(P){return this.cmpn(P)===-1},$.prototype.lt=function(P){return this.cmp(P)===-1},$.prototype.lten=function(P){return this.cmpn(P)<=0},$.prototype.lte=function(P){return this.cmp(P)<=0},$.prototype.eqn=function(P){return this.cmpn(P)===0},$.prototype.eq=function(P){return this.cmp(P)===0},$.red=function(P){return new J(P)},$.prototype.toRed=function(P){return q(!this.red,"Already a number in reduction context"),q(this.negative===0,"red works only with positives"),P.convertTo(this)._forceRed(P)},$.prototype.fromRed=function(){return q(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},$.prototype._forceRed=function(P){return this.red=P,this},$.prototype.forceRed=function(P){return q(!this.red,"Already a number in reduction context"),this._forceRed(P)},$.prototype.redAdd=function(P){return q(this.red,"redAdd works only with red numbers"),this.red.add(this,P)},$.prototype.redIAdd=function(P){return q(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,P)},$.prototype.redSub=function(P){return q(this.red,"redSub works only with red numbers"),this.red.sub(this,P)},$.prototype.redISub=function(P){return q(this.red,"redISub works only with red numbers"),this.red.isub(this,P)},$.prototype.redShl=function(P){return q(this.red,"redShl works only with red numbers"),this.red.shl(this,P)},$.prototype.redMul=function(P){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.mul(this,P)},$.prototype.redIMul=function(P){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.imul(this,P)},$.prototype.redSqr=function(){return q(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},$.prototype.redISqr=function(){return q(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},$.prototype.redSqrt=function(){return q(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},$.prototype.redInvm=function(){return q(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},$.prototype.redNeg=function(){return q(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},$.prototype.redPow=function(P){return q(this.red&&!P.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,P)};var _e={k256:null,p224:null,p192:null,p25519:null};function ge(T,P){this.name=T,this.p=new $(P,16),this.n=this.p.bitLength(),this.k=new $(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ge.prototype._tmp=function(){var P=new $(null);return P.words=new Array(Math.ceil(this.n/13)),P},ge.prototype.ireduce=function(P){var N=P,L;do this.split(N,this.tmp),N=this.imulK(N),N=N.iadd(this.tmp),L=N.bitLength();while(L>this.n);var W=L<this.n?-1:N.ucmp(this.p);return W===0?(N.words[0]=0,N.length=1):W>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},ge.prototype.split=function(P,N){P.iushrn(this.n,0,N)},ge.prototype.imulK=function(P){return P.imul(this.k)};function Ae(){ge.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(Ae,ge),Ae.prototype.split=function(P,N){for(var L=4194303,W=Math.min(P.length,9),Z=0;Z<W;Z++)N.words[Z]=P.words[Z];if(N.length=W,P.length<=9){P.words[0]=0,P.length=1;return}var U=P.words[9];for(N.words[N.length++]=U&L,Z=10;Z<P.length;Z++){var M=P.words[Z]|0;P.words[Z-10]=(M&L)<<4|U>>>22,U=M}U>>>=22,P.words[Z-10]=U,U===0&&P.length>10?P.length-=10:P.length-=9},Ae.prototype.imulK=function(P){P.words[P.length]=0,P.words[P.length+1]=0,P.length+=2;for(var N=0,L=0;L<P.length;L++){var W=P.words[L]|0;N+=W*977,P.words[L]=N&67108863,N=W*64+(N/67108864|0)}return P.words[P.length-1]===0&&(P.length--,P.words[P.length-1]===0&&P.length--),P};function Te(){ge.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(Te,ge);function be(){ge.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(be,ge);function Pe(){ge.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(Pe,ge),Pe.prototype.imulK=function(P){for(var N=0,L=0;L<P.length;L++){var W=(P.words[L]|0)*19+N,Z=W&67108863;W>>>=26,P.words[L]=Z,N=W}return N!==0&&(P.words[P.length++]=N),P},$._prime=function(P){if(_e[P])return _e[P];var N;if(P==="k256")N=new Ae;else if(P==="p224")N=new Te;else if(P==="p192")N=new be;else if(P==="p25519")N=new Pe;else throw new Error("Unknown prime "+P);return _e[P]=N,N};function J(T){if(typeof T=="string"){var P=$._prime(T);this.m=P.p,this.prime=P}else q(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}J.prototype._verify1=function(P){q(P.negative===0,"red works only with positives"),q(P.red,"red works only with red numbers")},J.prototype._verify2=function(P,N){q((P.negative|N.negative)===0,"red works only with positives"),q(P.red&&P.red===N.red,"red works only with red numbers")},J.prototype.imod=function(P){return this.prime?this.prime.ireduce(P)._forceRed(this):(H(P,P.umod(this.m)._forceRed(this)),P)},J.prototype.neg=function(P){return P.isZero()?P.clone():this.m.sub(P)._forceRed(this)},J.prototype.add=function(P,N){this._verify2(P,N);var L=P.add(N);return L.cmp(this.m)>=0&&L.isub(this.m),L._forceRed(this)},J.prototype.iadd=function(P,N){this._verify2(P,N);var L=P.iadd(N);return L.cmp(this.m)>=0&&L.isub(this.m),L},J.prototype.sub=function(P,N){this._verify2(P,N);var L=P.sub(N);return L.cmpn(0)<0&&L.iadd(this.m),L._forceRed(this)},J.prototype.isub=function(P,N){this._verify2(P,N);var L=P.isub(N);return L.cmpn(0)<0&&L.iadd(this.m),L},J.prototype.shl=function(P,N){return this._verify1(P),this.imod(P.ushln(N))},J.prototype.imul=function(P,N){return this._verify2(P,N),this.imod(P.imul(N))},J.prototype.mul=function(P,N){return this._verify2(P,N),this.imod(P.mul(N))},J.prototype.isqr=function(P){return this.imul(P,P.clone())},J.prototype.sqr=function(P){return this.mul(P,P)},J.prototype.sqrt=function(P){if(P.isZero())return P.clone();var N=this.m.andln(3);if(q(N%2===1),N===3){var L=this.m.add(new $(1)).iushrn(2);return this.pow(P,L)}for(var W=this.m.subn(1),Z=0;!W.isZero()&&W.andln(1)===0;)Z++,W.iushrn(1);q(!W.isZero());var U=new $(1).toRed(this),M=U.redNeg(),F=this.m.subn(1).iushrn(1),te=this.m.bitLength();for(te=new $(2*te*te).toRed(this);this.pow(te,F).cmp(M)!==0;)te.redIAdd(M);for(var ie=this.pow(te,W),he=this.pow(P,W.addn(1).iushrn(1)),pe=this.pow(P,W),de=Z;pe.cmp(U)!==0;){for(var oe=pe,le=0;oe.cmp(U)!==0;le++)oe=oe.redSqr();q(le<de);var ve=this.pow(ie,new $(1).iushln(de-le-1));he=he.redMul(ve),ie=ve.redSqr(),pe=pe.redMul(ie),de=le}return he},J.prototype.invm=function(P){var N=P._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},J.prototype.pow=function(P,N){if(N.isZero())return new $(1).toRed(this);if(N.cmpn(1)===0)return P.clone();var L=4,W=new Array(1<<L);W[0]=new $(1).toRed(this),W[1]=P;for(var Z=2;Z<W.length;Z++)W[Z]=this.mul(W[Z-1],P);var U=W[0],M=0,F=0,te=N.bitLength()%26;for(te===0&&(te=26),Z=N.length-1;Z>=0;Z--){for(var ie=N.words[Z],he=te-1;he>=0;he--){var pe=ie>>he&1;if(U!==W[0]&&(U=this.sqr(U)),pe===0&&M===0){F=0;continue}M<<=1,M|=pe,F++,!(F!==L&&(Z!==0||he!==0))&&(U=this.mul(U,W[M]),F=0,M=0)}te=26}return U},J.prototype.convertTo=function(P){var N=P.umod(this.m);return N===P?N.clone():N},J.prototype.convertFrom=function(P){var N=P.clone();return N.red=null,N},$.mont=function(P){return new u(P)};function u(T){J.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new $(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(u,J),u.prototype.convertTo=function(P){return this.imod(P.ushln(this.shift))},u.prototype.convertFrom=function(P){var N=this.imod(P.mul(this.rinv));return N.red=null,N},u.prototype.imul=function(P,N){if(P.isZero()||N.isZero())return P.words[0]=0,P.length=1,P;var L=P.imul(N),W=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=L.isub(W).iushrn(this.shift),U=Z;return Z.cmp(this.m)>=0?U=Z.isub(this.m):Z.cmpn(0)<0&&(U=Z.iadd(this.m)),U._forceRed(this)},u.prototype.mul=function(P,N){if(P.isZero()||N.isZero())return new $(0)._forceRed(this);var L=P.mul(N),W=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=L.isub(W).iushrn(this.shift),U=Z;return Z.cmp(this.m)>=0?U=Z.isub(this.m):Z.cmpn(0)<0&&(U=Z.iadd(this.m)),U._forceRed(this)},u.prototype.invm=function(P){var N=this.imod(P._invmp(this.m).mul(this.r2));return N._forceRed(this)}})(B,commonjsGlobal)}(bn$4)),bn$4.exports}var safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(B,S){var D=require$$0$1,q=D.Buffer;function O(j,G){for(var V in j)G[V]=j[V]}q.from&&q.alloc&&q.allocUnsafe&&q.allocUnsafeSlow?B.exports=D:(O(D,S),S.Buffer=$);function $(j,G,V){return q(j,G,V)}$.prototype=Object.create(q.prototype),O(q,$),$.from=function(j,G,V){if(typeof j=="number")throw new TypeError("Argument must not be a number");return q(j,G,V)},$.alloc=function(j,G,V){if(typeof j!="number")throw new TypeError("Argument must be a number");var K=q(j);return G!==void 0?typeof V=="string"?K.fill(G,V):K.fill(G):K.fill(0),K},$.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return q(j)},$.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return D.SlowBuffer(j)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var B=requireBn$4(),S=requireBrowser$b(),D=requireSafeBuffer$1().Buffer;function q(j){var G=j.modulus.byteLength(),V;do V=new B(S(G));while(V.cmp(j.modulus)>=0||!V.umod(j.prime1)||!V.umod(j.prime2));return V}function O(j){var G=q(j),V=G.toRed(B.mont(j.modulus)).redPow(new B(j.publicExponent)).fromRed();return{blinder:V,unblinder:G.invm(j.modulus)}}function $(j,G){var V=O(G),K=G.modulus.byteLength(),H=new B(j).mul(V.blinder).umod(G.modulus),Y=H.toRed(B.mont(G.prime1)),X=H.toRed(B.mont(G.prime2)),Q=G.coefficient,ee=G.prime1,re=G.prime2,ne=Y.redPow(G.exponent1).fromRed(),se=X.redPow(G.exponent2).fromRed(),ae=ne.isub(se).imul(Q).umod(ee).imul(re);return se.iadd(ae).imul(V.unblinder).umod(G.modulus).toArrayLike(D,"be",K)}return $.getr=q,browserifyRsa=$,browserifyRsa}var elliptic={};const name="elliptic",version="6.6.1",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0={name,version,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$4={},bn$3={exports:{}};bn$3.exports;var hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(B){(function(S,D){function q(J,u){if(!J)throw new Error(u||"Assertion failed")}function O(J,u){J.super_=u;var T=function(){};T.prototype=u.prototype,J.prototype=new T,J.prototype.constructor=J}function $(J,u,T){if($.isBN(J))return J;this.negative=0,this.words=null,this.length=0,this.red=null,J!==null&&((u==="le"||u==="be")&&(T=u,u=10),this._init(J||0,u||10,T||"be"))}typeof S=="object"?S.exports=$:D.BN=$,$.BN=$,$.wordSize=26;var j;try{typeof window<"u"&&typeof window.Buffer<"u"?j=window.Buffer:j=require$$0$1.Buffer}catch{}$.isBN=function(u){return u instanceof $?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===$.wordSize&&Array.isArray(u.words)},$.max=function(u,T){return u.cmp(T)>0?u:T},$.min=function(u,T){return u.cmp(T)<0?u:T},$.prototype._init=function(u,T,P){if(typeof u=="number")return this._initNumber(u,T,P);if(typeof u=="object")return this._initArray(u,T,P);T==="hex"&&(T=16),q(T===(T|0)&&T>=2&&T<=36),u=u.toString().replace(/\s+/g,"");var N=0;u[0]==="-"&&(N++,this.negative=1),N<u.length&&(T===16?this._parseHex(u,N,P):(this._parseBase(u,T,N),P==="le"&&this._initArray(this.toArray(),T,P)))},$.prototype._initNumber=function(u,T,P){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(q(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),P==="le"&&this._initArray(this.toArray(),T,P)},$.prototype._initArray=function(u,T,P){if(q(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L,W,Z=0;if(P==="be")for(N=u.length-1,L=0;N>=0;N-=3)W=u[N]|u[N-1]<<8|u[N-2]<<16,this.words[L]|=W<<Z&67108863,this.words[L+1]=W>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,L++);else if(P==="le")for(N=0,L=0;N<u.length;N+=3)W=u[N]|u[N+1]<<8|u[N+2]<<16,this.words[L]|=W<<Z&67108863,this.words[L+1]=W>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,L++);return this.strip()};function G(J,u){var T=J.charCodeAt(u);return T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:T-48&15}function V(J,u,T){var P=G(J,T);return T-1>=u&&(P|=G(J,T-1)<<4),P}$.prototype._parseHex=function(u,T,P){this.length=Math.ceil((u.length-T)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L=0,W=0,Z;if(P==="be")for(N=u.length-1;N>=T;N-=2)Z=V(u,T,N)<<L,this.words[W]|=Z&67108863,L>=18?(L-=18,W+=1,this.words[W]|=Z>>>26):L+=8;else{var U=u.length-T;for(N=U%2===0?T+1:T;N<u.length;N+=2)Z=V(u,T,N)<<L,this.words[W]|=Z&67108863,L>=18?(L-=18,W+=1,this.words[W]|=Z>>>26):L+=8}this.strip()};function K(J,u,T,P){for(var N=0,L=Math.min(J.length,T),W=u;W<L;W++){var Z=J.charCodeAt(W)-48;N*=P,Z>=49?N+=Z-49+10:Z>=17?N+=Z-17+10:N+=Z}return N}$.prototype._parseBase=function(u,T,P){this.words=[0],this.length=1;for(var N=0,L=1;L<=67108863;L*=T)N++;N--,L=L/T|0;for(var W=u.length-P,Z=W%N,U=Math.min(W,W-Z)+P,M=0,F=P;F<U;F+=N)M=K(u,F,F+N,T),this.imuln(L),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(Z!==0){var te=1;for(M=K(u,F,u.length,T),F=0;F<Z;F++)te*=T;this.imuln(te),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this.strip()},$.prototype.copy=function(u){u.words=new Array(this.length);for(var T=0;T<this.length;T++)u.words[T]=this.words[T];u.length=this.length,u.negative=this.negative,u.red=this.red},$.prototype.clone=function(){var u=new $(null);return this.copy(u),u},$.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},$.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},$.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},$.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var H=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];$.prototype.toString=function(u,T){u=u||10,T=T|0||1;var P;if(u===16||u==="hex"){P="";for(var N=0,L=0,W=0;W<this.length;W++){var Z=this.words[W],U=((Z<<N|L)&16777215).toString(16);L=Z>>>24-N&16777215,N+=2,N>=26&&(N-=26,W--),L!==0||W!==this.length-1?P=H[6-U.length]+U+P:P=U+P}for(L!==0&&(P=L.toString(16)+P);P.length%T!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}if(u===(u|0)&&u>=2&&u<=36){var M=Y[u],F=X[u];P="";var te=this.clone();for(te.negative=0;!te.isZero();){var ie=te.modn(F).toString(u);te=te.idivn(F),te.isZero()?P=ie+P:P=H[M-ie.length]+ie+P}for(this.isZero()&&(P="0"+P);P.length%T!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}q(!1,"Base should be between 2 and 36")},$.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&q(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},$.prototype.toJSON=function(){return this.toString(16)},$.prototype.toBuffer=function(u,T){return q(typeof j<"u"),this.toArrayLike(j,u,T)},$.prototype.toArray=function(u,T){return this.toArrayLike(Array,u,T)},$.prototype.toArrayLike=function(u,T,P){var N=this.byteLength(),L=P||Math.max(1,N);q(N<=L,"byte array longer than desired length"),q(L>0,"Requested array length <= 0"),this.strip();var W=T==="le",Z=new u(L),U,M,F=this.clone();if(W){for(M=0;!F.isZero();M++)U=F.andln(255),F.iushrn(8),Z[M]=U;for(;M<L;M++)Z[M]=0}else{for(M=0;M<L-N;M++)Z[M]=0;for(M=0;!F.isZero();M++)U=F.andln(255),F.iushrn(8),Z[L-M-1]=U}return Z},Math.clz32?$.prototype._countBits=function(u){return 32-Math.clz32(u)}:$.prototype._countBits=function(u){var T=u,P=0;return T>=4096&&(P+=13,T>>>=13),T>=64&&(P+=7,T>>>=7),T>=8&&(P+=4,T>>>=4),T>=2&&(P+=2,T>>>=2),P+T},$.prototype._zeroBits=function(u){if(u===0)return 26;var T=u,P=0;return T&8191||(P+=13,T>>>=13),T&127||(P+=7,T>>>=7),T&15||(P+=4,T>>>=4),T&3||(P+=2,T>>>=2),T&1||P++,P},$.prototype.bitLength=function(){var u=this.words[this.length-1],T=this._countBits(u);return(this.length-1)*26+T};function Q(J){for(var u=new Array(J.bitLength()),T=0;T<u.length;T++){var P=T/26|0,N=T%26;u[T]=(J.words[P]&1<<N)>>>N}return u}$.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,T=0;T<this.length;T++){var P=this._zeroBits(this.words[T]);if(u+=P,P!==26)break}return u},$.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},$.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},$.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},$.prototype.isNeg=function(){return this.negative!==0},$.prototype.neg=function(){return this.clone().ineg()},$.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},$.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var T=0;T<u.length;T++)this.words[T]=this.words[T]|u.words[T];return this.strip()},$.prototype.ior=function(u){return q((this.negative|u.negative)===0),this.iuor(u)},$.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},$.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},$.prototype.iuand=function(u){var T;this.length>u.length?T=u:T=this;for(var P=0;P<T.length;P++)this.words[P]=this.words[P]&u.words[P];return this.length=T.length,this.strip()},$.prototype.iand=function(u){return q((this.negative|u.negative)===0),this.iuand(u)},$.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},$.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},$.prototype.iuxor=function(u){var T,P;this.length>u.length?(T=this,P=u):(T=u,P=this);for(var N=0;N<P.length;N++)this.words[N]=T.words[N]^P.words[N];if(this!==T)for(;N<T.length;N++)this.words[N]=T.words[N];return this.length=T.length,this.strip()},$.prototype.ixor=function(u){return q((this.negative|u.negative)===0),this.iuxor(u)},$.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},$.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},$.prototype.inotn=function(u){q(typeof u=="number"&&u>=0);var T=Math.ceil(u/26)|0,P=u%26;this._expand(T),P>0&&T--;for(var N=0;N<T;N++)this.words[N]=~this.words[N]&67108863;return P>0&&(this.words[N]=~this.words[N]&67108863>>26-P),this.strip()},$.prototype.notn=function(u){return this.clone().inotn(u)},$.prototype.setn=function(u,T){q(typeof u=="number"&&u>=0);var P=u/26|0,N=u%26;return this._expand(P+1),T?this.words[P]=this.words[P]|1<<N:this.words[P]=this.words[P]&~(1<<N),this.strip()},$.prototype.iadd=function(u){var T;if(this.negative!==0&&u.negative===0)return this.negative=0,T=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,T=this.isub(u),u.negative=1,T._normSign();var P,N;this.length>u.length?(P=this,N=u):(P=u,N=this);for(var L=0,W=0;W<N.length;W++)T=(P.words[W]|0)+(N.words[W]|0)+L,this.words[W]=T&67108863,L=T>>>26;for(;L!==0&&W<P.length;W++)T=(P.words[W]|0)+L,this.words[W]=T&67108863,L=T>>>26;if(this.length=P.length,L!==0)this.words[this.length]=L,this.length++;else if(P!==this)for(;W<P.length;W++)this.words[W]=P.words[W];return this},$.prototype.add=function(u){var T;return u.negative!==0&&this.negative===0?(u.negative=0,T=this.sub(u),u.negative^=1,T):u.negative===0&&this.negative!==0?(this.negative=0,T=u.sub(this),this.negative=1,T):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},$.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var T=this.iadd(u);return u.negative=1,T._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var P=this.cmp(u);if(P===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,L;P>0?(N=this,L=u):(N=u,L=this);for(var W=0,Z=0;Z<L.length;Z++)T=(N.words[Z]|0)-(L.words[Z]|0)+W,W=T>>26,this.words[Z]=T&67108863;for(;W!==0&&Z<N.length;Z++)T=(N.words[Z]|0)+W,W=T>>26,this.words[Z]=T&67108863;if(W===0&&Z<N.length&&N!==this)for(;Z<N.length;Z++)this.words[Z]=N.words[Z];return this.length=Math.max(this.length,Z),N!==this&&(this.negative=1),this.strip()},$.prototype.sub=function(u){return this.clone().isub(u)};function ee(J,u,T){T.negative=u.negative^J.negative;var P=J.length+u.length|0;T.length=P,P=P-1|0;var N=J.words[0]|0,L=u.words[0]|0,W=N*L,Z=W&67108863,U=W/67108864|0;T.words[0]=Z;for(var M=1;M<P;M++){for(var F=U>>>26,te=U&67108863,ie=Math.min(M,u.length-1),he=Math.max(0,M-J.length+1);he<=ie;he++){var pe=M-he|0;N=J.words[pe]|0,L=u.words[he]|0,W=N*L+te,F+=W/67108864|0,te=W&67108863}T.words[M]=te|0,U=F|0}return U!==0?T.words[M]=U|0:T.length--,T.strip()}var re=function(u,T,P){var N=u.words,L=T.words,W=P.words,Z=0,U,M,F,te=N[0]|0,ie=te&8191,he=te>>>13,pe=N[1]|0,de=pe&8191,oe=pe>>>13,le=N[2]|0,ve=le&8191,Me=le>>>13,ye=N[3]|0,ce=ye&8191,Se=ye>>>13,et=N[4]|0,ke=et&8191,De=et>>>13,ot=N[5]|0,Le=ot&8191,$e=ot>>>13,lt=N[6]|0,Ne=lt&8191,We=lt>>>13,ct=N[7]|0,Ue=ct&8191,Ye=ct>>>13,mt=N[8]|0,Fe=mt&8191,Xe=mt>>>13,_t=N[9]|0,Ve=_t&8191,it=_t>>>13,vt=L[0]|0,He=vt&8191,nt=vt>>>13,yt=L[1]|0,Ke=yt&8191,st=yt>>>13,bt=L[2]|0,Ge=bt&8191,rt=bt>>>13,wt=L[3]|0,je=wt&8191,Qe=wt>>>13,gt=L[4]|0,we=gt&8191,me=gt>>>13,Ee=L[5]|0,xe=Ee&8191,Re=Ee>>>13,Je=L[6]|0,Ce=Je&8191,Ie=Je>>>13,at=L[7]|0,Be=at&8191,Oe=at>>>13,ft=L[8]|0,qe=ft&8191,Ze=ft>>>13,ht=L[9]|0,ze=ht&8191,tt=ht>>>13;P.negative=u.negative^T.negative,P.length=19,U=Math.imul(ie,He),M=Math.imul(ie,nt),M=M+Math.imul(he,He)|0,F=Math.imul(he,nt);var dt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(dt>>>26)|0,dt&=67108863,U=Math.imul(de,He),M=Math.imul(de,nt),M=M+Math.imul(oe,He)|0,F=Math.imul(oe,nt),U=U+Math.imul(ie,Ke)|0,M=M+Math.imul(ie,st)|0,M=M+Math.imul(he,Ke)|0,F=F+Math.imul(he,st)|0;var pt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(pt>>>26)|0,pt&=67108863,U=Math.imul(ve,He),M=Math.imul(ve,nt),M=M+Math.imul(Me,He)|0,F=Math.imul(Me,nt),U=U+Math.imul(de,Ke)|0,M=M+Math.imul(de,st)|0,M=M+Math.imul(oe,Ke)|0,F=F+Math.imul(oe,st)|0,U=U+Math.imul(ie,Ge)|0,M=M+Math.imul(ie,rt)|0,M=M+Math.imul(he,Ge)|0,F=F+Math.imul(he,rt)|0;var xt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(xt>>>26)|0,xt&=67108863,U=Math.imul(ce,He),M=Math.imul(ce,nt),M=M+Math.imul(Se,He)|0,F=Math.imul(Se,nt),U=U+Math.imul(ve,Ke)|0,M=M+Math.imul(ve,st)|0,M=M+Math.imul(Me,Ke)|0,F=F+Math.imul(Me,st)|0,U=U+Math.imul(de,Ge)|0,M=M+Math.imul(de,rt)|0,M=M+Math.imul(oe,Ge)|0,F=F+Math.imul(oe,rt)|0,U=U+Math.imul(ie,je)|0,M=M+Math.imul(ie,Qe)|0,M=M+Math.imul(he,je)|0,F=F+Math.imul(he,Qe)|0;var St=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(St>>>26)|0,St&=67108863,U=Math.imul(ke,He),M=Math.imul(ke,nt),M=M+Math.imul(De,He)|0,F=Math.imul(De,nt),U=U+Math.imul(ce,Ke)|0,M=M+Math.imul(ce,st)|0,M=M+Math.imul(Se,Ke)|0,F=F+Math.imul(Se,st)|0,U=U+Math.imul(ve,Ge)|0,M=M+Math.imul(ve,rt)|0,M=M+Math.imul(Me,Ge)|0,F=F+Math.imul(Me,rt)|0,U=U+Math.imul(de,je)|0,M=M+Math.imul(de,Qe)|0,M=M+Math.imul(oe,je)|0,F=F+Math.imul(oe,Qe)|0,U=U+Math.imul(ie,we)|0,M=M+Math.imul(ie,me)|0,M=M+Math.imul(he,we)|0,F=F+Math.imul(he,me)|0;var Mt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,U=Math.imul(Le,He),M=Math.imul(Le,nt),M=M+Math.imul($e,He)|0,F=Math.imul($e,nt),U=U+Math.imul(ke,Ke)|0,M=M+Math.imul(ke,st)|0,M=M+Math.imul(De,Ke)|0,F=F+Math.imul(De,st)|0,U=U+Math.imul(ce,Ge)|0,M=M+Math.imul(ce,rt)|0,M=M+Math.imul(Se,Ge)|0,F=F+Math.imul(Se,rt)|0,U=U+Math.imul(ve,je)|0,M=M+Math.imul(ve,Qe)|0,M=M+Math.imul(Me,je)|0,F=F+Math.imul(Me,Qe)|0,U=U+Math.imul(de,we)|0,M=M+Math.imul(de,me)|0,M=M+Math.imul(oe,we)|0,F=F+Math.imul(oe,me)|0,U=U+Math.imul(ie,xe)|0,M=M+Math.imul(ie,Re)|0,M=M+Math.imul(he,xe)|0,F=F+Math.imul(he,Re)|0;var Et=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Et>>>26)|0,Et&=67108863,U=Math.imul(Ne,He),M=Math.imul(Ne,nt),M=M+Math.imul(We,He)|0,F=Math.imul(We,nt),U=U+Math.imul(Le,Ke)|0,M=M+Math.imul(Le,st)|0,M=M+Math.imul($e,Ke)|0,F=F+Math.imul($e,st)|0,U=U+Math.imul(ke,Ge)|0,M=M+Math.imul(ke,rt)|0,M=M+Math.imul(De,Ge)|0,F=F+Math.imul(De,rt)|0,U=U+Math.imul(ce,je)|0,M=M+Math.imul(ce,Qe)|0,M=M+Math.imul(Se,je)|0,F=F+Math.imul(Se,Qe)|0,U=U+Math.imul(ve,we)|0,M=M+Math.imul(ve,me)|0,M=M+Math.imul(Me,we)|0,F=F+Math.imul(Me,me)|0,U=U+Math.imul(de,xe)|0,M=M+Math.imul(de,Re)|0,M=M+Math.imul(oe,xe)|0,F=F+Math.imul(oe,Re)|0,U=U+Math.imul(ie,Ce)|0,M=M+Math.imul(ie,Ie)|0,M=M+Math.imul(he,Ce)|0,F=F+Math.imul(he,Ie)|0;var At=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(At>>>26)|0,At&=67108863,U=Math.imul(Ue,He),M=Math.imul(Ue,nt),M=M+Math.imul(Ye,He)|0,F=Math.imul(Ye,nt),U=U+Math.imul(Ne,Ke)|0,M=M+Math.imul(Ne,st)|0,M=M+Math.imul(We,Ke)|0,F=F+Math.imul(We,st)|0,U=U+Math.imul(Le,Ge)|0,M=M+Math.imul(Le,rt)|0,M=M+Math.imul($e,Ge)|0,F=F+Math.imul($e,rt)|0,U=U+Math.imul(ke,je)|0,M=M+Math.imul(ke,Qe)|0,M=M+Math.imul(De,je)|0,F=F+Math.imul(De,Qe)|0,U=U+Math.imul(ce,we)|0,M=M+Math.imul(ce,me)|0,M=M+Math.imul(Se,we)|0,F=F+Math.imul(Se,me)|0,U=U+Math.imul(ve,xe)|0,M=M+Math.imul(ve,Re)|0,M=M+Math.imul(Me,xe)|0,F=F+Math.imul(Me,Re)|0,U=U+Math.imul(de,Ce)|0,M=M+Math.imul(de,Ie)|0,M=M+Math.imul(oe,Ce)|0,F=F+Math.imul(oe,Ie)|0,U=U+Math.imul(ie,Be)|0,M=M+Math.imul(ie,Oe)|0,M=M+Math.imul(he,Be)|0,F=F+Math.imul(he,Oe)|0;var Rt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,U=Math.imul(Fe,He),M=Math.imul(Fe,nt),M=M+Math.imul(Xe,He)|0,F=Math.imul(Xe,nt),U=U+Math.imul(Ue,Ke)|0,M=M+Math.imul(Ue,st)|0,M=M+Math.imul(Ye,Ke)|0,F=F+Math.imul(Ye,st)|0,U=U+Math.imul(Ne,Ge)|0,M=M+Math.imul(Ne,rt)|0,M=M+Math.imul(We,Ge)|0,F=F+Math.imul(We,rt)|0,U=U+Math.imul(Le,je)|0,M=M+Math.imul(Le,Qe)|0,M=M+Math.imul($e,je)|0,F=F+Math.imul($e,Qe)|0,U=U+Math.imul(ke,we)|0,M=M+Math.imul(ke,me)|0,M=M+Math.imul(De,we)|0,F=F+Math.imul(De,me)|0,U=U+Math.imul(ce,xe)|0,M=M+Math.imul(ce,Re)|0,M=M+Math.imul(Se,xe)|0,F=F+Math.imul(Se,Re)|0,U=U+Math.imul(ve,Ce)|0,M=M+Math.imul(ve,Ie)|0,M=M+Math.imul(Me,Ce)|0,F=F+Math.imul(Me,Ie)|0,U=U+Math.imul(de,Be)|0,M=M+Math.imul(de,Oe)|0,M=M+Math.imul(oe,Be)|0,F=F+Math.imul(oe,Oe)|0,U=U+Math.imul(ie,qe)|0,M=M+Math.imul(ie,Ze)|0,M=M+Math.imul(he,qe)|0,F=F+Math.imul(he,Ze)|0;var Tt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,U=Math.imul(Ve,He),M=Math.imul(Ve,nt),M=M+Math.imul(it,He)|0,F=Math.imul(it,nt),U=U+Math.imul(Fe,Ke)|0,M=M+Math.imul(Fe,st)|0,M=M+Math.imul(Xe,Ke)|0,F=F+Math.imul(Xe,st)|0,U=U+Math.imul(Ue,Ge)|0,M=M+Math.imul(Ue,rt)|0,M=M+Math.imul(Ye,Ge)|0,F=F+Math.imul(Ye,rt)|0,U=U+Math.imul(Ne,je)|0,M=M+Math.imul(Ne,Qe)|0,M=M+Math.imul(We,je)|0,F=F+Math.imul(We,Qe)|0,U=U+Math.imul(Le,we)|0,M=M+Math.imul(Le,me)|0,M=M+Math.imul($e,we)|0,F=F+Math.imul($e,me)|0,U=U+Math.imul(ke,xe)|0,M=M+Math.imul(ke,Re)|0,M=M+Math.imul(De,xe)|0,F=F+Math.imul(De,Re)|0,U=U+Math.imul(ce,Ce)|0,M=M+Math.imul(ce,Ie)|0,M=M+Math.imul(Se,Ce)|0,F=F+Math.imul(Se,Ie)|0,U=U+Math.imul(ve,Be)|0,M=M+Math.imul(ve,Oe)|0,M=M+Math.imul(Me,Be)|0,F=F+Math.imul(Me,Oe)|0,U=U+Math.imul(de,qe)|0,M=M+Math.imul(de,Ze)|0,M=M+Math.imul(oe,qe)|0,F=F+Math.imul(oe,Ze)|0,U=U+Math.imul(ie,ze)|0,M=M+Math.imul(ie,tt)|0,M=M+Math.imul(he,ze)|0,F=F+Math.imul(he,tt)|0;var $t=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+($t>>>26)|0,$t&=67108863,U=Math.imul(Ve,Ke),M=Math.imul(Ve,st),M=M+Math.imul(it,Ke)|0,F=Math.imul(it,st),U=U+Math.imul(Fe,Ge)|0,M=M+Math.imul(Fe,rt)|0,M=M+Math.imul(Xe,Ge)|0,F=F+Math.imul(Xe,rt)|0,U=U+Math.imul(Ue,je)|0,M=M+Math.imul(Ue,Qe)|0,M=M+Math.imul(Ye,je)|0,F=F+Math.imul(Ye,Qe)|0,U=U+Math.imul(Ne,we)|0,M=M+Math.imul(Ne,me)|0,M=M+Math.imul(We,we)|0,F=F+Math.imul(We,me)|0,U=U+Math.imul(Le,xe)|0,M=M+Math.imul(Le,Re)|0,M=M+Math.imul($e,xe)|0,F=F+Math.imul($e,Re)|0,U=U+Math.imul(ke,Ce)|0,M=M+Math.imul(ke,Ie)|0,M=M+Math.imul(De,Ce)|0,F=F+Math.imul(De,Ie)|0,U=U+Math.imul(ce,Be)|0,M=M+Math.imul(ce,Oe)|0,M=M+Math.imul(Se,Be)|0,F=F+Math.imul(Se,Oe)|0,U=U+Math.imul(ve,qe)|0,M=M+Math.imul(ve,Ze)|0,M=M+Math.imul(Me,qe)|0,F=F+Math.imul(Me,Ze)|0,U=U+Math.imul(de,ze)|0,M=M+Math.imul(de,tt)|0,M=M+Math.imul(oe,ze)|0,F=F+Math.imul(oe,tt)|0;var Ct=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,U=Math.imul(Ve,Ge),M=Math.imul(Ve,rt),M=M+Math.imul(it,Ge)|0,F=Math.imul(it,rt),U=U+Math.imul(Fe,je)|0,M=M+Math.imul(Fe,Qe)|0,M=M+Math.imul(Xe,je)|0,F=F+Math.imul(Xe,Qe)|0,U=U+Math.imul(Ue,we)|0,M=M+Math.imul(Ue,me)|0,M=M+Math.imul(Ye,we)|0,F=F+Math.imul(Ye,me)|0,U=U+Math.imul(Ne,xe)|0,M=M+Math.imul(Ne,Re)|0,M=M+Math.imul(We,xe)|0,F=F+Math.imul(We,Re)|0,U=U+Math.imul(Le,Ce)|0,M=M+Math.imul(Le,Ie)|0,M=M+Math.imul($e,Ce)|0,F=F+Math.imul($e,Ie)|0,U=U+Math.imul(ke,Be)|0,M=M+Math.imul(ke,Oe)|0,M=M+Math.imul(De,Be)|0,F=F+Math.imul(De,Oe)|0,U=U+Math.imul(ce,qe)|0,M=M+Math.imul(ce,Ze)|0,M=M+Math.imul(Se,qe)|0,F=F+Math.imul(Se,Ze)|0,U=U+Math.imul(ve,ze)|0,M=M+Math.imul(ve,tt)|0,M=M+Math.imul(Me,ze)|0,F=F+Math.imul(Me,tt)|0;var It=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(It>>>26)|0,It&=67108863,U=Math.imul(Ve,je),M=Math.imul(Ve,Qe),M=M+Math.imul(it,je)|0,F=Math.imul(it,Qe),U=U+Math.imul(Fe,we)|0,M=M+Math.imul(Fe,me)|0,M=M+Math.imul(Xe,we)|0,F=F+Math.imul(Xe,me)|0,U=U+Math.imul(Ue,xe)|0,M=M+Math.imul(Ue,Re)|0,M=M+Math.imul(Ye,xe)|0,F=F+Math.imul(Ye,Re)|0,U=U+Math.imul(Ne,Ce)|0,M=M+Math.imul(Ne,Ie)|0,M=M+Math.imul(We,Ce)|0,F=F+Math.imul(We,Ie)|0,U=U+Math.imul(Le,Be)|0,M=M+Math.imul(Le,Oe)|0,M=M+Math.imul($e,Be)|0,F=F+Math.imul($e,Oe)|0,U=U+Math.imul(ke,qe)|0,M=M+Math.imul(ke,Ze)|0,M=M+Math.imul(De,qe)|0,F=F+Math.imul(De,Ze)|0,U=U+Math.imul(ce,ze)|0,M=M+Math.imul(ce,tt)|0,M=M+Math.imul(Se,ze)|0,F=F+Math.imul(Se,tt)|0;var Bt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,U=Math.imul(Ve,we),M=Math.imul(Ve,me),M=M+Math.imul(it,we)|0,F=Math.imul(it,me),U=U+Math.imul(Fe,xe)|0,M=M+Math.imul(Fe,Re)|0,M=M+Math.imul(Xe,xe)|0,F=F+Math.imul(Xe,Re)|0,U=U+Math.imul(Ue,Ce)|0,M=M+Math.imul(Ue,Ie)|0,M=M+Math.imul(Ye,Ce)|0,F=F+Math.imul(Ye,Ie)|0,U=U+Math.imul(Ne,Be)|0,M=M+Math.imul(Ne,Oe)|0,M=M+Math.imul(We,Be)|0,F=F+Math.imul(We,Oe)|0,U=U+Math.imul(Le,qe)|0,M=M+Math.imul(Le,Ze)|0,M=M+Math.imul($e,qe)|0,F=F+Math.imul($e,Ze)|0,U=U+Math.imul(ke,ze)|0,M=M+Math.imul(ke,tt)|0,M=M+Math.imul(De,ze)|0,F=F+Math.imul(De,tt)|0;var kt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(kt>>>26)|0,kt&=67108863,U=Math.imul(Ve,xe),M=Math.imul(Ve,Re),M=M+Math.imul(it,xe)|0,F=Math.imul(it,Re),U=U+Math.imul(Fe,Ce)|0,M=M+Math.imul(Fe,Ie)|0,M=M+Math.imul(Xe,Ce)|0,F=F+Math.imul(Xe,Ie)|0,U=U+Math.imul(Ue,Be)|0,M=M+Math.imul(Ue,Oe)|0,M=M+Math.imul(Ye,Be)|0,F=F+Math.imul(Ye,Oe)|0,U=U+Math.imul(Ne,qe)|0,M=M+Math.imul(Ne,Ze)|0,M=M+Math.imul(We,qe)|0,F=F+Math.imul(We,Ze)|0,U=U+Math.imul(Le,ze)|0,M=M+Math.imul(Le,tt)|0,M=M+Math.imul($e,ze)|0,F=F+Math.imul($e,tt)|0;var Dt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,U=Math.imul(Ve,Ce),M=Math.imul(Ve,Ie),M=M+Math.imul(it,Ce)|0,F=Math.imul(it,Ie),U=U+Math.imul(Fe,Be)|0,M=M+Math.imul(Fe,Oe)|0,M=M+Math.imul(Xe,Be)|0,F=F+Math.imul(Xe,Oe)|0,U=U+Math.imul(Ue,qe)|0,M=M+Math.imul(Ue,Ze)|0,M=M+Math.imul(Ye,qe)|0,F=F+Math.imul(Ye,Ze)|0,U=U+Math.imul(Ne,ze)|0,M=M+Math.imul(Ne,tt)|0,M=M+Math.imul(We,ze)|0,F=F+Math.imul(We,tt)|0;var qt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(qt>>>26)|0,qt&=67108863,U=Math.imul(Ve,Be),M=Math.imul(Ve,Oe),M=M+Math.imul(it,Be)|0,F=Math.imul(it,Oe),U=U+Math.imul(Fe,qe)|0,M=M+Math.imul(Fe,Ze)|0,M=M+Math.imul(Xe,qe)|0,F=F+Math.imul(Xe,Ze)|0,U=U+Math.imul(Ue,ze)|0,M=M+Math.imul(Ue,tt)|0,M=M+Math.imul(Ye,ze)|0,F=F+Math.imul(Ye,tt)|0;var Pt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,U=Math.imul(Ve,qe),M=Math.imul(Ve,Ze),M=M+Math.imul(it,qe)|0,F=Math.imul(it,Ze),U=U+Math.imul(Fe,ze)|0,M=M+Math.imul(Fe,tt)|0,M=M+Math.imul(Xe,ze)|0,F=F+Math.imul(Xe,tt)|0;var Nt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,U=Math.imul(Ve,ze),M=Math.imul(Ve,tt),M=M+Math.imul(it,ze)|0,F=Math.imul(it,tt);var Ot=(Z+U|0)+((M&8191)<<13)|0;return Z=(F+(M>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,W[0]=dt,W[1]=pt,W[2]=xt,W[3]=St,W[4]=Mt,W[5]=Et,W[6]=At,W[7]=Rt,W[8]=Tt,W[9]=$t,W[10]=Ct,W[11]=It,W[12]=Bt,W[13]=kt,W[14]=Dt,W[15]=qt,W[16]=Pt,W[17]=Nt,W[18]=Ot,Z!==0&&(W[19]=Z,P.length++),P};Math.imul||(re=ee);function ne(J,u,T){T.negative=u.negative^J.negative,T.length=J.length+u.length;for(var P=0,N=0,L=0;L<T.length-1;L++){var W=N;N=0;for(var Z=P&67108863,U=Math.min(L,u.length-1),M=Math.max(0,L-J.length+1);M<=U;M++){var F=L-M,te=J.words[F]|0,ie=u.words[M]|0,he=te*ie,pe=he&67108863;W=W+(he/67108864|0)|0,pe=pe+Z|0,Z=pe&67108863,W=W+(pe>>>26)|0,N+=W>>>26,W&=67108863}T.words[L]=Z,P=W,W=N}return P!==0?T.words[L]=P:T.length--,T.strip()}function se(J,u,T){var P=new ae;return P.mulp(J,u,T)}$.prototype.mulTo=function(u,T){var P,N=this.length+u.length;return this.length===10&&u.length===10?P=re(this,u,T):N<63?P=ee(this,u,T):N<1024?P=ne(this,u,T):P=se(this,u,T),P};function ae(J,u){this.x=J,this.y=u}ae.prototype.makeRBT=function(u){for(var T=new Array(u),P=$.prototype._countBits(u)-1,N=0;N<u;N++)T[N]=this.revBin(N,P,u);return T},ae.prototype.revBin=function(u,T,P){if(u===0||u===P-1)return u;for(var N=0,L=0;L<T;L++)N|=(u&1)<<T-L-1,u>>=1;return N},ae.prototype.permute=function(u,T,P,N,L,W){for(var Z=0;Z<W;Z++)N[Z]=T[u[Z]],L[Z]=P[u[Z]]},ae.prototype.transform=function(u,T,P,N,L,W){this.permute(W,u,T,P,N,L);for(var Z=1;Z<L;Z<<=1)for(var U=Z<<1,M=Math.cos(2*Math.PI/U),F=Math.sin(2*Math.PI/U),te=0;te<L;te+=U)for(var ie=M,he=F,pe=0;pe<Z;pe++){var de=P[te+pe],oe=N[te+pe],le=P[te+pe+Z],ve=N[te+pe+Z],Me=ie*le-he*ve;ve=ie*ve+he*le,le=Me,P[te+pe]=de+le,N[te+pe]=oe+ve,P[te+pe+Z]=de-le,N[te+pe+Z]=oe-ve,pe!==U&&(Me=M*ie-F*he,he=M*he+F*ie,ie=Me)}},ae.prototype.guessLen13b=function(u,T){var P=Math.max(T,u)|1,N=P&1,L=0;for(P=P/2|0;P;P=P>>>1)L++;return 1<<L+1+N},ae.prototype.conjugate=function(u,T,P){if(!(P<=1))for(var N=0;N<P/2;N++){var L=u[N];u[N]=u[P-N-1],u[P-N-1]=L,L=T[N],T[N]=-T[P-N-1],T[P-N-1]=-L}},ae.prototype.normalize13b=function(u,T){for(var P=0,N=0;N<T/2;N++){var L=Math.round(u[2*N+1]/T)*8192+Math.round(u[2*N]/T)+P;u[N]=L&67108863,L<67108864?P=0:P=L/67108864|0}return u},ae.prototype.convert13b=function(u,T,P,N){for(var L=0,W=0;W<T;W++)L=L+(u[W]|0),P[2*W]=L&8191,L=L>>>13,P[2*W+1]=L&8191,L=L>>>13;for(W=2*T;W<N;++W)P[W]=0;q(L===0),q((L&-8192)===0)},ae.prototype.stub=function(u){for(var T=new Array(u),P=0;P<u;P++)T[P]=0;return T},ae.prototype.mulp=function(u,T,P){var N=2*this.guessLen13b(u.length,T.length),L=this.makeRBT(N),W=this.stub(N),Z=new Array(N),U=new Array(N),M=new Array(N),F=new Array(N),te=new Array(N),ie=new Array(N),he=P.words;he.length=N,this.convert13b(u.words,u.length,Z,N),this.convert13b(T.words,T.length,F,N),this.transform(Z,W,U,M,N,L),this.transform(F,W,te,ie,N,L);for(var pe=0;pe<N;pe++){var de=U[pe]*te[pe]-M[pe]*ie[pe];M[pe]=U[pe]*ie[pe]+M[pe]*te[pe],U[pe]=de}return this.conjugate(U,M,N),this.transform(U,M,he,W,N,L),this.conjugate(he,W,N),this.normalize13b(he,N),P.negative=u.negative^T.negative,P.length=u.length+T.length,P.strip()},$.prototype.mul=function(u){var T=new $(null);return T.words=new Array(this.length+u.length),this.mulTo(u,T)},$.prototype.mulf=function(u){var T=new $(null);return T.words=new Array(this.length+u.length),se(this,u,T)},$.prototype.imul=function(u){return this.clone().mulTo(u,this)},$.prototype.imuln=function(u){q(typeof u=="number"),q(u<67108864);for(var T=0,P=0;P<this.length;P++){var N=(this.words[P]|0)*u,L=(N&67108863)+(T&67108863);T>>=26,T+=N/67108864|0,T+=L>>>26,this.words[P]=L&67108863}return T!==0&&(this.words[P]=T,this.length++),this},$.prototype.muln=function(u){return this.clone().imuln(u)},$.prototype.sqr=function(){return this.mul(this)},$.prototype.isqr=function(){return this.imul(this.clone())},$.prototype.pow=function(u){var T=Q(u);if(T.length===0)return new $(1);for(var P=this,N=0;N<T.length&&T[N]===0;N++,P=P.sqr());if(++N<T.length)for(var L=P.sqr();N<T.length;N++,L=L.sqr())T[N]!==0&&(P=P.mul(L));return P},$.prototype.iushln=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26,N=67108863>>>26-T<<26-T,L;if(T!==0){var W=0;for(L=0;L<this.length;L++){var Z=this.words[L]&N,U=(this.words[L]|0)-Z<<T;this.words[L]=U|W,W=Z>>>26-T}W&&(this.words[L]=W,this.length++)}if(P!==0){for(L=this.length-1;L>=0;L--)this.words[L+P]=this.words[L];for(L=0;L<P;L++)this.words[L]=0;this.length+=P}return this.strip()},$.prototype.ishln=function(u){return q(this.negative===0),this.iushln(u)},$.prototype.iushrn=function(u,T,P){q(typeof u=="number"&&u>=0);var N;T?N=(T-T%26)/26:N=0;var L=u%26,W=Math.min((u-L)/26,this.length),Z=67108863^67108863>>>L<<L,U=P;if(N-=W,N=Math.max(0,N),U){for(var M=0;M<W;M++)U.words[M]=this.words[M];U.length=W}if(W!==0)if(this.length>W)for(this.length-=W,M=0;M<this.length;M++)this.words[M]=this.words[M+W];else this.words[0]=0,this.length=1;var F=0;for(M=this.length-1;M>=0&&(F!==0||M>=N);M--){var te=this.words[M]|0;this.words[M]=F<<26-L|te>>>L,F=te&Z}return U&&F!==0&&(U.words[U.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},$.prototype.ishrn=function(u,T,P){return q(this.negative===0),this.iushrn(u,T,P)},$.prototype.shln=function(u){return this.clone().ishln(u)},$.prototype.ushln=function(u){return this.clone().iushln(u)},$.prototype.shrn=function(u){return this.clone().ishrn(u)},$.prototype.ushrn=function(u){return this.clone().iushrn(u)},$.prototype.testn=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26,N=1<<T;if(this.length<=P)return!1;var L=this.words[P];return!!(L&N)},$.prototype.imaskn=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26;if(q(this.negative===0,"imaskn works only with positive numbers"),this.length<=P)return this;if(T!==0&&P++,this.length=Math.min(P,this.length),T!==0){var N=67108863^67108863>>>T<<T;this.words[this.length-1]&=N}return this.strip()},$.prototype.maskn=function(u){return this.clone().imaskn(u)},$.prototype.iaddn=function(u){return q(typeof u=="number"),q(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},$.prototype._iaddn=function(u){this.words[0]+=u;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},$.prototype.isubn=function(u){if(q(typeof u=="number"),q(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this.strip()},$.prototype.addn=function(u){return this.clone().iaddn(u)},$.prototype.subn=function(u){return this.clone().isubn(u)},$.prototype.iabs=function(){return this.negative=0,this},$.prototype.abs=function(){return this.clone().iabs()},$.prototype._ishlnsubmul=function(u,T,P){var N=u.length+P,L;this._expand(N);var W,Z=0;for(L=0;L<u.length;L++){W=(this.words[L+P]|0)+Z;var U=(u.words[L]|0)*T;W-=U&67108863,Z=(W>>26)-(U/67108864|0),this.words[L+P]=W&67108863}for(;L<this.length-P;L++)W=(this.words[L+P]|0)+Z,Z=W>>26,this.words[L+P]=W&67108863;if(Z===0)return this.strip();for(q(Z===-1),Z=0,L=0;L<this.length;L++)W=-(this.words[L]|0)+Z,Z=W>>26,this.words[L]=W&67108863;return this.negative=1,this.strip()},$.prototype._wordDiv=function(u,T){var P=this.length-u.length,N=this.clone(),L=u,W=L.words[L.length-1]|0,Z=this._countBits(W);P=26-Z,P!==0&&(L=L.ushln(P),N.iushln(P),W=L.words[L.length-1]|0);var U=N.length-L.length,M;if(T!=="mod"){M=new $(null),M.length=U+1,M.words=new Array(M.length);for(var F=0;F<M.length;F++)M.words[F]=0}var te=N.clone()._ishlnsubmul(L,1,U);te.negative===0&&(N=te,M&&(M.words[U]=1));for(var ie=U-1;ie>=0;ie--){var he=(N.words[L.length+ie]|0)*67108864+(N.words[L.length+ie-1]|0);for(he=Math.min(he/W|0,67108863),N._ishlnsubmul(L,he,ie);N.negative!==0;)he--,N.negative=0,N._ishlnsubmul(L,1,ie),N.isZero()||(N.negative^=1);M&&(M.words[ie]=he)}return M&&M.strip(),N.strip(),T!=="div"&&P!==0&&N.iushrn(P),{div:M||null,mod:N}},$.prototype.divmod=function(u,T,P){if(q(!u.isZero()),this.isZero())return{div:new $(0),mod:new $(0)};var N,L,W;return this.negative!==0&&u.negative===0?(W=this.neg().divmod(u,T),T!=="mod"&&(N=W.div.neg()),T!=="div"&&(L=W.mod.neg(),P&&L.negative!==0&&L.iadd(u)),{div:N,mod:L}):this.negative===0&&u.negative!==0?(W=this.divmod(u.neg(),T),T!=="mod"&&(N=W.div.neg()),{div:N,mod:W.mod}):this.negative&u.negative?(W=this.neg().divmod(u.neg(),T),T!=="div"&&(L=W.mod.neg(),P&&L.negative!==0&&L.isub(u)),{div:W.div,mod:L}):u.length>this.length||this.cmp(u)<0?{div:new $(0),mod:this}:u.length===1?T==="div"?{div:this.divn(u.words[0]),mod:null}:T==="mod"?{div:null,mod:new $(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new $(this.modn(u.words[0]))}:this._wordDiv(u,T)},$.prototype.div=function(u){return this.divmod(u,"div",!1).div},$.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},$.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},$.prototype.divRound=function(u){var T=this.divmod(u);if(T.mod.isZero())return T.div;var P=T.div.negative!==0?T.mod.isub(u):T.mod,N=u.ushrn(1),L=u.andln(1),W=P.cmp(N);return W<0||L===1&&W===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},$.prototype.modn=function(u){q(u<=67108863);for(var T=(1<<26)%u,P=0,N=this.length-1;N>=0;N--)P=(T*P+(this.words[N]|0))%u;return P},$.prototype.idivn=function(u){q(u<=67108863);for(var T=0,P=this.length-1;P>=0;P--){var N=(this.words[P]|0)+T*67108864;this.words[P]=N/u|0,T=N%u}return this.strip()},$.prototype.divn=function(u){return this.clone().idivn(u)},$.prototype.egcd=function(u){q(u.negative===0),q(!u.isZero());var T=this,P=u.clone();T.negative!==0?T=T.umod(u):T=T.clone();for(var N=new $(1),L=new $(0),W=new $(0),Z=new $(1),U=0;T.isEven()&&P.isEven();)T.iushrn(1),P.iushrn(1),++U;for(var M=P.clone(),F=T.clone();!T.isZero();){for(var te=0,ie=1;!(T.words[0]&ie)&&te<26;++te,ie<<=1);if(te>0)for(T.iushrn(te);te-- >0;)(N.isOdd()||L.isOdd())&&(N.iadd(M),L.isub(F)),N.iushrn(1),L.iushrn(1);for(var he=0,pe=1;!(P.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(P.iushrn(he);he-- >0;)(W.isOdd()||Z.isOdd())&&(W.iadd(M),Z.isub(F)),W.iushrn(1),Z.iushrn(1);T.cmp(P)>=0?(T.isub(P),N.isub(W),L.isub(Z)):(P.isub(T),W.isub(N),Z.isub(L))}return{a:W,b:Z,gcd:P.iushln(U)}},$.prototype._invmp=function(u){q(u.negative===0),q(!u.isZero());var T=this,P=u.clone();T.negative!==0?T=T.umod(u):T=T.clone();for(var N=new $(1),L=new $(0),W=P.clone();T.cmpn(1)>0&&P.cmpn(1)>0;){for(var Z=0,U=1;!(T.words[0]&U)&&Z<26;++Z,U<<=1);if(Z>0)for(T.iushrn(Z);Z-- >0;)N.isOdd()&&N.iadd(W),N.iushrn(1);for(var M=0,F=1;!(P.words[0]&F)&&M<26;++M,F<<=1);if(M>0)for(P.iushrn(M);M-- >0;)L.isOdd()&&L.iadd(W),L.iushrn(1);T.cmp(P)>=0?(T.isub(P),N.isub(L)):(P.isub(T),L.isub(N))}var te;return T.cmpn(1)===0?te=N:te=L,te.cmpn(0)<0&&te.iadd(u),te},$.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var T=this.clone(),P=u.clone();T.negative=0,P.negative=0;for(var N=0;T.isEven()&&P.isEven();N++)T.iushrn(1),P.iushrn(1);do{for(;T.isEven();)T.iushrn(1);for(;P.isEven();)P.iushrn(1);var L=T.cmp(P);if(L<0){var W=T;T=P,P=W}else if(L===0||P.cmpn(1)===0)break;T.isub(P)}while(!0);return P.iushln(N)},$.prototype.invm=function(u){return this.egcd(u).a.umod(u)},$.prototype.isEven=function(){return(this.words[0]&1)===0},$.prototype.isOdd=function(){return(this.words[0]&1)===1},$.prototype.andln=function(u){return this.words[0]&u},$.prototype.bincn=function(u){q(typeof u=="number");var T=u%26,P=(u-T)/26,N=1<<T;if(this.length<=P)return this._expand(P+1),this.words[P]|=N,this;for(var L=N,W=P;L!==0&&W<this.length;W++){var Z=this.words[W]|0;Z+=L,L=Z>>>26,Z&=67108863,this.words[W]=Z}return L!==0&&(this.words[W]=L,this.length++),this},$.prototype.isZero=function(){return this.length===1&&this.words[0]===0},$.prototype.cmpn=function(u){var T=u<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;this.strip();var P;if(this.length>1)P=1;else{T&&(u=-u),q(u<=67108863,"Number is too big");var N=this.words[0]|0;P=N===u?0:N<u?-1:1}return this.negative!==0?-P|0:P},$.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var T=this.ucmp(u);return this.negative!==0?-T|0:T},$.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var T=0,P=this.length-1;P>=0;P--){var N=this.words[P]|0,L=u.words[P]|0;if(N!==L){N<L?T=-1:N>L&&(T=1);break}}return T},$.prototype.gtn=function(u){return this.cmpn(u)===1},$.prototype.gt=function(u){return this.cmp(u)===1},$.prototype.gten=function(u){return this.cmpn(u)>=0},$.prototype.gte=function(u){return this.cmp(u)>=0},$.prototype.ltn=function(u){return this.cmpn(u)===-1},$.prototype.lt=function(u){return this.cmp(u)===-1},$.prototype.lten=function(u){return this.cmpn(u)<=0},$.prototype.lte=function(u){return this.cmp(u)<=0},$.prototype.eqn=function(u){return this.cmpn(u)===0},$.prototype.eq=function(u){return this.cmp(u)===0},$.red=function(u){return new be(u)},$.prototype.toRed=function(u){return q(!this.red,"Already a number in reduction context"),q(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},$.prototype.fromRed=function(){return q(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},$.prototype._forceRed=function(u){return this.red=u,this},$.prototype.forceRed=function(u){return q(!this.red,"Already a number in reduction context"),this._forceRed(u)},$.prototype.redAdd=function(u){return q(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},$.prototype.redIAdd=function(u){return q(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},$.prototype.redSub=function(u){return q(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},$.prototype.redISub=function(u){return q(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},$.prototype.redShl=function(u){return q(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},$.prototype.redMul=function(u){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},$.prototype.redIMul=function(u){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},$.prototype.redSqr=function(){return q(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},$.prototype.redISqr=function(){return q(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},$.prototype.redSqrt=function(){return q(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},$.prototype.redInvm=function(){return q(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},$.prototype.redNeg=function(){return q(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},$.prototype.redPow=function(u){return q(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var fe={k256:null,p224:null,p192:null,p25519:null};function ue(J,u){this.name=J,this.p=new $(u,16),this.n=this.p.bitLength(),this.k=new $(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ue.prototype._tmp=function(){var u=new $(null);return u.words=new Array(Math.ceil(this.n/13)),u},ue.prototype.ireduce=function(u){var T=u,P;do this.split(T,this.tmp),T=this.imulK(T),T=T.iadd(this.tmp),P=T.bitLength();while(P>this.n);var N=P<this.n?-1:T.ucmp(this.p);return N===0?(T.words[0]=0,T.length=1):N>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},ue.prototype.split=function(u,T){u.iushrn(this.n,0,T)},ue.prototype.imulK=function(u){return u.imul(this.k)};function _e(){ue.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(_e,ue),_e.prototype.split=function(u,T){for(var P=4194303,N=Math.min(u.length,9),L=0;L<N;L++)T.words[L]=u.words[L];if(T.length=N,u.length<=9){u.words[0]=0,u.length=1;return}var W=u.words[9];for(T.words[T.length++]=W&P,L=10;L<u.length;L++){var Z=u.words[L]|0;u.words[L-10]=(Z&P)<<4|W>>>22,W=Z}W>>>=22,u.words[L-10]=W,W===0&&u.length>10?u.length-=10:u.length-=9},_e.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var T=0,P=0;P<u.length;P++){var N=u.words[P]|0;T+=N*977,u.words[P]=T&67108863,T=N*64+(T/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function ge(){ue.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(ge,ue);function Ae(){ue.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(Ae,ue);function Te(){ue.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(Te,ue),Te.prototype.imulK=function(u){for(var T=0,P=0;P<u.length;P++){var N=(u.words[P]|0)*19+T,L=N&67108863;N>>>=26,u.words[P]=L,T=N}return T!==0&&(u.words[u.length++]=T),u},$._prime=function(u){if(fe[u])return fe[u];var T;if(u==="k256")T=new _e;else if(u==="p224")T=new ge;else if(u==="p192")T=new Ae;else if(u==="p25519")T=new Te;else throw new Error("Unknown prime "+u);return fe[u]=T,T};function be(J){if(typeof J=="string"){var u=$._prime(J);this.m=u.p,this.prime=u}else q(J.gtn(1),"modulus must be greater than 1"),this.m=J,this.prime=null}be.prototype._verify1=function(u){q(u.negative===0,"red works only with positives"),q(u.red,"red works only with red numbers")},be.prototype._verify2=function(u,T){q((u.negative|T.negative)===0,"red works only with positives"),q(u.red&&u.red===T.red,"red works only with red numbers")},be.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},be.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},be.prototype.add=function(u,T){this._verify2(u,T);var P=u.add(T);return P.cmp(this.m)>=0&&P.isub(this.m),P._forceRed(this)},be.prototype.iadd=function(u,T){this._verify2(u,T);var P=u.iadd(T);return P.cmp(this.m)>=0&&P.isub(this.m),P},be.prototype.sub=function(u,T){this._verify2(u,T);var P=u.sub(T);return P.cmpn(0)<0&&P.iadd(this.m),P._forceRed(this)},be.prototype.isub=function(u,T){this._verify2(u,T);var P=u.isub(T);return P.cmpn(0)<0&&P.iadd(this.m),P},be.prototype.shl=function(u,T){return this._verify1(u),this.imod(u.ushln(T))},be.prototype.imul=function(u,T){return this._verify2(u,T),this.imod(u.imul(T))},be.prototype.mul=function(u,T){return this._verify2(u,T),this.imod(u.mul(T))},be.prototype.isqr=function(u){return this.imul(u,u.clone())},be.prototype.sqr=function(u){return this.mul(u,u)},be.prototype.sqrt=function(u){if(u.isZero())return u.clone();var T=this.m.andln(3);if(q(T%2===1),T===3){var P=this.m.add(new $(1)).iushrn(2);return this.pow(u,P)}for(var N=this.m.subn(1),L=0;!N.isZero()&&N.andln(1)===0;)L++,N.iushrn(1);q(!N.isZero());var W=new $(1).toRed(this),Z=W.redNeg(),U=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new $(2*M*M).toRed(this);this.pow(M,U).cmp(Z)!==0;)M.redIAdd(Z);for(var F=this.pow(M,N),te=this.pow(u,N.addn(1).iushrn(1)),ie=this.pow(u,N),he=L;ie.cmp(W)!==0;){for(var pe=ie,de=0;pe.cmp(W)!==0;de++)pe=pe.redSqr();q(de<he);var oe=this.pow(F,new $(1).iushln(he-de-1));te=te.redMul(oe),F=oe.redSqr(),ie=ie.redMul(F),he=de}return te},be.prototype.invm=function(u){var T=u._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},be.prototype.pow=function(u,T){if(T.isZero())return new $(1).toRed(this);if(T.cmpn(1)===0)return u.clone();var P=4,N=new Array(1<<P);N[0]=new $(1).toRed(this),N[1]=u;for(var L=2;L<N.length;L++)N[L]=this.mul(N[L-1],u);var W=N[0],Z=0,U=0,M=T.bitLength()%26;for(M===0&&(M=26),L=T.length-1;L>=0;L--){for(var F=T.words[L],te=M-1;te>=0;te--){var ie=F>>te&1;if(W!==N[0]&&(W=this.sqr(W)),ie===0&&Z===0){U=0;continue}Z<<=1,Z|=ie,U++,!(U!==P&&(L!==0||te!==0))&&(W=this.mul(W,N[Z]),U=0,Z=0)}M=26}return W},be.prototype.convertTo=function(u){var T=u.umod(this.m);return T===u?T.clone():T},be.prototype.convertFrom=function(u){var T=u.clone();return T.red=null,T},$.mont=function(u){return new Pe(u)};function Pe(J){be.call(this,J),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new $(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(Pe,be),Pe.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Pe.prototype.convertFrom=function(u){var T=this.imod(u.mul(this.rinv));return T.red=null,T},Pe.prototype.imul=function(u,T){if(u.isZero()||T.isZero())return u.words[0]=0,u.length=1,u;var P=u.imul(T),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=P.isub(N).iushrn(this.shift),W=L;return L.cmp(this.m)>=0?W=L.isub(this.m):L.cmpn(0)<0&&(W=L.iadd(this.m)),W._forceRed(this)},Pe.prototype.mul=function(u,T){if(u.isZero()||T.isZero())return new $(0)._forceRed(this);var P=u.mul(T),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=P.isub(N).iushrn(this.shift),W=L;return L.cmp(this.m)>=0?W=L.isub(this.m):L.cmpn(0)<0&&(W=L.iadd(this.m)),W._forceRed(this)},Pe.prototype.invm=function(u){var T=this.imod(u._invmp(this.m).mul(this.r2));return T._forceRed(this)}})(B,commonjsGlobal)}(bn$3)),bn$3.exports}var utils$3={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(B){var S=B;function D($,j){if(Array.isArray($))return $.slice();if(!$)return[];var G=[];if(typeof $!="string"){for(var V=0;V<$.length;V++)G[V]=$[V]|0;return G}if(j==="hex"){$=$.replace(/[^a-z0-9]+/ig,""),$.length%2!==0&&($="0"+$);for(var V=0;V<$.length;V+=2)G.push(parseInt($[V]+$[V+1],16))}else for(var V=0;V<$.length;V++){var K=$.charCodeAt(V),H=K>>8,Y=K&255;H?G.push(H,Y):G.push(Y)}return G}S.toArray=D;function q($){return $.length===1?"0"+$:$}S.zero2=q;function O($){for(var j="",G=0;G<$.length;G++)j+=q($[G].toString(16));return j}S.toHex=O,S.encode=function(j,G){return G==="hex"?O(j):j}}(utils$3)),utils$3}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(B){var S=B,D=requireBn$3(),q=requireMinimalisticAssert(),O=requireUtils$2();S.assert=q,S.toArray=O.toArray,S.zero2=O.zero2,S.toHex=O.toHex,S.encode=O.encode;function $(H,Y,X){var Q=new Array(Math.max(H.bitLength(),X)+1),ee;for(ee=0;ee<Q.length;ee+=1)Q[ee]=0;var re=1<<Y+1,ne=H.clone();for(ee=0;ee<Q.length;ee++){var se,ae=ne.andln(re-1);ne.isOdd()?(ae>(re>>1)-1?se=(re>>1)-ae:se=ae,ne.isubn(se)):se=0,Q[ee]=se,ne.iushrn(1)}return Q}S.getNAF=$;function j(H,Y){var X=[[],[]];H=H.clone(),Y=Y.clone();for(var Q=0,ee=0,re;H.cmpn(-Q)>0||Y.cmpn(-ee)>0;){var ne=H.andln(3)+Q&3,se=Y.andln(3)+ee&3;ne===3&&(ne=-1),se===3&&(se=-1);var ae;ne&1?(re=H.andln(7)+Q&7,(re===3||re===5)&&se===2?ae=-ne:ae=ne):ae=0,X[0].push(ae);var fe;se&1?(re=Y.andln(7)+ee&7,(re===3||re===5)&&ne===2?fe=-se:fe=se):fe=0,X[1].push(fe),2*Q===ae+1&&(Q=1-Q),2*ee===fe+1&&(ee=1-ee),H.iushrn(1),Y.iushrn(1)}return X}S.getJSF=j;function G(H,Y,X){var Q="_"+Y;H.prototype[Y]=function(){return this[Q]!==void 0?this[Q]:this[Q]=X.call(this)}}S.cachedProperty=G;function V(H){return typeof H=="string"?S.toArray(H,"hex"):H}S.parseBytes=V;function K(H){return new D(H,"hex","le")}S.intFromLE=K}(utils$4)),utils$4}var curve={},base$1,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var B=requireBn$3(),S=requireUtils$1(),D=S.getNAF,q=S.getJSF,O=S.assert;function $(G,V){this.type=G,this.p=new B(V.p,16),this.red=V.prime?B.red(V.prime):B.mont(this.p),this.zero=new B(0).toRed(this.red),this.one=new B(1).toRed(this.red),this.two=new B(2).toRed(this.red),this.n=V.n&&new B(V.n,16),this.g=V.g&&this.pointFromJSON(V.g,V.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var K=this.n&&this.p.div(this.n);!K||K.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=$,$.prototype.point=function(){throw new Error("Not implemented")},$.prototype.validate=function(){throw new Error("Not implemented")},$.prototype._fixedNafMul=function(V,K){O(V.precomputed);var H=V._getDoubles(),Y=D(K,1,this._bitLength),X=(1<<H.step+1)-(H.step%2===0?2:1);X/=3;var Q=[],ee,re;for(ee=0;ee<Y.length;ee+=H.step){re=0;for(var ne=ee+H.step-1;ne>=ee;ne--)re=(re<<1)+Y[ne];Q.push(re)}for(var se=this.jpoint(null,null,null),ae=this.jpoint(null,null,null),fe=X;fe>0;fe--){for(ee=0;ee<Q.length;ee++)re=Q[ee],re===fe?ae=ae.mixedAdd(H.points[ee]):re===-fe&&(ae=ae.mixedAdd(H.points[ee].neg()));se=se.add(ae)}return se.toP()},$.prototype._wnafMul=function(V,K){var H=4,Y=V._getNAFPoints(H);H=Y.wnd;for(var X=Y.points,Q=D(K,H,this._bitLength),ee=this.jpoint(null,null,null),re=Q.length-1;re>=0;re--){for(var ne=0;re>=0&&Q[re]===0;re--)ne++;if(re>=0&&ne++,ee=ee.dblp(ne),re<0)break;var se=Q[re];O(se!==0),V.type==="affine"?se>0?ee=ee.mixedAdd(X[se-1>>1]):ee=ee.mixedAdd(X[-se-1>>1].neg()):se>0?ee=ee.add(X[se-1>>1]):ee=ee.add(X[-se-1>>1].neg())}return V.type==="affine"?ee.toP():ee},$.prototype._wnafMulAdd=function(V,K,H,Y,X){var Q=this._wnafT1,ee=this._wnafT2,re=this._wnafT3,ne=0,se,ae,fe;for(se=0;se<Y;se++){fe=K[se];var ue=fe._getNAFPoints(V);Q[se]=ue.wnd,ee[se]=ue.points}for(se=Y-1;se>=1;se-=2){var _e=se-1,ge=se;if(Q[_e]!==1||Q[ge]!==1){re[_e]=D(H[_e],Q[_e],this._bitLength),re[ge]=D(H[ge],Q[ge],this._bitLength),ne=Math.max(re[_e].length,ne),ne=Math.max(re[ge].length,ne);continue}var Ae=[K[_e],null,null,K[ge]];K[_e].y.cmp(K[ge].y)===0?(Ae[1]=K[_e].add(K[ge]),Ae[2]=K[_e].toJ().mixedAdd(K[ge].neg())):K[_e].y.cmp(K[ge].y.redNeg())===0?(Ae[1]=K[_e].toJ().mixedAdd(K[ge]),Ae[2]=K[_e].add(K[ge].neg())):(Ae[1]=K[_e].toJ().mixedAdd(K[ge]),Ae[2]=K[_e].toJ().mixedAdd(K[ge].neg()));var Te=[-3,-1,-5,-7,0,7,5,1,3],be=q(H[_e],H[ge]);for(ne=Math.max(be[0].length,ne),re[_e]=new Array(ne),re[ge]=new Array(ne),ae=0;ae<ne;ae++){var Pe=be[0][ae]|0,J=be[1][ae]|0;re[_e][ae]=Te[(Pe+1)*3+(J+1)],re[ge][ae]=0,ee[_e]=Ae}}var u=this.jpoint(null,null,null),T=this._wnafT4;for(se=ne;se>=0;se--){for(var P=0;se>=0;){var N=!0;for(ae=0;ae<Y;ae++)T[ae]=re[ae][se]|0,T[ae]!==0&&(N=!1);if(!N)break;P++,se--}if(se>=0&&P++,u=u.dblp(P),se<0)break;for(ae=0;ae<Y;ae++){var L=T[ae];L!==0&&(L>0?fe=ee[ae][L-1>>1]:L<0&&(fe=ee[ae][-L-1>>1].neg()),fe.type==="affine"?u=u.mixedAdd(fe):u=u.add(fe))}}for(se=0;se<Y;se++)ee[se]=null;return X?u:u.toP()};function j(G,V){this.curve=G,this.type=V,this.precomputed=null}return $.BasePoint=j,j.prototype.eq=function(){throw new Error("Not implemented")},j.prototype.validate=function(){return this.curve.validate(this)},$.prototype.decodePoint=function(V,K){V=S.toArray(V,K);var H=this.p.byteLength();if((V[0]===4||V[0]===6||V[0]===7)&&V.length-1===2*H){V[0]===6?O(V[V.length-1]%2===0):V[0]===7&&O(V[V.length-1]%2===1);var Y=this.point(V.slice(1,1+H),V.slice(1+H,1+2*H));return Y}else if((V[0]===2||V[0]===3)&&V.length-1===H)return this.pointFromX(V.slice(1,1+H),V[0]===3);throw new Error("Unknown point format")},j.prototype.encodeCompressed=function(V){return this.encode(V,!0)},j.prototype._encode=function(V){var K=this.curve.p.byteLength(),H=this.getX().toArray("be",K);return V?[this.getY().isEven()?2:3].concat(H):[4].concat(H,this.getY().toArray("be",K))},j.prototype.encode=function(V,K){return S.encode(this._encode(K),V)},j.prototype.precompute=function(V){if(this.precomputed)return this;var K={doubles:null,naf:null,beta:null};return K.naf=this._getNAFPoints(8),K.doubles=this._getDoubles(4,V),K.beta=this._getBeta(),this.precomputed=K,this},j.prototype._hasDoubles=function(V){if(!this.precomputed)return!1;var K=this.precomputed.doubles;return K?K.points.length>=Math.ceil((V.bitLength()+1)/K.step):!1},j.prototype._getDoubles=function(V,K){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var H=[this],Y=this,X=0;X<K;X+=V){for(var Q=0;Q<V;Q++)Y=Y.dbl();H.push(Y)}return{step:V,points:H}},j.prototype._getNAFPoints=function(V){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var K=[this],H=(1<<V)-1,Y=H===1?null:this.dbl(),X=1;X<H;X++)K[X]=K[X-1].add(Y);return{wnd:V,points:K}},j.prototype._getBeta=function(){return null},j.prototype.dblp=function(V){for(var K=this,H=0;H<V;H++)K=K.dbl();return K},base$1}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var B=requireUtils$1(),S=requireBn$3(),D=requireInherits_browser(),q=requireBase$1(),O=B.assert;function $(V){q.call(this,"short",V),this.a=new S(V.a,16).toRed(this.red),this.b=new S(V.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(V),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}D($,q),short=$,$.prototype._getEndomorphism=function(K){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var H,Y;if(K.beta)H=new S(K.beta,16).toRed(this.red);else{var X=this._getEndoRoots(this.p);H=X[0].cmp(X[1])<0?X[0]:X[1],H=H.toRed(this.red)}if(K.lambda)Y=new S(K.lambda,16);else{var Q=this._getEndoRoots(this.n);this.g.mul(Q[0]).x.cmp(this.g.x.redMul(H))===0?Y=Q[0]:(Y=Q[1],O(this.g.mul(Y).x.cmp(this.g.x.redMul(H))===0))}var ee;return K.basis?ee=K.basis.map(function(re){return{a:new S(re.a,16),b:new S(re.b,16)}}):ee=this._getEndoBasis(Y),{beta:H,lambda:Y,basis:ee}}},$.prototype._getEndoRoots=function(K){var H=K===this.p?this.red:S.mont(K),Y=new S(2).toRed(H).redInvm(),X=Y.redNeg(),Q=new S(3).toRed(H).redNeg().redSqrt().redMul(Y),ee=X.redAdd(Q).fromRed(),re=X.redSub(Q).fromRed();return[ee,re]},$.prototype._getEndoBasis=function(K){for(var H=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Y=K,X=this.n.clone(),Q=new S(1),ee=new S(0),re=new S(0),ne=new S(1),se,ae,fe,ue,_e,ge,Ae,Te=0,be,Pe;Y.cmpn(0)!==0;){var J=X.div(Y);be=X.sub(J.mul(Y)),Pe=re.sub(J.mul(Q));var u=ne.sub(J.mul(ee));if(!fe&&be.cmp(H)<0)se=Ae.neg(),ae=Q,fe=be.neg(),ue=Pe;else if(fe&&++Te===2)break;Ae=be,X=Y,Y=be,re=Q,Q=Pe,ne=ee,ee=u}_e=be.neg(),ge=Pe;var T=fe.sqr().add(ue.sqr()),P=_e.sqr().add(ge.sqr());return P.cmp(T)>=0&&(_e=se,ge=ae),fe.negative&&(fe=fe.neg(),ue=ue.neg()),_e.negative&&(_e=_e.neg(),ge=ge.neg()),[{a:fe,b:ue},{a:_e,b:ge}]},$.prototype._endoSplit=function(K){var H=this.endo.basis,Y=H[0],X=H[1],Q=X.b.mul(K).divRound(this.n),ee=Y.b.neg().mul(K).divRound(this.n),re=Q.mul(Y.a),ne=ee.mul(X.a),se=Q.mul(Y.b),ae=ee.mul(X.b),fe=K.sub(re).sub(ne),ue=se.add(ae).neg();return{k1:fe,k2:ue}},$.prototype.pointFromX=function(K,H){K=new S(K,16),K.red||(K=K.toRed(this.red));var Y=K.redSqr().redMul(K).redIAdd(K.redMul(this.a)).redIAdd(this.b),X=Y.redSqrt();if(X.redSqr().redSub(Y).cmp(this.zero)!==0)throw new Error("invalid point");var Q=X.fromRed().isOdd();return(H&&!Q||!H&&Q)&&(X=X.redNeg()),this.point(K,X)},$.prototype.validate=function(K){if(K.inf)return!0;var H=K.x,Y=K.y,X=this.a.redMul(H),Q=H.redSqr().redMul(H).redIAdd(X).redIAdd(this.b);return Y.redSqr().redISub(Q).cmpn(0)===0},$.prototype._endoWnafMulAdd=function(K,H,Y){for(var X=this._endoWnafT1,Q=this._endoWnafT2,ee=0;ee<K.length;ee++){var re=this._endoSplit(H[ee]),ne=K[ee],se=ne._getBeta();re.k1.negative&&(re.k1.ineg(),ne=ne.neg(!0)),re.k2.negative&&(re.k2.ineg(),se=se.neg(!0)),X[ee*2]=ne,X[ee*2+1]=se,Q[ee*2]=re.k1,Q[ee*2+1]=re.k2}for(var ae=this._wnafMulAdd(1,X,Q,ee*2,Y),fe=0;fe<ee*2;fe++)X[fe]=null,Q[fe]=null;return ae};function j(V,K,H,Y){q.BasePoint.call(this,V,"affine"),K===null&&H===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new S(K,16),this.y=new S(H,16),Y&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}D(j,q.BasePoint),$.prototype.point=function(K,H,Y){return new j(this,K,H,Y)},$.prototype.pointFromJSON=function(K,H){return j.fromJSON(this,K,H)},j.prototype._getBeta=function(){if(this.curve.endo){var K=this.precomputed;if(K&&K.beta)return K.beta;var H=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(K){var Y=this.curve,X=function(Q){return Y.point(Q.x.redMul(Y.endo.beta),Q.y)};K.beta=H,H.precomputed={beta:null,naf:K.naf&&{wnd:K.naf.wnd,points:K.naf.points.map(X)},doubles:K.doubles&&{step:K.doubles.step,points:K.doubles.points.map(X)}}}return H}},j.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},j.fromJSON=function(K,H,Y){typeof H=="string"&&(H=JSON.parse(H));var X=K.point(H[0],H[1],Y);if(!H[2])return X;function Q(re){return K.point(re[0],re[1],Y)}var ee=H[2];return X.precomputed={beta:null,doubles:ee.doubles&&{step:ee.doubles.step,points:[X].concat(ee.doubles.points.map(Q))},naf:ee.naf&&{wnd:ee.naf.wnd,points:[X].concat(ee.naf.points.map(Q))}},X},j.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},j.prototype.isInfinity=function(){return this.inf},j.prototype.add=function(K){if(this.inf)return K;if(K.inf)return this;if(this.eq(K))return this.dbl();if(this.neg().eq(K))return this.curve.point(null,null);if(this.x.cmp(K.x)===0)return this.curve.point(null,null);var H=this.y.redSub(K.y);H.cmpn(0)!==0&&(H=H.redMul(this.x.redSub(K.x).redInvm()));var Y=H.redSqr().redISub(this.x).redISub(K.x),X=H.redMul(this.x.redSub(Y)).redISub(this.y);return this.curve.point(Y,X)},j.prototype.dbl=function(){if(this.inf)return this;var K=this.y.redAdd(this.y);if(K.cmpn(0)===0)return this.curve.point(null,null);var H=this.curve.a,Y=this.x.redSqr(),X=K.redInvm(),Q=Y.redAdd(Y).redIAdd(Y).redIAdd(H).redMul(X),ee=Q.redSqr().redISub(this.x.redAdd(this.x)),re=Q.redMul(this.x.redSub(ee)).redISub(this.y);return this.curve.point(ee,re)},j.prototype.getX=function(){return this.x.fromRed()},j.prototype.getY=function(){return this.y.fromRed()},j.prototype.mul=function(K){return K=new S(K,16),this.isInfinity()?this:this._hasDoubles(K)?this.curve._fixedNafMul(this,K):this.curve.endo?this.curve._endoWnafMulAdd([this],[K]):this.curve._wnafMul(this,K)},j.prototype.mulAdd=function(K,H,Y){var X=[this,H],Q=[K,Y];return this.curve.endo?this.curve._endoWnafMulAdd(X,Q):this.curve._wnafMulAdd(1,X,Q,2)},j.prototype.jmulAdd=function(K,H,Y){var X=[this,H],Q=[K,Y];return this.curve.endo?this.curve._endoWnafMulAdd(X,Q,!0):this.curve._wnafMulAdd(1,X,Q,2,!0)},j.prototype.eq=function(K){return this===K||this.inf===K.inf&&(this.inf||this.x.cmp(K.x)===0&&this.y.cmp(K.y)===0)},j.prototype.neg=function(K){if(this.inf)return this;var H=this.curve.point(this.x,this.y.redNeg());if(K&&this.precomputed){var Y=this.precomputed,X=function(Q){return Q.neg()};H.precomputed={naf:Y.naf&&{wnd:Y.naf.wnd,points:Y.naf.points.map(X)},doubles:Y.doubles&&{step:Y.doubles.step,points:Y.doubles.points.map(X)}}}return H},j.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var K=this.curve.jpoint(this.x,this.y,this.curve.one);return K};function G(V,K,H,Y){q.BasePoint.call(this,V,"jacobian"),K===null&&H===null&&Y===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new S(0)):(this.x=new S(K,16),this.y=new S(H,16),this.z=new S(Y,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return D(G,q.BasePoint),$.prototype.jpoint=function(K,H,Y){return new G(this,K,H,Y)},G.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var K=this.z.redInvm(),H=K.redSqr(),Y=this.x.redMul(H),X=this.y.redMul(H).redMul(K);return this.curve.point(Y,X)},G.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},G.prototype.add=function(K){if(this.isInfinity())return K;if(K.isInfinity())return this;var H=K.z.redSqr(),Y=this.z.redSqr(),X=this.x.redMul(H),Q=K.x.redMul(Y),ee=this.y.redMul(H.redMul(K.z)),re=K.y.redMul(Y.redMul(this.z)),ne=X.redSub(Q),se=ee.redSub(re);if(ne.cmpn(0)===0)return se.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ae=ne.redSqr(),fe=ae.redMul(ne),ue=X.redMul(ae),_e=se.redSqr().redIAdd(fe).redISub(ue).redISub(ue),ge=se.redMul(ue.redISub(_e)).redISub(ee.redMul(fe)),Ae=this.z.redMul(K.z).redMul(ne);return this.curve.jpoint(_e,ge,Ae)},G.prototype.mixedAdd=function(K){if(this.isInfinity())return K.toJ();if(K.isInfinity())return this;var H=this.z.redSqr(),Y=this.x,X=K.x.redMul(H),Q=this.y,ee=K.y.redMul(H).redMul(this.z),re=Y.redSub(X),ne=Q.redSub(ee);if(re.cmpn(0)===0)return ne.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var se=re.redSqr(),ae=se.redMul(re),fe=Y.redMul(se),ue=ne.redSqr().redIAdd(ae).redISub(fe).redISub(fe),_e=ne.redMul(fe.redISub(ue)).redISub(Q.redMul(ae)),ge=this.z.redMul(re);return this.curve.jpoint(ue,_e,ge)},G.prototype.dblp=function(K){if(K===0)return this;if(this.isInfinity())return this;if(!K)return this.dbl();var H;if(this.curve.zeroA||this.curve.threeA){var Y=this;for(H=0;H<K;H++)Y=Y.dbl();return Y}var X=this.curve.a,Q=this.curve.tinv,ee=this.x,re=this.y,ne=this.z,se=ne.redSqr().redSqr(),ae=re.redAdd(re);for(H=0;H<K;H++){var fe=ee.redSqr(),ue=ae.redSqr(),_e=ue.redSqr(),ge=fe.redAdd(fe).redIAdd(fe).redIAdd(X.redMul(se)),Ae=ee.redMul(ue),Te=ge.redSqr().redISub(Ae.redAdd(Ae)),be=Ae.redISub(Te),Pe=ge.redMul(be);Pe=Pe.redIAdd(Pe).redISub(_e);var J=ae.redMul(ne);H+1<K&&(se=se.redMul(_e)),ee=Te,ne=J,ae=Pe}return this.curve.jpoint(ee,ae.redMul(Q),ne)},G.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},G.prototype._zeroDbl=function(){var K,H,Y;if(this.zOne){var X=this.x.redSqr(),Q=this.y.redSqr(),ee=Q.redSqr(),re=this.x.redAdd(Q).redSqr().redISub(X).redISub(ee);re=re.redIAdd(re);var ne=X.redAdd(X).redIAdd(X),se=ne.redSqr().redISub(re).redISub(re),ae=ee.redIAdd(ee);ae=ae.redIAdd(ae),ae=ae.redIAdd(ae),K=se,H=ne.redMul(re.redISub(se)).redISub(ae),Y=this.y.redAdd(this.y)}else{var fe=this.x.redSqr(),ue=this.y.redSqr(),_e=ue.redSqr(),ge=this.x.redAdd(ue).redSqr().redISub(fe).redISub(_e);ge=ge.redIAdd(ge);var Ae=fe.redAdd(fe).redIAdd(fe),Te=Ae.redSqr(),be=_e.redIAdd(_e);be=be.redIAdd(be),be=be.redIAdd(be),K=Te.redISub(ge).redISub(ge),H=Ae.redMul(ge.redISub(K)).redISub(be),Y=this.y.redMul(this.z),Y=Y.redIAdd(Y)}return this.curve.jpoint(K,H,Y)},G.prototype._threeDbl=function(){var K,H,Y;if(this.zOne){var X=this.x.redSqr(),Q=this.y.redSqr(),ee=Q.redSqr(),re=this.x.redAdd(Q).redSqr().redISub(X).redISub(ee);re=re.redIAdd(re);var ne=X.redAdd(X).redIAdd(X).redIAdd(this.curve.a),se=ne.redSqr().redISub(re).redISub(re);K=se;var ae=ee.redIAdd(ee);ae=ae.redIAdd(ae),ae=ae.redIAdd(ae),H=ne.redMul(re.redISub(se)).redISub(ae),Y=this.y.redAdd(this.y)}else{var fe=this.z.redSqr(),ue=this.y.redSqr(),_e=this.x.redMul(ue),ge=this.x.redSub(fe).redMul(this.x.redAdd(fe));ge=ge.redAdd(ge).redIAdd(ge);var Ae=_e.redIAdd(_e);Ae=Ae.redIAdd(Ae);var Te=Ae.redAdd(Ae);K=ge.redSqr().redISub(Te),Y=this.y.redAdd(this.z).redSqr().redISub(ue).redISub(fe);var be=ue.redSqr();be=be.redIAdd(be),be=be.redIAdd(be),be=be.redIAdd(be),H=ge.redMul(Ae.redISub(K)).redISub(be)}return this.curve.jpoint(K,H,Y)},G.prototype._dbl=function(){var K=this.curve.a,H=this.x,Y=this.y,X=this.z,Q=X.redSqr().redSqr(),ee=H.redSqr(),re=Y.redSqr(),ne=ee.redAdd(ee).redIAdd(ee).redIAdd(K.redMul(Q)),se=H.redAdd(H);se=se.redIAdd(se);var ae=se.redMul(re),fe=ne.redSqr().redISub(ae.redAdd(ae)),ue=ae.redISub(fe),_e=re.redSqr();_e=_e.redIAdd(_e),_e=_e.redIAdd(_e),_e=_e.redIAdd(_e);var ge=ne.redMul(ue).redISub(_e),Ae=Y.redAdd(Y).redMul(X);return this.curve.jpoint(fe,ge,Ae)},G.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var K=this.x.redSqr(),H=this.y.redSqr(),Y=this.z.redSqr(),X=H.redSqr(),Q=K.redAdd(K).redIAdd(K),ee=Q.redSqr(),re=this.x.redAdd(H).redSqr().redISub(K).redISub(X);re=re.redIAdd(re),re=re.redAdd(re).redIAdd(re),re=re.redISub(ee);var ne=re.redSqr(),se=X.redIAdd(X);se=se.redIAdd(se),se=se.redIAdd(se),se=se.redIAdd(se);var ae=Q.redIAdd(re).redSqr().redISub(ee).redISub(ne).redISub(se),fe=H.redMul(ae);fe=fe.redIAdd(fe),fe=fe.redIAdd(fe);var ue=this.x.redMul(ne).redISub(fe);ue=ue.redIAdd(ue),ue=ue.redIAdd(ue);var _e=this.y.redMul(ae.redMul(se.redISub(ae)).redISub(re.redMul(ne)));_e=_e.redIAdd(_e),_e=_e.redIAdd(_e),_e=_e.redIAdd(_e);var ge=this.z.redAdd(re).redSqr().redISub(Y).redISub(ne);return this.curve.jpoint(ue,_e,ge)},G.prototype.mul=function(K,H){return K=new S(K,H),this.curve._wnafMul(this,K)},G.prototype.eq=function(K){if(K.type==="affine")return this.eq(K.toJ());if(this===K)return!0;var H=this.z.redSqr(),Y=K.z.redSqr();if(this.x.redMul(Y).redISub(K.x.redMul(H)).cmpn(0)!==0)return!1;var X=H.redMul(this.z),Q=Y.redMul(K.z);return this.y.redMul(Q).redISub(K.y.redMul(X)).cmpn(0)===0},G.prototype.eqXToP=function(K){var H=this.z.redSqr(),Y=K.toRed(this.curve.red).redMul(H);if(this.x.cmp(Y)===0)return!0;for(var X=K.clone(),Q=this.curve.redN.redMul(H);;){if(X.iadd(this.curve.n),X.cmp(this.curve.p)>=0)return!1;if(Y.redIAdd(Q),this.x.cmp(Y)===0)return!0}},G.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},G.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var B=requireBn$3(),S=requireInherits_browser(),D=requireBase$1(),q=requireUtils$1();function O(j){D.call(this,"mont",j),this.a=new B(j.a,16).toRed(this.red),this.b=new B(j.b,16).toRed(this.red),this.i4=new B(4).toRed(this.red).redInvm(),this.two=new B(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}S(O,D),mont=O,O.prototype.validate=function(G){var V=G.normalize().x,K=V.redSqr(),H=K.redMul(V).redAdd(K.redMul(this.a)).redAdd(V),Y=H.redSqrt();return Y.redSqr().cmp(H)===0};function $(j,G,V){D.BasePoint.call(this,j,"projective"),G===null&&V===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new B(G,16),this.z=new B(V,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return S($,D.BasePoint),O.prototype.decodePoint=function(G,V){return this.point(q.toArray(G,V),1)},O.prototype.point=function(G,V){return new $(this,G,V)},O.prototype.pointFromJSON=function(G){return $.fromJSON(this,G)},$.prototype.precompute=function(){},$.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},$.fromJSON=function(G,V){return new $(G,V[0],V[1]||G.one)},$.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},$.prototype.isInfinity=function(){return this.z.cmpn(0)===0},$.prototype.dbl=function(){var G=this.x.redAdd(this.z),V=G.redSqr(),K=this.x.redSub(this.z),H=K.redSqr(),Y=V.redSub(H),X=V.redMul(H),Q=Y.redMul(H.redAdd(this.curve.a24.redMul(Y)));return this.curve.point(X,Q)},$.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},$.prototype.diffAdd=function(G,V){var K=this.x.redAdd(this.z),H=this.x.redSub(this.z),Y=G.x.redAdd(G.z),X=G.x.redSub(G.z),Q=X.redMul(K),ee=Y.redMul(H),re=V.z.redMul(Q.redAdd(ee).redSqr()),ne=V.x.redMul(Q.redISub(ee).redSqr());return this.curve.point(re,ne)},$.prototype.mul=function(G){for(var V=G.clone(),K=this,H=this.curve.point(null,null),Y=this,X=[];V.cmpn(0)!==0;V.iushrn(1))X.push(V.andln(1));for(var Q=X.length-1;Q>=0;Q--)X[Q]===0?(K=K.diffAdd(H,Y),H=H.dbl()):(H=K.diffAdd(H,Y),K=K.dbl());return H},$.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},$.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},$.prototype.eq=function(G){return this.getX().cmp(G.getX())===0},$.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},$.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var B=requireUtils$1(),S=requireBn$3(),D=requireInherits_browser(),q=requireBase$1(),O=B.assert;function $(G){this.twisted=(G.a|0)!==1,this.mOneA=this.twisted&&(G.a|0)===-1,this.extended=this.mOneA,q.call(this,"edwards",G),this.a=new S(G.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new S(G.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new S(G.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),O(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(G.c|0)===1}D($,q),edwards=$,$.prototype._mulA=function(V){return this.mOneA?V.redNeg():this.a.redMul(V)},$.prototype._mulC=function(V){return this.oneC?V:this.c.redMul(V)},$.prototype.jpoint=function(V,K,H,Y){return this.point(V,K,H,Y)},$.prototype.pointFromX=function(V,K){V=new S(V,16),V.red||(V=V.toRed(this.red));var H=V.redSqr(),Y=this.c2.redSub(this.a.redMul(H)),X=this.one.redSub(this.c2.redMul(this.d).redMul(H)),Q=Y.redMul(X.redInvm()),ee=Q.redSqrt();if(ee.redSqr().redSub(Q).cmp(this.zero)!==0)throw new Error("invalid point");var re=ee.fromRed().isOdd();return(K&&!re||!K&&re)&&(ee=ee.redNeg()),this.point(V,ee)},$.prototype.pointFromY=function(V,K){V=new S(V,16),V.red||(V=V.toRed(this.red));var H=V.redSqr(),Y=H.redSub(this.c2),X=H.redMul(this.d).redMul(this.c2).redSub(this.a),Q=Y.redMul(X.redInvm());if(Q.cmp(this.zero)===0){if(K)throw new Error("invalid point");return this.point(this.zero,V)}var ee=Q.redSqrt();if(ee.redSqr().redSub(Q).cmp(this.zero)!==0)throw new Error("invalid point");return ee.fromRed().isOdd()!==K&&(ee=ee.redNeg()),this.point(ee,V)},$.prototype.validate=function(V){if(V.isInfinity())return!0;V.normalize();var K=V.x.redSqr(),H=V.y.redSqr(),Y=K.redMul(this.a).redAdd(H),X=this.c2.redMul(this.one.redAdd(this.d.redMul(K).redMul(H)));return Y.cmp(X)===0};function j(G,V,K,H,Y){q.BasePoint.call(this,G,"projective"),V===null&&K===null&&H===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new S(V,16),this.y=new S(K,16),this.z=H?new S(H,16):this.curve.one,this.t=Y&&new S(Y,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return D(j,q.BasePoint),$.prototype.pointFromJSON=function(V){return j.fromJSON(this,V)},$.prototype.point=function(V,K,H,Y){return new j(this,V,K,H,Y)},j.fromJSON=function(V,K){return new j(V,K[0],K[1],K[2])},j.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},j.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},j.prototype._extDbl=function(){var V=this.x.redSqr(),K=this.y.redSqr(),H=this.z.redSqr();H=H.redIAdd(H);var Y=this.curve._mulA(V),X=this.x.redAdd(this.y).redSqr().redISub(V).redISub(K),Q=Y.redAdd(K),ee=Q.redSub(H),re=Y.redSub(K),ne=X.redMul(ee),se=Q.redMul(re),ae=X.redMul(re),fe=ee.redMul(Q);return this.curve.point(ne,se,fe,ae)},j.prototype._projDbl=function(){var V=this.x.redAdd(this.y).redSqr(),K=this.x.redSqr(),H=this.y.redSqr(),Y,X,Q,ee,re,ne;if(this.curve.twisted){ee=this.curve._mulA(K);var se=ee.redAdd(H);this.zOne?(Y=V.redSub(K).redSub(H).redMul(se.redSub(this.curve.two)),X=se.redMul(ee.redSub(H)),Q=se.redSqr().redSub(se).redSub(se)):(re=this.z.redSqr(),ne=se.redSub(re).redISub(re),Y=V.redSub(K).redISub(H).redMul(ne),X=se.redMul(ee.redSub(H)),Q=se.redMul(ne))}else ee=K.redAdd(H),re=this.curve._mulC(this.z).redSqr(),ne=ee.redSub(re).redSub(re),Y=this.curve._mulC(V.redISub(ee)).redMul(ne),X=this.curve._mulC(ee).redMul(K.redISub(H)),Q=ee.redMul(ne);return this.curve.point(Y,X,Q)},j.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},j.prototype._extAdd=function(V){var K=this.y.redSub(this.x).redMul(V.y.redSub(V.x)),H=this.y.redAdd(this.x).redMul(V.y.redAdd(V.x)),Y=this.t.redMul(this.curve.dd).redMul(V.t),X=this.z.redMul(V.z.redAdd(V.z)),Q=H.redSub(K),ee=X.redSub(Y),re=X.redAdd(Y),ne=H.redAdd(K),se=Q.redMul(ee),ae=re.redMul(ne),fe=Q.redMul(ne),ue=ee.redMul(re);return this.curve.point(se,ae,ue,fe)},j.prototype._projAdd=function(V){var K=this.z.redMul(V.z),H=K.redSqr(),Y=this.x.redMul(V.x),X=this.y.redMul(V.y),Q=this.curve.d.redMul(Y).redMul(X),ee=H.redSub(Q),re=H.redAdd(Q),ne=this.x.redAdd(this.y).redMul(V.x.redAdd(V.y)).redISub(Y).redISub(X),se=K.redMul(ee).redMul(ne),ae,fe;return this.curve.twisted?(ae=K.redMul(re).redMul(X.redSub(this.curve._mulA(Y))),fe=ee.redMul(re)):(ae=K.redMul(re).redMul(X.redSub(Y)),fe=this.curve._mulC(ee).redMul(re)),this.curve.point(se,ae,fe)},j.prototype.add=function(V){return this.isInfinity()?V:V.isInfinity()?this:this.curve.extended?this._extAdd(V):this._projAdd(V)},j.prototype.mul=function(V){return this._hasDoubles(V)?this.curve._fixedNafMul(this,V):this.curve._wnafMul(this,V)},j.prototype.mulAdd=function(V,K,H){return this.curve._wnafMulAdd(1,[this,K],[V,H],2,!1)},j.prototype.jmulAdd=function(V,K,H){return this.curve._wnafMulAdd(1,[this,K],[V,H],2,!0)},j.prototype.normalize=function(){if(this.zOne)return this;var V=this.z.redInvm();return this.x=this.x.redMul(V),this.y=this.y.redMul(V),this.t&&(this.t=this.t.redMul(V)),this.z=this.curve.one,this.zOne=!0,this},j.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},j.prototype.getX=function(){return this.normalize(),this.x.fromRed()},j.prototype.getY=function(){return this.normalize(),this.y.fromRed()},j.prototype.eq=function(V){return this===V||this.getX().cmp(V.getX())===0&&this.getY().cmp(V.getY())===0},j.prototype.eqXToP=function(V){var K=V.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(K)===0)return!0;for(var H=V.clone(),Y=this.curve.redN.redMul(this.z);;){if(H.iadd(this.curve.n),H.cmp(this.curve.p)>=0)return!1;if(K.redIAdd(Y),this.x.cmp(K)===0)return!0}},j.prototype.toP=j.prototype.normalize,j.prototype.mixedAdd=j.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(B){var S=B;S.base=requireBase$1(),S.short=requireShort(),S.mont=requireMont(),S.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils$2={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$2;hasRequiredUtils=1;var B=requireMinimalisticAssert(),S=requireInherits_browser();utils$2.inherits=S;function D(u,T){return(u.charCodeAt(T)&64512)!==55296||T<0||T+1>=u.length?!1:(u.charCodeAt(T+1)&64512)===56320}function q(u,T){if(Array.isArray(u))return u.slice();if(!u)return[];var P=[];if(typeof u=="string")if(T){if(T==="hex")for(u=u.replace(/[^a-z0-9]+/ig,""),u.length%2!==0&&(u="0"+u),L=0;L<u.length;L+=2)P.push(parseInt(u[L]+u[L+1],16))}else for(var N=0,L=0;L<u.length;L++){var W=u.charCodeAt(L);W<128?P[N++]=W:W<2048?(P[N++]=W>>6|192,P[N++]=W&63|128):D(u,L)?(W=65536+((W&1023)<<10)+(u.charCodeAt(++L)&1023),P[N++]=W>>18|240,P[N++]=W>>12&63|128,P[N++]=W>>6&63|128,P[N++]=W&63|128):(P[N++]=W>>12|224,P[N++]=W>>6&63|128,P[N++]=W&63|128)}else for(L=0;L<u.length;L++)P[L]=u[L]|0;return P}utils$2.toArray=q;function O(u){for(var T="",P=0;P<u.length;P++)T+=G(u[P].toString(16));return T}utils$2.toHex=O;function $(u){var T=u>>>24|u>>>8&65280|u<<8&16711680|(u&255)<<24;return T>>>0}utils$2.htonl=$;function j(u,T){for(var P="",N=0;N<u.length;N++){var L=u[N];T==="little"&&(L=$(L)),P+=V(L.toString(16))}return P}utils$2.toHex32=j;function G(u){return u.length===1?"0"+u:u}utils$2.zero2=G;function V(u){return u.length===7?"0"+u:u.length===6?"00"+u:u.length===5?"000"+u:u.length===4?"0000"+u:u.length===3?"00000"+u:u.length===2?"000000"+u:u.length===1?"0000000"+u:u}utils$2.zero8=V;function K(u,T,P,N){var L=P-T;B(L%4===0);for(var W=new Array(L/4),Z=0,U=T;Z<W.length;Z++,U+=4){var M;N==="big"?M=u[U]<<24|u[U+1]<<16|u[U+2]<<8|u[U+3]:M=u[U+3]<<24|u[U+2]<<16|u[U+1]<<8|u[U],W[Z]=M>>>0}return W}utils$2.join32=K;function H(u,T){for(var P=new Array(u.length*4),N=0,L=0;N<u.length;N++,L+=4){var W=u[N];T==="big"?(P[L]=W>>>24,P[L+1]=W>>>16&255,P[L+2]=W>>>8&255,P[L+3]=W&255):(P[L+3]=W>>>24,P[L+2]=W>>>16&255,P[L+1]=W>>>8&255,P[L]=W&255)}return P}utils$2.split32=H;function Y(u,T){return u>>>T|u<<32-T}utils$2.rotr32=Y;function X(u,T){return u<<T|u>>>32-T}utils$2.rotl32=X;function Q(u,T){return u+T>>>0}utils$2.sum32=Q;function ee(u,T,P){return u+T+P>>>0}utils$2.sum32_3=ee;function re(u,T,P,N){return u+T+P+N>>>0}utils$2.sum32_4=re;function ne(u,T,P,N,L){return u+T+P+N+L>>>0}utils$2.sum32_5=ne;function se(u,T,P,N){var L=u[T],W=u[T+1],Z=N+W>>>0,U=(Z<N?1:0)+P+L;u[T]=U>>>0,u[T+1]=Z}utils$2.sum64=se;function ae(u,T,P,N){var L=T+N>>>0,W=(L<T?1:0)+u+P;return W>>>0}utils$2.sum64_hi=ae;function fe(u,T,P,N){var L=T+N;return L>>>0}utils$2.sum64_lo=fe;function ue(u,T,P,N,L,W,Z,U){var M=0,F=T;F=F+N>>>0,M+=F<T?1:0,F=F+W>>>0,M+=F<W?1:0,F=F+U>>>0,M+=F<U?1:0;var te=u+P+L+Z+M;return te>>>0}utils$2.sum64_4_hi=ue;function _e(u,T,P,N,L,W,Z,U){var M=T+N+W+U;return M>>>0}utils$2.sum64_4_lo=_e;function ge(u,T,P,N,L,W,Z,U,M,F){var te=0,ie=T;ie=ie+N>>>0,te+=ie<T?1:0,ie=ie+W>>>0,te+=ie<W?1:0,ie=ie+U>>>0,te+=ie<U?1:0,ie=ie+F>>>0,te+=ie<F?1:0;var he=u+P+L+Z+M+te;return he>>>0}utils$2.sum64_5_hi=ge;function Ae(u,T,P,N,L,W,Z,U,M,F){var te=T+N+W+U+F;return te>>>0}utils$2.sum64_5_lo=Ae;function Te(u,T,P){var N=T<<32-P|u>>>P;return N>>>0}utils$2.rotr64_hi=Te;function be(u,T,P){var N=u<<32-P|T>>>P;return N>>>0}utils$2.rotr64_lo=be;function Pe(u,T,P){return u>>>P}utils$2.shr64_hi=Pe;function J(u,T,P){var N=u<<32-P|T>>>P;return N>>>0}return utils$2.shr64_lo=J,utils$2}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var B=requireUtils(),S=requireMinimalisticAssert();function D(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=D,D.prototype.update=function(O,$){if(O=B.toArray(O,$),this.pending?this.pending=this.pending.concat(O):this.pending=O,this.pendingTotal+=O.length,this.pending.length>=this._delta8){O=this.pending;var j=O.length%this._delta8;this.pending=O.slice(O.length-j,O.length),this.pending.length===0&&(this.pending=null),O=B.join32(O,0,O.length-j,this.endian);for(var G=0;G<O.length;G+=this._delta32)this._update(O,G,G+this._delta32)}return this},D.prototype.digest=function(O){return this.update(this._pad()),S(this.pending===null),this._digest(O)},D.prototype._pad=function(){var O=this.pendingTotal,$=this._delta8,j=$-(O+this.padLength)%$,G=new Array(j+this.padLength);G[0]=128;for(var V=1;V<j;V++)G[V]=0;if(O<<=3,this.endian==="big"){for(var K=8;K<this.padLength;K++)G[V++]=0;G[V++]=0,G[V++]=0,G[V++]=0,G[V++]=0,G[V++]=O>>>24&255,G[V++]=O>>>16&255,G[V++]=O>>>8&255,G[V++]=O&255}else for(G[V++]=O&255,G[V++]=O>>>8&255,G[V++]=O>>>16&255,G[V++]=O>>>24&255,G[V++]=0,G[V++]=0,G[V++]=0,G[V++]=0,K=8;K<this.padLength;K++)G[V++]=0;return G},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var B=requireUtils(),S=B.rotr32;function D(H,Y,X,Q){if(H===0)return q(Y,X,Q);if(H===1||H===3)return $(Y,X,Q);if(H===2)return O(Y,X,Q)}common.ft_1=D;function q(H,Y,X){return H&Y^~H&X}common.ch32=q;function O(H,Y,X){return H&Y^H&X^Y&X}common.maj32=O;function $(H,Y,X){return H^Y^X}common.p32=$;function j(H){return S(H,2)^S(H,13)^S(H,22)}common.s0_256=j;function G(H){return S(H,6)^S(H,11)^S(H,25)}common.s1_256=G;function V(H){return S(H,7)^S(H,18)^H>>>3}common.g0_256=V;function K(H){return S(H,17)^S(H,19)^H>>>10}return common.g1_256=K,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var B=requireUtils(),S=requireCommon$1(),D=requireCommon(),q=B.rotl32,O=B.sum32,$=B.sum32_5,j=D.ft_1,G=S.BlockHash,V=[1518500249,1859775393,2400959708,3395469782];function K(){if(!(this instanceof K))return new K;G.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return B.inherits(K,G),_1=K,K.blockSize=512,K.outSize=160,K.hmacStrength=80,K.padLength=64,K.prototype._update=function(Y,X){for(var Q=this.W,ee=0;ee<16;ee++)Q[ee]=Y[X+ee];for(;ee<Q.length;ee++)Q[ee]=q(Q[ee-3]^Q[ee-8]^Q[ee-14]^Q[ee-16],1);var re=this.h[0],ne=this.h[1],se=this.h[2],ae=this.h[3],fe=this.h[4];for(ee=0;ee<Q.length;ee++){var ue=~~(ee/20),_e=$(q(re,5),j(ue,ne,se,ae),fe,Q[ee],V[ue]);fe=ae,ae=se,se=q(ne,30),ne=re,re=_e}this.h[0]=O(this.h[0],re),this.h[1]=O(this.h[1],ne),this.h[2]=O(this.h[2],se),this.h[3]=O(this.h[3],ae),this.h[4]=O(this.h[4],fe)},K.prototype._digest=function(Y){return Y==="hex"?B.toHex32(this.h,"big"):B.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var B=requireUtils(),S=requireCommon$1(),D=requireCommon(),q=requireMinimalisticAssert(),O=B.sum32,$=B.sum32_4,j=B.sum32_5,G=D.ch32,V=D.maj32,K=D.s0_256,H=D.s1_256,Y=D.g0_256,X=D.g1_256,Q=S.BlockHash,ee=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function re(){if(!(this instanceof re))return new re;Q.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ee,this.W=new Array(64)}return B.inherits(re,Q),_256=re,re.blockSize=512,re.outSize=256,re.hmacStrength=192,re.padLength=64,re.prototype._update=function(se,ae){for(var fe=this.W,ue=0;ue<16;ue++)fe[ue]=se[ae+ue];for(;ue<fe.length;ue++)fe[ue]=$(X(fe[ue-2]),fe[ue-7],Y(fe[ue-15]),fe[ue-16]);var _e=this.h[0],ge=this.h[1],Ae=this.h[2],Te=this.h[3],be=this.h[4],Pe=this.h[5],J=this.h[6],u=this.h[7];for(q(this.k.length===fe.length),ue=0;ue<fe.length;ue++){var T=j(u,H(be),G(be,Pe,J),this.k[ue],fe[ue]),P=O(K(_e),V(_e,ge,Ae));u=J,J=Pe,Pe=be,be=O(Te,T),Te=Ae,Ae=ge,ge=_e,_e=O(T,P)}this.h[0]=O(this.h[0],_e),this.h[1]=O(this.h[1],ge),this.h[2]=O(this.h[2],Ae),this.h[3]=O(this.h[3],Te),this.h[4]=O(this.h[4],be),this.h[5]=O(this.h[5],Pe),this.h[6]=O(this.h[6],J),this.h[7]=O(this.h[7],u)},re.prototype._digest=function(se){return se==="hex"?B.toHex32(this.h,"big"):B.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var B=requireUtils(),S=require_256();function D(){if(!(this instanceof D))return new D;S.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return B.inherits(D,S),_224=D,D.blockSize=512,D.outSize=224,D.hmacStrength=192,D.padLength=64,D.prototype._digest=function(O){return O==="hex"?B.toHex32(this.h.slice(0,7),"big"):B.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var B=requireUtils(),S=requireCommon$1(),D=requireMinimalisticAssert(),q=B.rotr64_hi,O=B.rotr64_lo,$=B.shr64_hi,j=B.shr64_lo,G=B.sum64,V=B.sum64_hi,K=B.sum64_lo,H=B.sum64_4_hi,Y=B.sum64_4_lo,X=B.sum64_5_hi,Q=B.sum64_5_lo,ee=S.BlockHash,re=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ne(){if(!(this instanceof ne))return new ne;ee.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=re,this.W=new Array(160)}B.inherits(ne,ee),_512=ne,ne.blockSize=1024,ne.outSize=512,ne.hmacStrength=192,ne.padLength=128,ne.prototype._prepareBlock=function(P,N){for(var L=this.W,W=0;W<32;W++)L[W]=P[N+W];for(;W<L.length;W+=2){var Z=J(L[W-4],L[W-3]),U=u(L[W-4],L[W-3]),M=L[W-14],F=L[W-13],te=be(L[W-30],L[W-29]),ie=Pe(L[W-30],L[W-29]),he=L[W-32],pe=L[W-31];L[W]=H(Z,U,M,F,te,ie,he,pe),L[W+1]=Y(Z,U,M,F,te,ie,he,pe)}},ne.prototype._update=function(P,N){this._prepareBlock(P,N);var L=this.W,W=this.h[0],Z=this.h[1],U=this.h[2],M=this.h[3],F=this.h[4],te=this.h[5],ie=this.h[6],he=this.h[7],pe=this.h[8],de=this.h[9],oe=this.h[10],le=this.h[11],ve=this.h[12],Me=this.h[13],ye=this.h[14],ce=this.h[15];D(this.k.length===L.length);for(var Se=0;Se<L.length;Se+=2){var et=ye,ke=ce,De=Ae(pe,de),ot=Te(pe,de),Le=se(pe,de,oe,le,ve),$e=ae(pe,de,oe,le,ve,Me),lt=this.k[Se],Ne=this.k[Se+1],We=L[Se],ct=L[Se+1],Ue=X(et,ke,De,ot,Le,$e,lt,Ne,We,ct),Ye=Q(et,ke,De,ot,Le,$e,lt,Ne,We,ct);et=_e(W,Z),ke=ge(W,Z),De=fe(W,Z,U,M,F),ot=ue(W,Z,U,M,F,te);var mt=V(et,ke,De,ot),Fe=K(et,ke,De,ot);ye=ve,ce=Me,ve=oe,Me=le,oe=pe,le=de,pe=V(ie,he,Ue,Ye),de=K(he,he,Ue,Ye),ie=F,he=te,F=U,te=M,U=W,M=Z,W=V(Ue,Ye,mt,Fe),Z=K(Ue,Ye,mt,Fe)}G(this.h,0,W,Z),G(this.h,2,U,M),G(this.h,4,F,te),G(this.h,6,ie,he),G(this.h,8,pe,de),G(this.h,10,oe,le),G(this.h,12,ve,Me),G(this.h,14,ye,ce)},ne.prototype._digest=function(P){return P==="hex"?B.toHex32(this.h,"big"):B.split32(this.h,"big")};function se(T,P,N,L,W){var Z=T&N^~T&W;return Z<0&&(Z+=4294967296),Z}function ae(T,P,N,L,W,Z){var U=P&L^~P&Z;return U<0&&(U+=4294967296),U}function fe(T,P,N,L,W){var Z=T&N^T&W^N&W;return Z<0&&(Z+=4294967296),Z}function ue(T,P,N,L,W,Z){var U=P&L^P&Z^L&Z;return U<0&&(U+=4294967296),U}function _e(T,P){var N=q(T,P,28),L=q(P,T,2),W=q(P,T,7),Z=N^L^W;return Z<0&&(Z+=4294967296),Z}function ge(T,P){var N=O(T,P,28),L=O(P,T,2),W=O(P,T,7),Z=N^L^W;return Z<0&&(Z+=4294967296),Z}function Ae(T,P){var N=q(T,P,14),L=q(T,P,18),W=q(P,T,9),Z=N^L^W;return Z<0&&(Z+=4294967296),Z}function Te(T,P){var N=O(T,P,14),L=O(T,P,18),W=O(P,T,9),Z=N^L^W;return Z<0&&(Z+=4294967296),Z}function be(T,P){var N=q(T,P,1),L=q(T,P,8),W=$(T,P,7),Z=N^L^W;return Z<0&&(Z+=4294967296),Z}function Pe(T,P){var N=O(T,P,1),L=O(T,P,8),W=j(T,P,7),Z=N^L^W;return Z<0&&(Z+=4294967296),Z}function J(T,P){var N=q(T,P,19),L=q(P,T,29),W=$(T,P,6),Z=N^L^W;return Z<0&&(Z+=4294967296),Z}function u(T,P){var N=O(T,P,19),L=O(P,T,29),W=j(T,P,6),Z=N^L^W;return Z<0&&(Z+=4294967296),Z}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var B=requireUtils(),S=require_512();function D(){if(!(this instanceof D))return new D;S.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return B.inherits(D,S),_384=D,D.blockSize=1024,D.outSize=384,D.hmacStrength=192,D.padLength=128,D.prototype._digest=function(O){return O==="hex"?B.toHex32(this.h.slice(0,12),"big"):B.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var B=requireUtils(),S=requireCommon$1(),D=B.rotl32,q=B.sum32,O=B.sum32_3,$=B.sum32_4,j=S.BlockHash;function G(){if(!(this instanceof G))return new G;j.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}B.inherits(G,j),ripemd.ripemd160=G,G.blockSize=512,G.outSize=160,G.hmacStrength=192,G.padLength=64,G.prototype._update=function(ne,se){for(var ae=this.h[0],fe=this.h[1],ue=this.h[2],_e=this.h[3],ge=this.h[4],Ae=ae,Te=fe,be=ue,Pe=_e,J=ge,u=0;u<80;u++){var T=q(D($(ae,V(u,fe,ue,_e),ne[Y[u]+se],K(u)),Q[u]),ge);ae=ge,ge=_e,_e=D(ue,10),ue=fe,fe=T,T=q(D($(Ae,V(79-u,Te,be,Pe),ne[X[u]+se],H(u)),ee[u]),J),Ae=J,J=Pe,Pe=D(be,10),be=Te,Te=T}T=O(this.h[1],ue,Pe),this.h[1]=O(this.h[2],_e,J),this.h[2]=O(this.h[3],ge,Ae),this.h[3]=O(this.h[4],ae,Te),this.h[4]=O(this.h[0],fe,be),this.h[0]=T},G.prototype._digest=function(ne){return ne==="hex"?B.toHex32(this.h,"little"):B.split32(this.h,"little")};function V(re,ne,se,ae){return re<=15?ne^se^ae:re<=31?ne&se|~ne&ae:re<=47?(ne|~se)^ae:re<=63?ne&ae|se&~ae:ne^(se|~ae)}function K(re){return re<=15?0:re<=31?1518500249:re<=47?1859775393:re<=63?2400959708:2840853838}function H(re){return re<=15?1352829926:re<=31?1548603684:re<=47?1836072691:re<=63?2053994217:0}var Y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],X=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Q=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ee=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var B=requireUtils(),S=requireMinimalisticAssert();function D(q,O,$){if(!(this instanceof D))return new D(q,O,$);this.Hash=q,this.blockSize=q.blockSize/8,this.outSize=q.outSize/8,this.inner=null,this.outer=null,this._init(B.toArray(O,$))}return hmac=D,D.prototype._init=function(O){O.length>this.blockSize&&(O=new this.Hash().update(O).digest()),S(O.length<=this.blockSize);for(var $=O.length;$<this.blockSize;$++)O.push(0);for($=0;$<O.length;$++)O[$]^=54;for(this.inner=new this.Hash().update(O),$=0;$<O.length;$++)O[$]^=106;this.outer=new this.Hash().update(O)},D.prototype.update=function(O,$){return this.inner.update(O,$),this},D.prototype.digest=function(O){return this.outer.update(this.inner.digest()),this.outer.digest(O)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(B){var S=B;S.utils=requireUtils(),S.common=requireCommon$1(),S.sha=requireSha(),S.ripemd=requireRipemd(),S.hmac=requireHmac(),S.sha1=S.sha.sha1,S.sha256=S.sha.sha256,S.sha224=S.sha.sha224,S.sha384=S.sha.sha384,S.sha512=S.sha.sha512,S.ripemd160=S.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(B){var S=B,D=requireHash(),q=requireCurve(),O=requireUtils$1(),$=O.assert;function j(K){K.type==="short"?this.curve=new q.short(K):K.type==="edwards"?this.curve=new q.edwards(K):this.curve=new q.mont(K),this.g=this.curve.g,this.n=this.curve.n,this.hash=K.hash,$(this.g.validate(),"Invalid curve"),$(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}S.PresetCurve=j;function G(K,H){Object.defineProperty(S,K,{configurable:!0,enumerable:!0,get:function(){var Y=new j(H);return Object.defineProperty(S,K,{configurable:!0,enumerable:!0,value:Y}),Y}})}G("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:D.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),G("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:D.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),G("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:D.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),G("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:D.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),G("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:D.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),G("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:D.sha256,gRed:!1,g:["9"]}),G("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:D.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var V;try{V=requireSecp256k1()}catch{V=void 0}G("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:D.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",V]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var B=requireHash(),S=requireUtils$2(),D=requireMinimalisticAssert();function q(O){if(!(this instanceof q))return new q(O);this.hash=O.hash,this.predResist=!!O.predResist,this.outLen=this.hash.outSize,this.minEntropy=O.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var $=S.toArray(O.entropy,O.entropyEnc||"hex"),j=S.toArray(O.nonce,O.nonceEnc||"hex"),G=S.toArray(O.pers,O.persEnc||"hex");D($.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init($,j,G)}return hmacDrbg=q,q.prototype._init=function($,j,G){var V=$.concat(j).concat(G);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var K=0;K<this.V.length;K++)this.K[K]=0,this.V[K]=1;this._update(V),this._reseed=1,this.reseedInterval=281474976710656},q.prototype._hmac=function(){return new B.hmac(this.hash,this.K)},q.prototype._update=function($){var j=this._hmac().update(this.V).update([0]);$&&(j=j.update($)),this.K=j.digest(),this.V=this._hmac().update(this.V).digest(),$&&(this.K=this._hmac().update(this.V).update([1]).update($).digest(),this.V=this._hmac().update(this.V).digest())},q.prototype.reseed=function($,j,G,V){typeof j!="string"&&(V=G,G=j,j=null),$=S.toArray($,j),G=S.toArray(G,V),D($.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update($.concat(G||[])),this._reseed=1},q.prototype.generate=function($,j,G,V){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof j!="string"&&(V=G,G=j,j=null),G&&(G=S.toArray(G,V||"hex"),this._update(G));for(var K=[];K.length<$;)this.V=this._hmac().update(this.V).digest(),K=K.concat(this.V);var H=K.slice(0,$);return this._update(G),this._reseed++,S.encode(H,j)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var B=requireBn$3(),S=requireUtils$1(),D=S.assert;function q(O,$){this.ec=O,this.priv=null,this.pub=null,$.priv&&this._importPrivate($.priv,$.privEnc),$.pub&&this._importPublic($.pub,$.pubEnc)}return key$1=q,q.fromPublic=function($,j,G){return j instanceof q?j:new q($,{pub:j,pubEnc:G})},q.fromPrivate=function($,j,G){return j instanceof q?j:new q($,{priv:j,privEnc:G})},q.prototype.validate=function(){var $=this.getPublic();return $.isInfinity()?{result:!1,reason:"Invalid public key"}:$.validate()?$.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},q.prototype.getPublic=function($,j){return typeof $=="string"&&(j=$,$=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),j?this.pub.encode(j,$):this.pub},q.prototype.getPrivate=function($){return $==="hex"?this.priv.toString(16,2):this.priv},q.prototype._importPrivate=function($,j){this.priv=new B($,j||16),this.priv=this.priv.umod(this.ec.curve.n)},q.prototype._importPublic=function($,j){if($.x||$.y){this.ec.curve.type==="mont"?D($.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&D($.x&&$.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point($.x,$.y);return}this.pub=this.ec.curve.decodePoint($,j)},q.prototype.derive=function($){return $.validate()||D($.validate(),"public point not validated"),$.mul(this.priv).getX()},q.prototype.sign=function($,j,G){return this.ec.sign($,this,j,G)},q.prototype.verify=function($,j,G){return this.ec.verify($,j,this,void 0,G)},q.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var B=requireBn$3(),S=requireUtils$1(),D=S.assert;function q(V,K){if(V instanceof q)return V;this._importDER(V,K)||(D(V.r&&V.s,"Signature without r or s"),this.r=new B(V.r,16),this.s=new B(V.s,16),V.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=V.recoveryParam)}signature$1=q;function O(){this.place=0}function $(V,K){var H=V[K.place++];if(!(H&128))return H;var Y=H&15;if(Y===0||Y>4||V[K.place]===0)return!1;for(var X=0,Q=0,ee=K.place;Q<Y;Q++,ee++)X<<=8,X|=V[ee],X>>>=0;return X<=127?!1:(K.place=ee,X)}function j(V){for(var K=0,H=V.length-1;!V[K]&&!(V[K+1]&128)&&K<H;)K++;return K===0?V:V.slice(K)}q.prototype._importDER=function(K,H){K=S.toArray(K,H);var Y=new O;if(K[Y.place++]!==48)return!1;var X=$(K,Y);if(X===!1||X+Y.place!==K.length||K[Y.place++]!==2)return!1;var Q=$(K,Y);if(Q===!1||K[Y.place]&128)return!1;var ee=K.slice(Y.place,Q+Y.place);if(Y.place+=Q,K[Y.place++]!==2)return!1;var re=$(K,Y);if(re===!1||K.length!==re+Y.place||K[Y.place]&128)return!1;var ne=K.slice(Y.place,re+Y.place);if(ee[0]===0)if(ee[1]&128)ee=ee.slice(1);else return!1;if(ne[0]===0)if(ne[1]&128)ne=ne.slice(1);else return!1;return this.r=new B(ee),this.s=new B(ne),this.recoveryParam=null,!0};function G(V,K){if(K<128){V.push(K);return}var H=1+(Math.log(K)/Math.LN2>>>3);for(V.push(H|128);--H;)V.push(K>>>(H<<3)&255);V.push(K)}return q.prototype.toDER=function(K){var H=this.r.toArray(),Y=this.s.toArray();for(H[0]&128&&(H=[0].concat(H)),Y[0]&128&&(Y=[0].concat(Y)),H=j(H),Y=j(Y);!Y[0]&&!(Y[1]&128);)Y=Y.slice(1);var X=[2];G(X,H.length),X=X.concat(H),X.push(2),G(X,Y.length);var Q=X.concat(Y),ee=[48];return G(ee,Q.length),ee=ee.concat(Q),S.encode(ee,K)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var B=requireBn$3(),S=requireHmacDrbg(),D=requireUtils$1(),q=requireCurves(),O=requireBrorand(),$=D.assert,j=requireKey$1(),G=requireSignature$1();function V(K){if(!(this instanceof V))return new V(K);typeof K=="string"&&($(Object.prototype.hasOwnProperty.call(q,K),"Unknown curve "+K),K=q[K]),K instanceof q.PresetCurve&&(K={curve:K}),this.curve=K.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=K.curve.g,this.g.precompute(K.curve.n.bitLength()+1),this.hash=K.hash||K.curve.hash}return ec=V,V.prototype.keyPair=function(H){return new j(this,H)},V.prototype.keyFromPrivate=function(H,Y){return j.fromPrivate(this,H,Y)},V.prototype.keyFromPublic=function(H,Y){return j.fromPublic(this,H,Y)},V.prototype.genKeyPair=function(H){H||(H={});for(var Y=new S({hash:this.hash,pers:H.pers,persEnc:H.persEnc||"utf8",entropy:H.entropy||O(this.hash.hmacStrength),entropyEnc:H.entropy&&H.entropyEnc||"utf8",nonce:this.n.toArray()}),X=this.n.byteLength(),Q=this.n.sub(new B(2));;){var ee=new B(Y.generate(X));if(!(ee.cmp(Q)>0))return ee.iaddn(1),this.keyFromPrivate(ee)}},V.prototype._truncateToN=function(H,Y,X){var Q;if(B.isBN(H)||typeof H=="number")H=new B(H,16),Q=H.byteLength();else if(typeof H=="object")Q=H.length,H=new B(H,16);else{var ee=H.toString();Q=ee.length+1>>>1,H=new B(ee,16)}typeof X!="number"&&(X=Q*8);var re=X-this.n.bitLength();return re>0&&(H=H.ushrn(re)),!Y&&H.cmp(this.n)>=0?H.sub(this.n):H},V.prototype.sign=function(H,Y,X,Q){if(typeof X=="object"&&(Q=X,X=null),Q||(Q={}),typeof H!="string"&&typeof H!="number"&&!B.isBN(H)){$(typeof H=="object"&&H&&typeof H.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),$(H.length>>>0===H.length);for(var ee=0;ee<H.length;ee++)$((H[ee]&255)===H[ee])}Y=this.keyFromPrivate(Y,X),H=this._truncateToN(H,!1,Q.msgBitLength),$(!H.isNeg(),"Can not sign a negative message");var re=this.n.byteLength(),ne=Y.getPrivate().toArray("be",re),se=H.toArray("be",re);$(new B(se).eq(H),"Can not sign message");for(var ae=new S({hash:this.hash,entropy:ne,nonce:se,pers:Q.pers,persEnc:Q.persEnc||"utf8"}),fe=this.n.sub(new B(1)),ue=0;;ue++){var _e=Q.k?Q.k(ue):new B(ae.generate(this.n.byteLength()));if(_e=this._truncateToN(_e,!0),!(_e.cmpn(1)<=0||_e.cmp(fe)>=0)){var ge=this.g.mul(_e);if(!ge.isInfinity()){var Ae=ge.getX(),Te=Ae.umod(this.n);if(Te.cmpn(0)!==0){var be=_e.invm(this.n).mul(Te.mul(Y.getPrivate()).iadd(H));if(be=be.umod(this.n),be.cmpn(0)!==0){var Pe=(ge.getY().isOdd()?1:0)|(Ae.cmp(Te)!==0?2:0);return Q.canonical&&be.cmp(this.nh)>0&&(be=this.n.sub(be),Pe^=1),new G({r:Te,s:be,recoveryParam:Pe})}}}}}},V.prototype.verify=function(H,Y,X,Q,ee){ee||(ee={}),H=this._truncateToN(H,!1,ee.msgBitLength),X=this.keyFromPublic(X,Q),Y=new G(Y,"hex");var re=Y.r,ne=Y.s;if(re.cmpn(1)<0||re.cmp(this.n)>=0||ne.cmpn(1)<0||ne.cmp(this.n)>=0)return!1;var se=ne.invm(this.n),ae=se.mul(H).umod(this.n),fe=se.mul(re).umod(this.n),ue;return this.curve._maxwellTrick?(ue=this.g.jmulAdd(ae,X.getPublic(),fe),ue.isInfinity()?!1:ue.eqXToP(re)):(ue=this.g.mulAdd(ae,X.getPublic(),fe),ue.isInfinity()?!1:ue.getX().umod(this.n).cmp(re)===0)},V.prototype.recoverPubKey=function(K,H,Y,X){$((3&Y)===Y,"The recovery param is more than two bits"),H=new G(H,X);var Q=this.n,ee=new B(K),re=H.r,ne=H.s,se=Y&1,ae=Y>>1;if(re.cmp(this.curve.p.umod(this.curve.n))>=0&&ae)throw new Error("Unable to find sencond key candinate");ae?re=this.curve.pointFromX(re.add(this.curve.n),se):re=this.curve.pointFromX(re,se);var fe=H.r.invm(Q),ue=Q.sub(ee).mul(fe).umod(Q),_e=ne.mul(fe).umod(Q);return this.g.mulAdd(ue,re,_e)},V.prototype.getKeyRecoveryParam=function(K,H,Y,X){if(H=new G(H,X),H.recoveryParam!==null)return H.recoveryParam;for(var Q=0;Q<4;Q++){var ee;try{ee=this.recoverPubKey(K,H,Q)}catch{continue}if(ee.eq(Y))return Q}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var B=requireUtils$1(),S=B.assert,D=B.parseBytes,q=B.cachedProperty;function O($,j){this.eddsa=$,this._secret=D(j.secret),$.isPoint(j.pub)?this._pub=j.pub:this._pubBytes=D(j.pub)}return O.fromPublic=function(j,G){return G instanceof O?G:new O(j,{pub:G})},O.fromSecret=function(j,G){return G instanceof O?G:new O(j,{secret:G})},O.prototype.secret=function(){return this._secret},q(O,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),q(O,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),q(O,"privBytes",function(){var j=this.eddsa,G=this.hash(),V=j.encodingLength-1,K=G.slice(0,j.encodingLength);return K[0]&=248,K[V]&=127,K[V]|=64,K}),q(O,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),q(O,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),q(O,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),O.prototype.sign=function(j){return S(this._secret,"KeyPair can only verify"),this.eddsa.sign(j,this)},O.prototype.verify=function(j,G){return this.eddsa.verify(j,G,this)},O.prototype.getSecret=function(j){return S(this._secret,"KeyPair is public only"),B.encode(this.secret(),j)},O.prototype.getPublic=function(j){return B.encode(this.pubBytes(),j)},key=O,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var B=requireBn$3(),S=requireUtils$1(),D=S.assert,q=S.cachedProperty,O=S.parseBytes;function $(j,G){this.eddsa=j,typeof G!="object"&&(G=O(G)),Array.isArray(G)&&(D(G.length===j.encodingLength*2,"Signature has invalid size"),G={R:G.slice(0,j.encodingLength),S:G.slice(j.encodingLength)}),D(G.R&&G.S,"Signature without R or S"),j.isPoint(G.R)&&(this._R=G.R),G.S instanceof B&&(this._S=G.S),this._Rencoded=Array.isArray(G.R)?G.R:G.Rencoded,this._Sencoded=Array.isArray(G.S)?G.S:G.Sencoded}return q($,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),q($,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),q($,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),q($,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),$.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},$.prototype.toHex=function(){return S.encode(this.toBytes(),"hex").toUpperCase()},signature=$,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var B=requireHash(),S=requireCurves(),D=requireUtils$1(),q=D.assert,O=D.parseBytes,$=requireKey(),j=requireSignature();function G(V){if(q(V==="ed25519","only tested with ed25519 so far"),!(this instanceof G))return new G(V);V=S[V].curve,this.curve=V,this.g=V.g,this.g.precompute(V.n.bitLength()+1),this.pointClass=V.point().constructor,this.encodingLength=Math.ceil(V.n.bitLength()/8),this.hash=B.sha512}return eddsa=G,G.prototype.sign=function(K,H){K=O(K);var Y=this.keyFromSecret(H),X=this.hashInt(Y.messagePrefix(),K),Q=this.g.mul(X),ee=this.encodePoint(Q),re=this.hashInt(ee,Y.pubBytes(),K).mul(Y.priv()),ne=X.add(re).umod(this.curve.n);return this.makeSignature({R:Q,S:ne,Rencoded:ee})},G.prototype.verify=function(K,H,Y){if(K=O(K),H=this.makeSignature(H),H.S().gte(H.eddsa.curve.n)||H.S().isNeg())return!1;var X=this.keyFromPublic(Y),Q=this.hashInt(H.Rencoded(),X.pubBytes(),K),ee=this.g.mul(H.S()),re=H.R().add(X.pub().mul(Q));return re.eq(ee)},G.prototype.hashInt=function(){for(var K=this.hash(),H=0;H<arguments.length;H++)K.update(arguments[H]);return D.intFromLE(K.digest()).umod(this.curve.n)},G.prototype.keyFromPublic=function(K){return $.fromPublic(this,K)},G.prototype.keyFromSecret=function(K){return $.fromSecret(this,K)},G.prototype.makeSignature=function(K){return K instanceof j?K:new j(this,K)},G.prototype.encodePoint=function(K){var H=K.getY().toArray("le",this.encodingLength);return H[this.encodingLength-1]|=K.getX().isOdd()?128:0,H},G.prototype.decodePoint=function(K){K=D.parseBytes(K);var H=K.length-1,Y=K.slice(0,H).concat(K[H]&-129),X=(K[H]&128)!==0,Q=D.intFromLE(Y);return this.curve.pointFromY(Q,X)},G.prototype.encodeInt=function(K){return K.toArray("le",this.encodingLength)},G.prototype.decodeInt=function(K){return D.intFromLE(K)},G.prototype.isPoint=function(K){return K instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(B){var S=B;S.version=require$$0.version,S.utils=requireUtils$1(),S.rand=requireBrorand(),S.curve=requireCurve(),S.curves=requireCurves(),S.ec=requireEc(),S.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},bn$2={exports:{}};bn$2.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(B){(function(S,D){function q(J,u){if(!J)throw new Error(u||"Assertion failed")}function O(J,u){J.super_=u;var T=function(){};T.prototype=u.prototype,J.prototype=new T,J.prototype.constructor=J}function $(J,u,T){if($.isBN(J))return J;this.negative=0,this.words=null,this.length=0,this.red=null,J!==null&&((u==="le"||u==="be")&&(T=u,u=10),this._init(J||0,u||10,T||"be"))}typeof S=="object"?S.exports=$:D.BN=$,$.BN=$,$.wordSize=26;var j;try{typeof window<"u"&&typeof window.Buffer<"u"?j=window.Buffer:j=require$$0$1.Buffer}catch{}$.isBN=function(u){return u instanceof $?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===$.wordSize&&Array.isArray(u.words)},$.max=function(u,T){return u.cmp(T)>0?u:T},$.min=function(u,T){return u.cmp(T)<0?u:T},$.prototype._init=function(u,T,P){if(typeof u=="number")return this._initNumber(u,T,P);if(typeof u=="object")return this._initArray(u,T,P);T==="hex"&&(T=16),q(T===(T|0)&&T>=2&&T<=36),u=u.toString().replace(/\s+/g,"");var N=0;u[0]==="-"&&(N++,this.negative=1),N<u.length&&(T===16?this._parseHex(u,N,P):(this._parseBase(u,T,N),P==="le"&&this._initArray(this.toArray(),T,P)))},$.prototype._initNumber=function(u,T,P){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(q(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),P==="le"&&this._initArray(this.toArray(),T,P)},$.prototype._initArray=function(u,T,P){if(q(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L,W,Z=0;if(P==="be")for(N=u.length-1,L=0;N>=0;N-=3)W=u[N]|u[N-1]<<8|u[N-2]<<16,this.words[L]|=W<<Z&67108863,this.words[L+1]=W>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,L++);else if(P==="le")for(N=0,L=0;N<u.length;N+=3)W=u[N]|u[N+1]<<8|u[N+2]<<16,this.words[L]|=W<<Z&67108863,this.words[L+1]=W>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,L++);return this.strip()};function G(J,u){var T=J.charCodeAt(u);return T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:T-48&15}function V(J,u,T){var P=G(J,T);return T-1>=u&&(P|=G(J,T-1)<<4),P}$.prototype._parseHex=function(u,T,P){this.length=Math.ceil((u.length-T)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L=0,W=0,Z;if(P==="be")for(N=u.length-1;N>=T;N-=2)Z=V(u,T,N)<<L,this.words[W]|=Z&67108863,L>=18?(L-=18,W+=1,this.words[W]|=Z>>>26):L+=8;else{var U=u.length-T;for(N=U%2===0?T+1:T;N<u.length;N+=2)Z=V(u,T,N)<<L,this.words[W]|=Z&67108863,L>=18?(L-=18,W+=1,this.words[W]|=Z>>>26):L+=8}this.strip()};function K(J,u,T,P){for(var N=0,L=Math.min(J.length,T),W=u;W<L;W++){var Z=J.charCodeAt(W)-48;N*=P,Z>=49?N+=Z-49+10:Z>=17?N+=Z-17+10:N+=Z}return N}$.prototype._parseBase=function(u,T,P){this.words=[0],this.length=1;for(var N=0,L=1;L<=67108863;L*=T)N++;N--,L=L/T|0;for(var W=u.length-P,Z=W%N,U=Math.min(W,W-Z)+P,M=0,F=P;F<U;F+=N)M=K(u,F,F+N,T),this.imuln(L),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(Z!==0){var te=1;for(M=K(u,F,u.length,T),F=0;F<Z;F++)te*=T;this.imuln(te),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this.strip()},$.prototype.copy=function(u){u.words=new Array(this.length);for(var T=0;T<this.length;T++)u.words[T]=this.words[T];u.length=this.length,u.negative=this.negative,u.red=this.red},$.prototype.clone=function(){var u=new $(null);return this.copy(u),u},$.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},$.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},$.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},$.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var H=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];$.prototype.toString=function(u,T){u=u||10,T=T|0||1;var P;if(u===16||u==="hex"){P="";for(var N=0,L=0,W=0;W<this.length;W++){var Z=this.words[W],U=((Z<<N|L)&16777215).toString(16);L=Z>>>24-N&16777215,N+=2,N>=26&&(N-=26,W--),L!==0||W!==this.length-1?P=H[6-U.length]+U+P:P=U+P}for(L!==0&&(P=L.toString(16)+P);P.length%T!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}if(u===(u|0)&&u>=2&&u<=36){var M=Y[u],F=X[u];P="";var te=this.clone();for(te.negative=0;!te.isZero();){var ie=te.modn(F).toString(u);te=te.idivn(F),te.isZero()?P=ie+P:P=H[M-ie.length]+ie+P}for(this.isZero()&&(P="0"+P);P.length%T!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}q(!1,"Base should be between 2 and 36")},$.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&q(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},$.prototype.toJSON=function(){return this.toString(16)},$.prototype.toBuffer=function(u,T){return q(typeof j<"u"),this.toArrayLike(j,u,T)},$.prototype.toArray=function(u,T){return this.toArrayLike(Array,u,T)},$.prototype.toArrayLike=function(u,T,P){var N=this.byteLength(),L=P||Math.max(1,N);q(N<=L,"byte array longer than desired length"),q(L>0,"Requested array length <= 0"),this.strip();var W=T==="le",Z=new u(L),U,M,F=this.clone();if(W){for(M=0;!F.isZero();M++)U=F.andln(255),F.iushrn(8),Z[M]=U;for(;M<L;M++)Z[M]=0}else{for(M=0;M<L-N;M++)Z[M]=0;for(M=0;!F.isZero();M++)U=F.andln(255),F.iushrn(8),Z[L-M-1]=U}return Z},Math.clz32?$.prototype._countBits=function(u){return 32-Math.clz32(u)}:$.prototype._countBits=function(u){var T=u,P=0;return T>=4096&&(P+=13,T>>>=13),T>=64&&(P+=7,T>>>=7),T>=8&&(P+=4,T>>>=4),T>=2&&(P+=2,T>>>=2),P+T},$.prototype._zeroBits=function(u){if(u===0)return 26;var T=u,P=0;return T&8191||(P+=13,T>>>=13),T&127||(P+=7,T>>>=7),T&15||(P+=4,T>>>=4),T&3||(P+=2,T>>>=2),T&1||P++,P},$.prototype.bitLength=function(){var u=this.words[this.length-1],T=this._countBits(u);return(this.length-1)*26+T};function Q(J){for(var u=new Array(J.bitLength()),T=0;T<u.length;T++){var P=T/26|0,N=T%26;u[T]=(J.words[P]&1<<N)>>>N}return u}$.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,T=0;T<this.length;T++){var P=this._zeroBits(this.words[T]);if(u+=P,P!==26)break}return u},$.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},$.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},$.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},$.prototype.isNeg=function(){return this.negative!==0},$.prototype.neg=function(){return this.clone().ineg()},$.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},$.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var T=0;T<u.length;T++)this.words[T]=this.words[T]|u.words[T];return this.strip()},$.prototype.ior=function(u){return q((this.negative|u.negative)===0),this.iuor(u)},$.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},$.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},$.prototype.iuand=function(u){var T;this.length>u.length?T=u:T=this;for(var P=0;P<T.length;P++)this.words[P]=this.words[P]&u.words[P];return this.length=T.length,this.strip()},$.prototype.iand=function(u){return q((this.negative|u.negative)===0),this.iuand(u)},$.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},$.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},$.prototype.iuxor=function(u){var T,P;this.length>u.length?(T=this,P=u):(T=u,P=this);for(var N=0;N<P.length;N++)this.words[N]=T.words[N]^P.words[N];if(this!==T)for(;N<T.length;N++)this.words[N]=T.words[N];return this.length=T.length,this.strip()},$.prototype.ixor=function(u){return q((this.negative|u.negative)===0),this.iuxor(u)},$.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},$.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},$.prototype.inotn=function(u){q(typeof u=="number"&&u>=0);var T=Math.ceil(u/26)|0,P=u%26;this._expand(T),P>0&&T--;for(var N=0;N<T;N++)this.words[N]=~this.words[N]&67108863;return P>0&&(this.words[N]=~this.words[N]&67108863>>26-P),this.strip()},$.prototype.notn=function(u){return this.clone().inotn(u)},$.prototype.setn=function(u,T){q(typeof u=="number"&&u>=0);var P=u/26|0,N=u%26;return this._expand(P+1),T?this.words[P]=this.words[P]|1<<N:this.words[P]=this.words[P]&~(1<<N),this.strip()},$.prototype.iadd=function(u){var T;if(this.negative!==0&&u.negative===0)return this.negative=0,T=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,T=this.isub(u),u.negative=1,T._normSign();var P,N;this.length>u.length?(P=this,N=u):(P=u,N=this);for(var L=0,W=0;W<N.length;W++)T=(P.words[W]|0)+(N.words[W]|0)+L,this.words[W]=T&67108863,L=T>>>26;for(;L!==0&&W<P.length;W++)T=(P.words[W]|0)+L,this.words[W]=T&67108863,L=T>>>26;if(this.length=P.length,L!==0)this.words[this.length]=L,this.length++;else if(P!==this)for(;W<P.length;W++)this.words[W]=P.words[W];return this},$.prototype.add=function(u){var T;return u.negative!==0&&this.negative===0?(u.negative=0,T=this.sub(u),u.negative^=1,T):u.negative===0&&this.negative!==0?(this.negative=0,T=u.sub(this),this.negative=1,T):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},$.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var T=this.iadd(u);return u.negative=1,T._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var P=this.cmp(u);if(P===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,L;P>0?(N=this,L=u):(N=u,L=this);for(var W=0,Z=0;Z<L.length;Z++)T=(N.words[Z]|0)-(L.words[Z]|0)+W,W=T>>26,this.words[Z]=T&67108863;for(;W!==0&&Z<N.length;Z++)T=(N.words[Z]|0)+W,W=T>>26,this.words[Z]=T&67108863;if(W===0&&Z<N.length&&N!==this)for(;Z<N.length;Z++)this.words[Z]=N.words[Z];return this.length=Math.max(this.length,Z),N!==this&&(this.negative=1),this.strip()},$.prototype.sub=function(u){return this.clone().isub(u)};function ee(J,u,T){T.negative=u.negative^J.negative;var P=J.length+u.length|0;T.length=P,P=P-1|0;var N=J.words[0]|0,L=u.words[0]|0,W=N*L,Z=W&67108863,U=W/67108864|0;T.words[0]=Z;for(var M=1;M<P;M++){for(var F=U>>>26,te=U&67108863,ie=Math.min(M,u.length-1),he=Math.max(0,M-J.length+1);he<=ie;he++){var pe=M-he|0;N=J.words[pe]|0,L=u.words[he]|0,W=N*L+te,F+=W/67108864|0,te=W&67108863}T.words[M]=te|0,U=F|0}return U!==0?T.words[M]=U|0:T.length--,T.strip()}var re=function(u,T,P){var N=u.words,L=T.words,W=P.words,Z=0,U,M,F,te=N[0]|0,ie=te&8191,he=te>>>13,pe=N[1]|0,de=pe&8191,oe=pe>>>13,le=N[2]|0,ve=le&8191,Me=le>>>13,ye=N[3]|0,ce=ye&8191,Se=ye>>>13,et=N[4]|0,ke=et&8191,De=et>>>13,ot=N[5]|0,Le=ot&8191,$e=ot>>>13,lt=N[6]|0,Ne=lt&8191,We=lt>>>13,ct=N[7]|0,Ue=ct&8191,Ye=ct>>>13,mt=N[8]|0,Fe=mt&8191,Xe=mt>>>13,_t=N[9]|0,Ve=_t&8191,it=_t>>>13,vt=L[0]|0,He=vt&8191,nt=vt>>>13,yt=L[1]|0,Ke=yt&8191,st=yt>>>13,bt=L[2]|0,Ge=bt&8191,rt=bt>>>13,wt=L[3]|0,je=wt&8191,Qe=wt>>>13,gt=L[4]|0,we=gt&8191,me=gt>>>13,Ee=L[5]|0,xe=Ee&8191,Re=Ee>>>13,Je=L[6]|0,Ce=Je&8191,Ie=Je>>>13,at=L[7]|0,Be=at&8191,Oe=at>>>13,ft=L[8]|0,qe=ft&8191,Ze=ft>>>13,ht=L[9]|0,ze=ht&8191,tt=ht>>>13;P.negative=u.negative^T.negative,P.length=19,U=Math.imul(ie,He),M=Math.imul(ie,nt),M=M+Math.imul(he,He)|0,F=Math.imul(he,nt);var dt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(dt>>>26)|0,dt&=67108863,U=Math.imul(de,He),M=Math.imul(de,nt),M=M+Math.imul(oe,He)|0,F=Math.imul(oe,nt),U=U+Math.imul(ie,Ke)|0,M=M+Math.imul(ie,st)|0,M=M+Math.imul(he,Ke)|0,F=F+Math.imul(he,st)|0;var pt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(pt>>>26)|0,pt&=67108863,U=Math.imul(ve,He),M=Math.imul(ve,nt),M=M+Math.imul(Me,He)|0,F=Math.imul(Me,nt),U=U+Math.imul(de,Ke)|0,M=M+Math.imul(de,st)|0,M=M+Math.imul(oe,Ke)|0,F=F+Math.imul(oe,st)|0,U=U+Math.imul(ie,Ge)|0,M=M+Math.imul(ie,rt)|0,M=M+Math.imul(he,Ge)|0,F=F+Math.imul(he,rt)|0;var xt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(xt>>>26)|0,xt&=67108863,U=Math.imul(ce,He),M=Math.imul(ce,nt),M=M+Math.imul(Se,He)|0,F=Math.imul(Se,nt),U=U+Math.imul(ve,Ke)|0,M=M+Math.imul(ve,st)|0,M=M+Math.imul(Me,Ke)|0,F=F+Math.imul(Me,st)|0,U=U+Math.imul(de,Ge)|0,M=M+Math.imul(de,rt)|0,M=M+Math.imul(oe,Ge)|0,F=F+Math.imul(oe,rt)|0,U=U+Math.imul(ie,je)|0,M=M+Math.imul(ie,Qe)|0,M=M+Math.imul(he,je)|0,F=F+Math.imul(he,Qe)|0;var St=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(St>>>26)|0,St&=67108863,U=Math.imul(ke,He),M=Math.imul(ke,nt),M=M+Math.imul(De,He)|0,F=Math.imul(De,nt),U=U+Math.imul(ce,Ke)|0,M=M+Math.imul(ce,st)|0,M=M+Math.imul(Se,Ke)|0,F=F+Math.imul(Se,st)|0,U=U+Math.imul(ve,Ge)|0,M=M+Math.imul(ve,rt)|0,M=M+Math.imul(Me,Ge)|0,F=F+Math.imul(Me,rt)|0,U=U+Math.imul(de,je)|0,M=M+Math.imul(de,Qe)|0,M=M+Math.imul(oe,je)|0,F=F+Math.imul(oe,Qe)|0,U=U+Math.imul(ie,we)|0,M=M+Math.imul(ie,me)|0,M=M+Math.imul(he,we)|0,F=F+Math.imul(he,me)|0;var Mt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,U=Math.imul(Le,He),M=Math.imul(Le,nt),M=M+Math.imul($e,He)|0,F=Math.imul($e,nt),U=U+Math.imul(ke,Ke)|0,M=M+Math.imul(ke,st)|0,M=M+Math.imul(De,Ke)|0,F=F+Math.imul(De,st)|0,U=U+Math.imul(ce,Ge)|0,M=M+Math.imul(ce,rt)|0,M=M+Math.imul(Se,Ge)|0,F=F+Math.imul(Se,rt)|0,U=U+Math.imul(ve,je)|0,M=M+Math.imul(ve,Qe)|0,M=M+Math.imul(Me,je)|0,F=F+Math.imul(Me,Qe)|0,U=U+Math.imul(de,we)|0,M=M+Math.imul(de,me)|0,M=M+Math.imul(oe,we)|0,F=F+Math.imul(oe,me)|0,U=U+Math.imul(ie,xe)|0,M=M+Math.imul(ie,Re)|0,M=M+Math.imul(he,xe)|0,F=F+Math.imul(he,Re)|0;var Et=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Et>>>26)|0,Et&=67108863,U=Math.imul(Ne,He),M=Math.imul(Ne,nt),M=M+Math.imul(We,He)|0,F=Math.imul(We,nt),U=U+Math.imul(Le,Ke)|0,M=M+Math.imul(Le,st)|0,M=M+Math.imul($e,Ke)|0,F=F+Math.imul($e,st)|0,U=U+Math.imul(ke,Ge)|0,M=M+Math.imul(ke,rt)|0,M=M+Math.imul(De,Ge)|0,F=F+Math.imul(De,rt)|0,U=U+Math.imul(ce,je)|0,M=M+Math.imul(ce,Qe)|0,M=M+Math.imul(Se,je)|0,F=F+Math.imul(Se,Qe)|0,U=U+Math.imul(ve,we)|0,M=M+Math.imul(ve,me)|0,M=M+Math.imul(Me,we)|0,F=F+Math.imul(Me,me)|0,U=U+Math.imul(de,xe)|0,M=M+Math.imul(de,Re)|0,M=M+Math.imul(oe,xe)|0,F=F+Math.imul(oe,Re)|0,U=U+Math.imul(ie,Ce)|0,M=M+Math.imul(ie,Ie)|0,M=M+Math.imul(he,Ce)|0,F=F+Math.imul(he,Ie)|0;var At=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(At>>>26)|0,At&=67108863,U=Math.imul(Ue,He),M=Math.imul(Ue,nt),M=M+Math.imul(Ye,He)|0,F=Math.imul(Ye,nt),U=U+Math.imul(Ne,Ke)|0,M=M+Math.imul(Ne,st)|0,M=M+Math.imul(We,Ke)|0,F=F+Math.imul(We,st)|0,U=U+Math.imul(Le,Ge)|0,M=M+Math.imul(Le,rt)|0,M=M+Math.imul($e,Ge)|0,F=F+Math.imul($e,rt)|0,U=U+Math.imul(ke,je)|0,M=M+Math.imul(ke,Qe)|0,M=M+Math.imul(De,je)|0,F=F+Math.imul(De,Qe)|0,U=U+Math.imul(ce,we)|0,M=M+Math.imul(ce,me)|0,M=M+Math.imul(Se,we)|0,F=F+Math.imul(Se,me)|0,U=U+Math.imul(ve,xe)|0,M=M+Math.imul(ve,Re)|0,M=M+Math.imul(Me,xe)|0,F=F+Math.imul(Me,Re)|0,U=U+Math.imul(de,Ce)|0,M=M+Math.imul(de,Ie)|0,M=M+Math.imul(oe,Ce)|0,F=F+Math.imul(oe,Ie)|0,U=U+Math.imul(ie,Be)|0,M=M+Math.imul(ie,Oe)|0,M=M+Math.imul(he,Be)|0,F=F+Math.imul(he,Oe)|0;var Rt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,U=Math.imul(Fe,He),M=Math.imul(Fe,nt),M=M+Math.imul(Xe,He)|0,F=Math.imul(Xe,nt),U=U+Math.imul(Ue,Ke)|0,M=M+Math.imul(Ue,st)|0,M=M+Math.imul(Ye,Ke)|0,F=F+Math.imul(Ye,st)|0,U=U+Math.imul(Ne,Ge)|0,M=M+Math.imul(Ne,rt)|0,M=M+Math.imul(We,Ge)|0,F=F+Math.imul(We,rt)|0,U=U+Math.imul(Le,je)|0,M=M+Math.imul(Le,Qe)|0,M=M+Math.imul($e,je)|0,F=F+Math.imul($e,Qe)|0,U=U+Math.imul(ke,we)|0,M=M+Math.imul(ke,me)|0,M=M+Math.imul(De,we)|0,F=F+Math.imul(De,me)|0,U=U+Math.imul(ce,xe)|0,M=M+Math.imul(ce,Re)|0,M=M+Math.imul(Se,xe)|0,F=F+Math.imul(Se,Re)|0,U=U+Math.imul(ve,Ce)|0,M=M+Math.imul(ve,Ie)|0,M=M+Math.imul(Me,Ce)|0,F=F+Math.imul(Me,Ie)|0,U=U+Math.imul(de,Be)|0,M=M+Math.imul(de,Oe)|0,M=M+Math.imul(oe,Be)|0,F=F+Math.imul(oe,Oe)|0,U=U+Math.imul(ie,qe)|0,M=M+Math.imul(ie,Ze)|0,M=M+Math.imul(he,qe)|0,F=F+Math.imul(he,Ze)|0;var Tt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,U=Math.imul(Ve,He),M=Math.imul(Ve,nt),M=M+Math.imul(it,He)|0,F=Math.imul(it,nt),U=U+Math.imul(Fe,Ke)|0,M=M+Math.imul(Fe,st)|0,M=M+Math.imul(Xe,Ke)|0,F=F+Math.imul(Xe,st)|0,U=U+Math.imul(Ue,Ge)|0,M=M+Math.imul(Ue,rt)|0,M=M+Math.imul(Ye,Ge)|0,F=F+Math.imul(Ye,rt)|0,U=U+Math.imul(Ne,je)|0,M=M+Math.imul(Ne,Qe)|0,M=M+Math.imul(We,je)|0,F=F+Math.imul(We,Qe)|0,U=U+Math.imul(Le,we)|0,M=M+Math.imul(Le,me)|0,M=M+Math.imul($e,we)|0,F=F+Math.imul($e,me)|0,U=U+Math.imul(ke,xe)|0,M=M+Math.imul(ke,Re)|0,M=M+Math.imul(De,xe)|0,F=F+Math.imul(De,Re)|0,U=U+Math.imul(ce,Ce)|0,M=M+Math.imul(ce,Ie)|0,M=M+Math.imul(Se,Ce)|0,F=F+Math.imul(Se,Ie)|0,U=U+Math.imul(ve,Be)|0,M=M+Math.imul(ve,Oe)|0,M=M+Math.imul(Me,Be)|0,F=F+Math.imul(Me,Oe)|0,U=U+Math.imul(de,qe)|0,M=M+Math.imul(de,Ze)|0,M=M+Math.imul(oe,qe)|0,F=F+Math.imul(oe,Ze)|0,U=U+Math.imul(ie,ze)|0,M=M+Math.imul(ie,tt)|0,M=M+Math.imul(he,ze)|0,F=F+Math.imul(he,tt)|0;var $t=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+($t>>>26)|0,$t&=67108863,U=Math.imul(Ve,Ke),M=Math.imul(Ve,st),M=M+Math.imul(it,Ke)|0,F=Math.imul(it,st),U=U+Math.imul(Fe,Ge)|0,M=M+Math.imul(Fe,rt)|0,M=M+Math.imul(Xe,Ge)|0,F=F+Math.imul(Xe,rt)|0,U=U+Math.imul(Ue,je)|0,M=M+Math.imul(Ue,Qe)|0,M=M+Math.imul(Ye,je)|0,F=F+Math.imul(Ye,Qe)|0,U=U+Math.imul(Ne,we)|0,M=M+Math.imul(Ne,me)|0,M=M+Math.imul(We,we)|0,F=F+Math.imul(We,me)|0,U=U+Math.imul(Le,xe)|0,M=M+Math.imul(Le,Re)|0,M=M+Math.imul($e,xe)|0,F=F+Math.imul($e,Re)|0,U=U+Math.imul(ke,Ce)|0,M=M+Math.imul(ke,Ie)|0,M=M+Math.imul(De,Ce)|0,F=F+Math.imul(De,Ie)|0,U=U+Math.imul(ce,Be)|0,M=M+Math.imul(ce,Oe)|0,M=M+Math.imul(Se,Be)|0,F=F+Math.imul(Se,Oe)|0,U=U+Math.imul(ve,qe)|0,M=M+Math.imul(ve,Ze)|0,M=M+Math.imul(Me,qe)|0,F=F+Math.imul(Me,Ze)|0,U=U+Math.imul(de,ze)|0,M=M+Math.imul(de,tt)|0,M=M+Math.imul(oe,ze)|0,F=F+Math.imul(oe,tt)|0;var Ct=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,U=Math.imul(Ve,Ge),M=Math.imul(Ve,rt),M=M+Math.imul(it,Ge)|0,F=Math.imul(it,rt),U=U+Math.imul(Fe,je)|0,M=M+Math.imul(Fe,Qe)|0,M=M+Math.imul(Xe,je)|0,F=F+Math.imul(Xe,Qe)|0,U=U+Math.imul(Ue,we)|0,M=M+Math.imul(Ue,me)|0,M=M+Math.imul(Ye,we)|0,F=F+Math.imul(Ye,me)|0,U=U+Math.imul(Ne,xe)|0,M=M+Math.imul(Ne,Re)|0,M=M+Math.imul(We,xe)|0,F=F+Math.imul(We,Re)|0,U=U+Math.imul(Le,Ce)|0,M=M+Math.imul(Le,Ie)|0,M=M+Math.imul($e,Ce)|0,F=F+Math.imul($e,Ie)|0,U=U+Math.imul(ke,Be)|0,M=M+Math.imul(ke,Oe)|0,M=M+Math.imul(De,Be)|0,F=F+Math.imul(De,Oe)|0,U=U+Math.imul(ce,qe)|0,M=M+Math.imul(ce,Ze)|0,M=M+Math.imul(Se,qe)|0,F=F+Math.imul(Se,Ze)|0,U=U+Math.imul(ve,ze)|0,M=M+Math.imul(ve,tt)|0,M=M+Math.imul(Me,ze)|0,F=F+Math.imul(Me,tt)|0;var It=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(It>>>26)|0,It&=67108863,U=Math.imul(Ve,je),M=Math.imul(Ve,Qe),M=M+Math.imul(it,je)|0,F=Math.imul(it,Qe),U=U+Math.imul(Fe,we)|0,M=M+Math.imul(Fe,me)|0,M=M+Math.imul(Xe,we)|0,F=F+Math.imul(Xe,me)|0,U=U+Math.imul(Ue,xe)|0,M=M+Math.imul(Ue,Re)|0,M=M+Math.imul(Ye,xe)|0,F=F+Math.imul(Ye,Re)|0,U=U+Math.imul(Ne,Ce)|0,M=M+Math.imul(Ne,Ie)|0,M=M+Math.imul(We,Ce)|0,F=F+Math.imul(We,Ie)|0,U=U+Math.imul(Le,Be)|0,M=M+Math.imul(Le,Oe)|0,M=M+Math.imul($e,Be)|0,F=F+Math.imul($e,Oe)|0,U=U+Math.imul(ke,qe)|0,M=M+Math.imul(ke,Ze)|0,M=M+Math.imul(De,qe)|0,F=F+Math.imul(De,Ze)|0,U=U+Math.imul(ce,ze)|0,M=M+Math.imul(ce,tt)|0,M=M+Math.imul(Se,ze)|0,F=F+Math.imul(Se,tt)|0;var Bt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,U=Math.imul(Ve,we),M=Math.imul(Ve,me),M=M+Math.imul(it,we)|0,F=Math.imul(it,me),U=U+Math.imul(Fe,xe)|0,M=M+Math.imul(Fe,Re)|0,M=M+Math.imul(Xe,xe)|0,F=F+Math.imul(Xe,Re)|0,U=U+Math.imul(Ue,Ce)|0,M=M+Math.imul(Ue,Ie)|0,M=M+Math.imul(Ye,Ce)|0,F=F+Math.imul(Ye,Ie)|0,U=U+Math.imul(Ne,Be)|0,M=M+Math.imul(Ne,Oe)|0,M=M+Math.imul(We,Be)|0,F=F+Math.imul(We,Oe)|0,U=U+Math.imul(Le,qe)|0,M=M+Math.imul(Le,Ze)|0,M=M+Math.imul($e,qe)|0,F=F+Math.imul($e,Ze)|0,U=U+Math.imul(ke,ze)|0,M=M+Math.imul(ke,tt)|0,M=M+Math.imul(De,ze)|0,F=F+Math.imul(De,tt)|0;var kt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(kt>>>26)|0,kt&=67108863,U=Math.imul(Ve,xe),M=Math.imul(Ve,Re),M=M+Math.imul(it,xe)|0,F=Math.imul(it,Re),U=U+Math.imul(Fe,Ce)|0,M=M+Math.imul(Fe,Ie)|0,M=M+Math.imul(Xe,Ce)|0,F=F+Math.imul(Xe,Ie)|0,U=U+Math.imul(Ue,Be)|0,M=M+Math.imul(Ue,Oe)|0,M=M+Math.imul(Ye,Be)|0,F=F+Math.imul(Ye,Oe)|0,U=U+Math.imul(Ne,qe)|0,M=M+Math.imul(Ne,Ze)|0,M=M+Math.imul(We,qe)|0,F=F+Math.imul(We,Ze)|0,U=U+Math.imul(Le,ze)|0,M=M+Math.imul(Le,tt)|0,M=M+Math.imul($e,ze)|0,F=F+Math.imul($e,tt)|0;var Dt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,U=Math.imul(Ve,Ce),M=Math.imul(Ve,Ie),M=M+Math.imul(it,Ce)|0,F=Math.imul(it,Ie),U=U+Math.imul(Fe,Be)|0,M=M+Math.imul(Fe,Oe)|0,M=M+Math.imul(Xe,Be)|0,F=F+Math.imul(Xe,Oe)|0,U=U+Math.imul(Ue,qe)|0,M=M+Math.imul(Ue,Ze)|0,M=M+Math.imul(Ye,qe)|0,F=F+Math.imul(Ye,Ze)|0,U=U+Math.imul(Ne,ze)|0,M=M+Math.imul(Ne,tt)|0,M=M+Math.imul(We,ze)|0,F=F+Math.imul(We,tt)|0;var qt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(qt>>>26)|0,qt&=67108863,U=Math.imul(Ve,Be),M=Math.imul(Ve,Oe),M=M+Math.imul(it,Be)|0,F=Math.imul(it,Oe),U=U+Math.imul(Fe,qe)|0,M=M+Math.imul(Fe,Ze)|0,M=M+Math.imul(Xe,qe)|0,F=F+Math.imul(Xe,Ze)|0,U=U+Math.imul(Ue,ze)|0,M=M+Math.imul(Ue,tt)|0,M=M+Math.imul(Ye,ze)|0,F=F+Math.imul(Ye,tt)|0;var Pt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,U=Math.imul(Ve,qe),M=Math.imul(Ve,Ze),M=M+Math.imul(it,qe)|0,F=Math.imul(it,Ze),U=U+Math.imul(Fe,ze)|0,M=M+Math.imul(Fe,tt)|0,M=M+Math.imul(Xe,ze)|0,F=F+Math.imul(Xe,tt)|0;var Nt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,U=Math.imul(Ve,ze),M=Math.imul(Ve,tt),M=M+Math.imul(it,ze)|0,F=Math.imul(it,tt);var Ot=(Z+U|0)+((M&8191)<<13)|0;return Z=(F+(M>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,W[0]=dt,W[1]=pt,W[2]=xt,W[3]=St,W[4]=Mt,W[5]=Et,W[6]=At,W[7]=Rt,W[8]=Tt,W[9]=$t,W[10]=Ct,W[11]=It,W[12]=Bt,W[13]=kt,W[14]=Dt,W[15]=qt,W[16]=Pt,W[17]=Nt,W[18]=Ot,Z!==0&&(W[19]=Z,P.length++),P};Math.imul||(re=ee);function ne(J,u,T){T.negative=u.negative^J.negative,T.length=J.length+u.length;for(var P=0,N=0,L=0;L<T.length-1;L++){var W=N;N=0;for(var Z=P&67108863,U=Math.min(L,u.length-1),M=Math.max(0,L-J.length+1);M<=U;M++){var F=L-M,te=J.words[F]|0,ie=u.words[M]|0,he=te*ie,pe=he&67108863;W=W+(he/67108864|0)|0,pe=pe+Z|0,Z=pe&67108863,W=W+(pe>>>26)|0,N+=W>>>26,W&=67108863}T.words[L]=Z,P=W,W=N}return P!==0?T.words[L]=P:T.length--,T.strip()}function se(J,u,T){var P=new ae;return P.mulp(J,u,T)}$.prototype.mulTo=function(u,T){var P,N=this.length+u.length;return this.length===10&&u.length===10?P=re(this,u,T):N<63?P=ee(this,u,T):N<1024?P=ne(this,u,T):P=se(this,u,T),P};function ae(J,u){this.x=J,this.y=u}ae.prototype.makeRBT=function(u){for(var T=new Array(u),P=$.prototype._countBits(u)-1,N=0;N<u;N++)T[N]=this.revBin(N,P,u);return T},ae.prototype.revBin=function(u,T,P){if(u===0||u===P-1)return u;for(var N=0,L=0;L<T;L++)N|=(u&1)<<T-L-1,u>>=1;return N},ae.prototype.permute=function(u,T,P,N,L,W){for(var Z=0;Z<W;Z++)N[Z]=T[u[Z]],L[Z]=P[u[Z]]},ae.prototype.transform=function(u,T,P,N,L,W){this.permute(W,u,T,P,N,L);for(var Z=1;Z<L;Z<<=1)for(var U=Z<<1,M=Math.cos(2*Math.PI/U),F=Math.sin(2*Math.PI/U),te=0;te<L;te+=U)for(var ie=M,he=F,pe=0;pe<Z;pe++){var de=P[te+pe],oe=N[te+pe],le=P[te+pe+Z],ve=N[te+pe+Z],Me=ie*le-he*ve;ve=ie*ve+he*le,le=Me,P[te+pe]=de+le,N[te+pe]=oe+ve,P[te+pe+Z]=de-le,N[te+pe+Z]=oe-ve,pe!==U&&(Me=M*ie-F*he,he=M*he+F*ie,ie=Me)}},ae.prototype.guessLen13b=function(u,T){var P=Math.max(T,u)|1,N=P&1,L=0;for(P=P/2|0;P;P=P>>>1)L++;return 1<<L+1+N},ae.prototype.conjugate=function(u,T,P){if(!(P<=1))for(var N=0;N<P/2;N++){var L=u[N];u[N]=u[P-N-1],u[P-N-1]=L,L=T[N],T[N]=-T[P-N-1],T[P-N-1]=-L}},ae.prototype.normalize13b=function(u,T){for(var P=0,N=0;N<T/2;N++){var L=Math.round(u[2*N+1]/T)*8192+Math.round(u[2*N]/T)+P;u[N]=L&67108863,L<67108864?P=0:P=L/67108864|0}return u},ae.prototype.convert13b=function(u,T,P,N){for(var L=0,W=0;W<T;W++)L=L+(u[W]|0),P[2*W]=L&8191,L=L>>>13,P[2*W+1]=L&8191,L=L>>>13;for(W=2*T;W<N;++W)P[W]=0;q(L===0),q((L&-8192)===0)},ae.prototype.stub=function(u){for(var T=new Array(u),P=0;P<u;P++)T[P]=0;return T},ae.prototype.mulp=function(u,T,P){var N=2*this.guessLen13b(u.length,T.length),L=this.makeRBT(N),W=this.stub(N),Z=new Array(N),U=new Array(N),M=new Array(N),F=new Array(N),te=new Array(N),ie=new Array(N),he=P.words;he.length=N,this.convert13b(u.words,u.length,Z,N),this.convert13b(T.words,T.length,F,N),this.transform(Z,W,U,M,N,L),this.transform(F,W,te,ie,N,L);for(var pe=0;pe<N;pe++){var de=U[pe]*te[pe]-M[pe]*ie[pe];M[pe]=U[pe]*ie[pe]+M[pe]*te[pe],U[pe]=de}return this.conjugate(U,M,N),this.transform(U,M,he,W,N,L),this.conjugate(he,W,N),this.normalize13b(he,N),P.negative=u.negative^T.negative,P.length=u.length+T.length,P.strip()},$.prototype.mul=function(u){var T=new $(null);return T.words=new Array(this.length+u.length),this.mulTo(u,T)},$.prototype.mulf=function(u){var T=new $(null);return T.words=new Array(this.length+u.length),se(this,u,T)},$.prototype.imul=function(u){return this.clone().mulTo(u,this)},$.prototype.imuln=function(u){q(typeof u=="number"),q(u<67108864);for(var T=0,P=0;P<this.length;P++){var N=(this.words[P]|0)*u,L=(N&67108863)+(T&67108863);T>>=26,T+=N/67108864|0,T+=L>>>26,this.words[P]=L&67108863}return T!==0&&(this.words[P]=T,this.length++),this},$.prototype.muln=function(u){return this.clone().imuln(u)},$.prototype.sqr=function(){return this.mul(this)},$.prototype.isqr=function(){return this.imul(this.clone())},$.prototype.pow=function(u){var T=Q(u);if(T.length===0)return new $(1);for(var P=this,N=0;N<T.length&&T[N]===0;N++,P=P.sqr());if(++N<T.length)for(var L=P.sqr();N<T.length;N++,L=L.sqr())T[N]!==0&&(P=P.mul(L));return P},$.prototype.iushln=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26,N=67108863>>>26-T<<26-T,L;if(T!==0){var W=0;for(L=0;L<this.length;L++){var Z=this.words[L]&N,U=(this.words[L]|0)-Z<<T;this.words[L]=U|W,W=Z>>>26-T}W&&(this.words[L]=W,this.length++)}if(P!==0){for(L=this.length-1;L>=0;L--)this.words[L+P]=this.words[L];for(L=0;L<P;L++)this.words[L]=0;this.length+=P}return this.strip()},$.prototype.ishln=function(u){return q(this.negative===0),this.iushln(u)},$.prototype.iushrn=function(u,T,P){q(typeof u=="number"&&u>=0);var N;T?N=(T-T%26)/26:N=0;var L=u%26,W=Math.min((u-L)/26,this.length),Z=67108863^67108863>>>L<<L,U=P;if(N-=W,N=Math.max(0,N),U){for(var M=0;M<W;M++)U.words[M]=this.words[M];U.length=W}if(W!==0)if(this.length>W)for(this.length-=W,M=0;M<this.length;M++)this.words[M]=this.words[M+W];else this.words[0]=0,this.length=1;var F=0;for(M=this.length-1;M>=0&&(F!==0||M>=N);M--){var te=this.words[M]|0;this.words[M]=F<<26-L|te>>>L,F=te&Z}return U&&F!==0&&(U.words[U.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},$.prototype.ishrn=function(u,T,P){return q(this.negative===0),this.iushrn(u,T,P)},$.prototype.shln=function(u){return this.clone().ishln(u)},$.prototype.ushln=function(u){return this.clone().iushln(u)},$.prototype.shrn=function(u){return this.clone().ishrn(u)},$.prototype.ushrn=function(u){return this.clone().iushrn(u)},$.prototype.testn=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26,N=1<<T;if(this.length<=P)return!1;var L=this.words[P];return!!(L&N)},$.prototype.imaskn=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26;if(q(this.negative===0,"imaskn works only with positive numbers"),this.length<=P)return this;if(T!==0&&P++,this.length=Math.min(P,this.length),T!==0){var N=67108863^67108863>>>T<<T;this.words[this.length-1]&=N}return this.strip()},$.prototype.maskn=function(u){return this.clone().imaskn(u)},$.prototype.iaddn=function(u){return q(typeof u=="number"),q(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},$.prototype._iaddn=function(u){this.words[0]+=u;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},$.prototype.isubn=function(u){if(q(typeof u=="number"),q(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this.strip()},$.prototype.addn=function(u){return this.clone().iaddn(u)},$.prototype.subn=function(u){return this.clone().isubn(u)},$.prototype.iabs=function(){return this.negative=0,this},$.prototype.abs=function(){return this.clone().iabs()},$.prototype._ishlnsubmul=function(u,T,P){var N=u.length+P,L;this._expand(N);var W,Z=0;for(L=0;L<u.length;L++){W=(this.words[L+P]|0)+Z;var U=(u.words[L]|0)*T;W-=U&67108863,Z=(W>>26)-(U/67108864|0),this.words[L+P]=W&67108863}for(;L<this.length-P;L++)W=(this.words[L+P]|0)+Z,Z=W>>26,this.words[L+P]=W&67108863;if(Z===0)return this.strip();for(q(Z===-1),Z=0,L=0;L<this.length;L++)W=-(this.words[L]|0)+Z,Z=W>>26,this.words[L]=W&67108863;return this.negative=1,this.strip()},$.prototype._wordDiv=function(u,T){var P=this.length-u.length,N=this.clone(),L=u,W=L.words[L.length-1]|0,Z=this._countBits(W);P=26-Z,P!==0&&(L=L.ushln(P),N.iushln(P),W=L.words[L.length-1]|0);var U=N.length-L.length,M;if(T!=="mod"){M=new $(null),M.length=U+1,M.words=new Array(M.length);for(var F=0;F<M.length;F++)M.words[F]=0}var te=N.clone()._ishlnsubmul(L,1,U);te.negative===0&&(N=te,M&&(M.words[U]=1));for(var ie=U-1;ie>=0;ie--){var he=(N.words[L.length+ie]|0)*67108864+(N.words[L.length+ie-1]|0);for(he=Math.min(he/W|0,67108863),N._ishlnsubmul(L,he,ie);N.negative!==0;)he--,N.negative=0,N._ishlnsubmul(L,1,ie),N.isZero()||(N.negative^=1);M&&(M.words[ie]=he)}return M&&M.strip(),N.strip(),T!=="div"&&P!==0&&N.iushrn(P),{div:M||null,mod:N}},$.prototype.divmod=function(u,T,P){if(q(!u.isZero()),this.isZero())return{div:new $(0),mod:new $(0)};var N,L,W;return this.negative!==0&&u.negative===0?(W=this.neg().divmod(u,T),T!=="mod"&&(N=W.div.neg()),T!=="div"&&(L=W.mod.neg(),P&&L.negative!==0&&L.iadd(u)),{div:N,mod:L}):this.negative===0&&u.negative!==0?(W=this.divmod(u.neg(),T),T!=="mod"&&(N=W.div.neg()),{div:N,mod:W.mod}):this.negative&u.negative?(W=this.neg().divmod(u.neg(),T),T!=="div"&&(L=W.mod.neg(),P&&L.negative!==0&&L.isub(u)),{div:W.div,mod:L}):u.length>this.length||this.cmp(u)<0?{div:new $(0),mod:this}:u.length===1?T==="div"?{div:this.divn(u.words[0]),mod:null}:T==="mod"?{div:null,mod:new $(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new $(this.modn(u.words[0]))}:this._wordDiv(u,T)},$.prototype.div=function(u){return this.divmod(u,"div",!1).div},$.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},$.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},$.prototype.divRound=function(u){var T=this.divmod(u);if(T.mod.isZero())return T.div;var P=T.div.negative!==0?T.mod.isub(u):T.mod,N=u.ushrn(1),L=u.andln(1),W=P.cmp(N);return W<0||L===1&&W===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},$.prototype.modn=function(u){q(u<=67108863);for(var T=(1<<26)%u,P=0,N=this.length-1;N>=0;N--)P=(T*P+(this.words[N]|0))%u;return P},$.prototype.idivn=function(u){q(u<=67108863);for(var T=0,P=this.length-1;P>=0;P--){var N=(this.words[P]|0)+T*67108864;this.words[P]=N/u|0,T=N%u}return this.strip()},$.prototype.divn=function(u){return this.clone().idivn(u)},$.prototype.egcd=function(u){q(u.negative===0),q(!u.isZero());var T=this,P=u.clone();T.negative!==0?T=T.umod(u):T=T.clone();for(var N=new $(1),L=new $(0),W=new $(0),Z=new $(1),U=0;T.isEven()&&P.isEven();)T.iushrn(1),P.iushrn(1),++U;for(var M=P.clone(),F=T.clone();!T.isZero();){for(var te=0,ie=1;!(T.words[0]&ie)&&te<26;++te,ie<<=1);if(te>0)for(T.iushrn(te);te-- >0;)(N.isOdd()||L.isOdd())&&(N.iadd(M),L.isub(F)),N.iushrn(1),L.iushrn(1);for(var he=0,pe=1;!(P.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(P.iushrn(he);he-- >0;)(W.isOdd()||Z.isOdd())&&(W.iadd(M),Z.isub(F)),W.iushrn(1),Z.iushrn(1);T.cmp(P)>=0?(T.isub(P),N.isub(W),L.isub(Z)):(P.isub(T),W.isub(N),Z.isub(L))}return{a:W,b:Z,gcd:P.iushln(U)}},$.prototype._invmp=function(u){q(u.negative===0),q(!u.isZero());var T=this,P=u.clone();T.negative!==0?T=T.umod(u):T=T.clone();for(var N=new $(1),L=new $(0),W=P.clone();T.cmpn(1)>0&&P.cmpn(1)>0;){for(var Z=0,U=1;!(T.words[0]&U)&&Z<26;++Z,U<<=1);if(Z>0)for(T.iushrn(Z);Z-- >0;)N.isOdd()&&N.iadd(W),N.iushrn(1);for(var M=0,F=1;!(P.words[0]&F)&&M<26;++M,F<<=1);if(M>0)for(P.iushrn(M);M-- >0;)L.isOdd()&&L.iadd(W),L.iushrn(1);T.cmp(P)>=0?(T.isub(P),N.isub(L)):(P.isub(T),L.isub(N))}var te;return T.cmpn(1)===0?te=N:te=L,te.cmpn(0)<0&&te.iadd(u),te},$.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var T=this.clone(),P=u.clone();T.negative=0,P.negative=0;for(var N=0;T.isEven()&&P.isEven();N++)T.iushrn(1),P.iushrn(1);do{for(;T.isEven();)T.iushrn(1);for(;P.isEven();)P.iushrn(1);var L=T.cmp(P);if(L<0){var W=T;T=P,P=W}else if(L===0||P.cmpn(1)===0)break;T.isub(P)}while(!0);return P.iushln(N)},$.prototype.invm=function(u){return this.egcd(u).a.umod(u)},$.prototype.isEven=function(){return(this.words[0]&1)===0},$.prototype.isOdd=function(){return(this.words[0]&1)===1},$.prototype.andln=function(u){return this.words[0]&u},$.prototype.bincn=function(u){q(typeof u=="number");var T=u%26,P=(u-T)/26,N=1<<T;if(this.length<=P)return this._expand(P+1),this.words[P]|=N,this;for(var L=N,W=P;L!==0&&W<this.length;W++){var Z=this.words[W]|0;Z+=L,L=Z>>>26,Z&=67108863,this.words[W]=Z}return L!==0&&(this.words[W]=L,this.length++),this},$.prototype.isZero=function(){return this.length===1&&this.words[0]===0},$.prototype.cmpn=function(u){var T=u<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;this.strip();var P;if(this.length>1)P=1;else{T&&(u=-u),q(u<=67108863,"Number is too big");var N=this.words[0]|0;P=N===u?0:N<u?-1:1}return this.negative!==0?-P|0:P},$.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var T=this.ucmp(u);return this.negative!==0?-T|0:T},$.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var T=0,P=this.length-1;P>=0;P--){var N=this.words[P]|0,L=u.words[P]|0;if(N!==L){N<L?T=-1:N>L&&(T=1);break}}return T},$.prototype.gtn=function(u){return this.cmpn(u)===1},$.prototype.gt=function(u){return this.cmp(u)===1},$.prototype.gten=function(u){return this.cmpn(u)>=0},$.prototype.gte=function(u){return this.cmp(u)>=0},$.prototype.ltn=function(u){return this.cmpn(u)===-1},$.prototype.lt=function(u){return this.cmp(u)===-1},$.prototype.lten=function(u){return this.cmpn(u)<=0},$.prototype.lte=function(u){return this.cmp(u)<=0},$.prototype.eqn=function(u){return this.cmpn(u)===0},$.prototype.eq=function(u){return this.cmp(u)===0},$.red=function(u){return new be(u)},$.prototype.toRed=function(u){return q(!this.red,"Already a number in reduction context"),q(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},$.prototype.fromRed=function(){return q(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},$.prototype._forceRed=function(u){return this.red=u,this},$.prototype.forceRed=function(u){return q(!this.red,"Already a number in reduction context"),this._forceRed(u)},$.prototype.redAdd=function(u){return q(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},$.prototype.redIAdd=function(u){return q(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},$.prototype.redSub=function(u){return q(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},$.prototype.redISub=function(u){return q(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},$.prototype.redShl=function(u){return q(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},$.prototype.redMul=function(u){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},$.prototype.redIMul=function(u){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},$.prototype.redSqr=function(){return q(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},$.prototype.redISqr=function(){return q(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},$.prototype.redSqrt=function(){return q(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},$.prototype.redInvm=function(){return q(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},$.prototype.redNeg=function(){return q(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},$.prototype.redPow=function(u){return q(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var fe={k256:null,p224:null,p192:null,p25519:null};function ue(J,u){this.name=J,this.p=new $(u,16),this.n=this.p.bitLength(),this.k=new $(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ue.prototype._tmp=function(){var u=new $(null);return u.words=new Array(Math.ceil(this.n/13)),u},ue.prototype.ireduce=function(u){var T=u,P;do this.split(T,this.tmp),T=this.imulK(T),T=T.iadd(this.tmp),P=T.bitLength();while(P>this.n);var N=P<this.n?-1:T.ucmp(this.p);return N===0?(T.words[0]=0,T.length=1):N>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},ue.prototype.split=function(u,T){u.iushrn(this.n,0,T)},ue.prototype.imulK=function(u){return u.imul(this.k)};function _e(){ue.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(_e,ue),_e.prototype.split=function(u,T){for(var P=4194303,N=Math.min(u.length,9),L=0;L<N;L++)T.words[L]=u.words[L];if(T.length=N,u.length<=9){u.words[0]=0,u.length=1;return}var W=u.words[9];for(T.words[T.length++]=W&P,L=10;L<u.length;L++){var Z=u.words[L]|0;u.words[L-10]=(Z&P)<<4|W>>>22,W=Z}W>>>=22,u.words[L-10]=W,W===0&&u.length>10?u.length-=10:u.length-=9},_e.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var T=0,P=0;P<u.length;P++){var N=u.words[P]|0;T+=N*977,u.words[P]=T&67108863,T=N*64+(T/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function ge(){ue.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(ge,ue);function Ae(){ue.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(Ae,ue);function Te(){ue.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(Te,ue),Te.prototype.imulK=function(u){for(var T=0,P=0;P<u.length;P++){var N=(u.words[P]|0)*19+T,L=N&67108863;N>>>=26,u.words[P]=L,T=N}return T!==0&&(u.words[u.length++]=T),u},$._prime=function(u){if(fe[u])return fe[u];var T;if(u==="k256")T=new _e;else if(u==="p224")T=new ge;else if(u==="p192")T=new Ae;else if(u==="p25519")T=new Te;else throw new Error("Unknown prime "+u);return fe[u]=T,T};function be(J){if(typeof J=="string"){var u=$._prime(J);this.m=u.p,this.prime=u}else q(J.gtn(1),"modulus must be greater than 1"),this.m=J,this.prime=null}be.prototype._verify1=function(u){q(u.negative===0,"red works only with positives"),q(u.red,"red works only with red numbers")},be.prototype._verify2=function(u,T){q((u.negative|T.negative)===0,"red works only with positives"),q(u.red&&u.red===T.red,"red works only with red numbers")},be.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},be.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},be.prototype.add=function(u,T){this._verify2(u,T);var P=u.add(T);return P.cmp(this.m)>=0&&P.isub(this.m),P._forceRed(this)},be.prototype.iadd=function(u,T){this._verify2(u,T);var P=u.iadd(T);return P.cmp(this.m)>=0&&P.isub(this.m),P},be.prototype.sub=function(u,T){this._verify2(u,T);var P=u.sub(T);return P.cmpn(0)<0&&P.iadd(this.m),P._forceRed(this)},be.prototype.isub=function(u,T){this._verify2(u,T);var P=u.isub(T);return P.cmpn(0)<0&&P.iadd(this.m),P},be.prototype.shl=function(u,T){return this._verify1(u),this.imod(u.ushln(T))},be.prototype.imul=function(u,T){return this._verify2(u,T),this.imod(u.imul(T))},be.prototype.mul=function(u,T){return this._verify2(u,T),this.imod(u.mul(T))},be.prototype.isqr=function(u){return this.imul(u,u.clone())},be.prototype.sqr=function(u){return this.mul(u,u)},be.prototype.sqrt=function(u){if(u.isZero())return u.clone();var T=this.m.andln(3);if(q(T%2===1),T===3){var P=this.m.add(new $(1)).iushrn(2);return this.pow(u,P)}for(var N=this.m.subn(1),L=0;!N.isZero()&&N.andln(1)===0;)L++,N.iushrn(1);q(!N.isZero());var W=new $(1).toRed(this),Z=W.redNeg(),U=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new $(2*M*M).toRed(this);this.pow(M,U).cmp(Z)!==0;)M.redIAdd(Z);for(var F=this.pow(M,N),te=this.pow(u,N.addn(1).iushrn(1)),ie=this.pow(u,N),he=L;ie.cmp(W)!==0;){for(var pe=ie,de=0;pe.cmp(W)!==0;de++)pe=pe.redSqr();q(de<he);var oe=this.pow(F,new $(1).iushln(he-de-1));te=te.redMul(oe),F=oe.redSqr(),ie=ie.redMul(F),he=de}return te},be.prototype.invm=function(u){var T=u._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},be.prototype.pow=function(u,T){if(T.isZero())return new $(1).toRed(this);if(T.cmpn(1)===0)return u.clone();var P=4,N=new Array(1<<P);N[0]=new $(1).toRed(this),N[1]=u;for(var L=2;L<N.length;L++)N[L]=this.mul(N[L-1],u);var W=N[0],Z=0,U=0,M=T.bitLength()%26;for(M===0&&(M=26),L=T.length-1;L>=0;L--){for(var F=T.words[L],te=M-1;te>=0;te--){var ie=F>>te&1;if(W!==N[0]&&(W=this.sqr(W)),ie===0&&Z===0){U=0;continue}Z<<=1,Z|=ie,U++,!(U!==P&&(L!==0||te!==0))&&(W=this.mul(W,N[Z]),U=0,Z=0)}M=26}return W},be.prototype.convertTo=function(u){var T=u.umod(this.m);return T===u?T.clone():T},be.prototype.convertFrom=function(u){var T=u.clone();return T.red=null,T},$.mont=function(u){return new Pe(u)};function Pe(J){be.call(this,J),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new $(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(Pe,be),Pe.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Pe.prototype.convertFrom=function(u){var T=this.imod(u.mul(this.rinv));return T.red=null,T},Pe.prototype.imul=function(u,T){if(u.isZero()||T.isZero())return u.words[0]=0,u.length=1,u;var P=u.imul(T),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=P.isub(N).iushrn(this.shift),W=L;return L.cmp(this.m)>=0?W=L.isub(this.m):L.cmpn(0)<0&&(W=L.iadd(this.m)),W._forceRed(this)},Pe.prototype.mul=function(u,T){if(u.isZero()||T.isZero())return new $(0)._forceRed(this);var P=u.mul(T),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=P.isub(N).iushrn(this.shift),W=L;return L.cmp(this.m)>=0?W=L.isub(this.m):L.cmpn(0)<0&&(W=L.iadd(this.m)),W._forceRed(this)},Pe.prototype.invm=function(u){var T=this.imod(u._invmp(this.m).mul(this.r2));return T._forceRed(this)}})(B,commonjsGlobal)}(bn$2)),bn$2.exports}var api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(B,S){if(B.indexOf)return B.indexOf(S);for(var D=0;D<B.length;D++)if(B[D]===S)return D;return-1},Object_keys=function(B){if(Object.keys)return Object.keys(B);var S=[];for(var D in B)S.push(D);return S},forEach=function(B,S){if(B.forEach)return B.forEach(S);for(var D=0;D<B.length;D++)S(B[D],D,B)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(B,S,D){Object.defineProperty(B,S,{writable:!0,enumerable:!1,configurable:!0,value:D})}}catch{return function(S,D,q){S[D]=q}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(S){if(!(this instanceof Script))return new Script(S);this.code=S};Script.prototype.runInContext=function(B){if(!(B instanceof Context))throw new TypeError("needs a 'context' argument.");var S=document.createElement("iframe");S.style||(S.style={}),S.style.display="none",document.body.appendChild(S);var D=S.contentWindow,q=D.eval,O=D.execScript;!q&&O&&(O.call(D,"null"),q=D.eval),forEach(Object_keys(B),function(G){D[G]=B[G]}),forEach(globals,function(G){B[G]&&(D[G]=B[G])});var $=Object_keys(D),j=q.call(D,this.code);return forEach(Object_keys(D),function(G){(G in B||indexOf($,G)===-1)&&(B[G]=D[G])}),forEach(globals,function(G){G in B||defineProp(B,G,D[G])}),document.body.removeChild(S),j},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(B){var S=Script.createContext(B),D=this.runInContext(S);return B&&forEach(Object_keys(S),function(q){B[q]=S[q]}),D},forEach(Object_keys(Script.prototype),function(B){exports[B]=Script[B]=function(S){var D=Script(S);return D[B].apply(D,[].slice.call(arguments,1))}}),exports.isContext=function(B){return B instanceof Context},exports.createScript=function(B){return exports.Script(B)},exports.createContext=Script.createContext=function(B){var S=new Context;return typeof B=="object"&&forEach(Object_keys(B),function(D){S[D]=B[D]}),S}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(B){var S=requireAsn1$1(),D=requireInherits_browser(),q=B;q.define=function(j,G){return new O(j,G)};function O($,j){this.name=$,this.body=j,this.decoders={},this.encoders={}}O.prototype._createNamed=function(j){var G;try{G=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{G=function(K){this._initNamed(K)}}return D(G,j),G.prototype._initNamed=function(K){j.call(this,K)},new G(this)},O.prototype._getDecoder=function(j){return j=j||"der",this.decoders.hasOwnProperty(j)||(this.decoders[j]=this._createNamed(S.decoders[j])),this.decoders[j]},O.prototype.decode=function(j,G,V){return this._getDecoder(G).decode(j,V)},O.prototype._getEncoder=function(j){return j=j||"der",this.encoders.hasOwnProperty(j)||(this.encoders[j]=this._createNamed(S.encoders[j])),this.encoders[j]},O.prototype.encode=function(j,G,V){return this._getEncoder(G).encode(j,V)}}(api)),api}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var B=requireInherits_browser();function S(q){this._reporterState={obj:null,path:[],options:q||{},errors:[]}}reporter.Reporter=S,S.prototype.isError=function(O){return O instanceof D},S.prototype.save=function(){var O=this._reporterState;return{obj:O.obj,pathLen:O.path.length}},S.prototype.restore=function(O){var $=this._reporterState;$.obj=O.obj,$.path=$.path.slice(0,O.pathLen)},S.prototype.enterKey=function(O){return this._reporterState.path.push(O)},S.prototype.exitKey=function(O){var $=this._reporterState;$.path=$.path.slice(0,O-1)},S.prototype.leaveKey=function(O,$,j){var G=this._reporterState;this.exitKey(O),G.obj!==null&&(G.obj[$]=j)},S.prototype.path=function(){return this._reporterState.path.join("/")},S.prototype.enterObject=function(){var O=this._reporterState,$=O.obj;return O.obj={},$},S.prototype.leaveObject=function(O){var $=this._reporterState,j=$.obj;return $.obj=O,j},S.prototype.error=function(O){var $,j=this._reporterState,G=O instanceof D;if(G?$=O:$=new D(j.path.map(function(V){return"["+JSON.stringify(V)+"]"}).join(""),O.message||O,O.stack),!j.options.partial)throw $;return G||j.errors.push($),$},S.prototype.wrapResult=function(O){var $=this._reporterState;return $.options.partial?{result:this.isError(O)?null:O,errors:$.errors}:O};function D(q,O){this.path=q,this.rethrow(O)}return B(D,Error),D.prototype.rethrow=function(O){if(this.message=O+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,D),!this.stack)try{throw new Error(this.message)}catch($){this.stack=$.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var B=requireInherits_browser(),S=requireBase().Reporter,D=require$$0$1.Buffer;function q($,j){if(S.call(this,j),!D.isBuffer($)){this.error("Input not Buffer");return}this.base=$,this.offset=0,this.length=$.length}B(q,S),buffer.DecoderBuffer=q,q.prototype.save=function(){return{offset:this.offset,reporter:S.prototype.save.call(this)}},q.prototype.restore=function(j){var G=new q(this.base);return G.offset=j.offset,G.length=this.offset,this.offset=j.offset,S.prototype.restore.call(this,j.reporter),G},q.prototype.isEmpty=function(){return this.offset===this.length},q.prototype.readUInt8=function(j){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(j||"DecoderBuffer overrun")},q.prototype.skip=function(j,G){if(!(this.offset+j<=this.length))return this.error(G||"DecoderBuffer overrun");var V=new q(this.base);return V._reporterState=this._reporterState,V.offset=this.offset,V.length=this.offset+j,this.offset+=j,V},q.prototype.raw=function(j){return this.base.slice(j?j.offset:this.offset,this.length)};function O($,j){if(Array.isArray($))this.length=0,this.value=$.map(function(G){return G instanceof O||(G=new O(G,j)),this.length+=G.length,G},this);else if(typeof $=="number"){if(!(0<=$&&$<=255))return j.error("non-byte EncoderBuffer value");this.value=$,this.length=1}else if(typeof $=="string")this.value=$,this.length=D.byteLength($);else if(D.isBuffer($))this.value=$,this.length=$.length;else return j.error("Unsupported type: "+typeof $)}return buffer.EncoderBuffer=O,O.prototype.join=function(j,G){return j||(j=new D(this.length)),G||(G=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(V){V.join(j,G),G+=V.length}):(typeof this.value=="number"?j[G]=this.value:typeof this.value=="string"?j.write(this.value,G):D.isBuffer(this.value)&&this.value.copy(j,G),G+=this.length)),j},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var B=requireBase().Reporter,S=requireBase().EncoderBuffer,D=requireBase().DecoderBuffer,q=requireMinimalisticAssert(),O=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],$=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(O),j=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function G(K,H){var Y={};this._baseState=Y,Y.enc=K,Y.parent=H||null,Y.children=null,Y.tag=null,Y.args=null,Y.reverseArgs=null,Y.choice=null,Y.optional=!1,Y.any=!1,Y.obj=!1,Y.use=null,Y.useDecoder=null,Y.key=null,Y.default=null,Y.explicit=null,Y.implicit=null,Y.contains=null,Y.parent||(Y.children=[],this._wrap())}node=G;var V=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return G.prototype.clone=function(){var H=this._baseState,Y={};V.forEach(function(Q){Y[Q]=H[Q]});var X=new this.constructor(Y.parent);return X._baseState=Y,X},G.prototype._wrap=function(){var H=this._baseState;$.forEach(function(Y){this[Y]=function(){var Q=new this.constructor(this);return H.children.push(Q),Q[Y].apply(Q,arguments)}},this)},G.prototype._init=function(H){var Y=this._baseState;q(Y.parent===null),H.call(this),Y.children=Y.children.filter(function(X){return X._baseState.parent===this},this),q.equal(Y.children.length,1,"Root node can have only one child")},G.prototype._useArgs=function(H){var Y=this._baseState,X=H.filter(function(Q){return Q instanceof this.constructor},this);H=H.filter(function(Q){return!(Q instanceof this.constructor)},this),X.length!==0&&(q(Y.children===null),Y.children=X,X.forEach(function(Q){Q._baseState.parent=this},this)),H.length!==0&&(q(Y.args===null),Y.args=H,Y.reverseArgs=H.map(function(Q){if(typeof Q!="object"||Q.constructor!==Object)return Q;var ee={};return Object.keys(Q).forEach(function(re){re==(re|0)&&(re|=0);var ne=Q[re];ee[ne]=re}),ee}))},j.forEach(function(K){G.prototype[K]=function(){var Y=this._baseState;throw new Error(K+" not implemented for encoding: "+Y.enc)}}),O.forEach(function(K){G.prototype[K]=function(){var Y=this._baseState,X=Array.prototype.slice.call(arguments);return q(Y.tag===null),Y.tag=K,this._useArgs(X),this}}),G.prototype.use=function(H){q(H);var Y=this._baseState;return q(Y.use===null),Y.use=H,this},G.prototype.optional=function(){var H=this._baseState;return H.optional=!0,this},G.prototype.def=function(H){var Y=this._baseState;return q(Y.default===null),Y.default=H,Y.optional=!0,this},G.prototype.explicit=function(H){var Y=this._baseState;return q(Y.explicit===null&&Y.implicit===null),Y.explicit=H,this},G.prototype.implicit=function(H){var Y=this._baseState;return q(Y.explicit===null&&Y.implicit===null),Y.implicit=H,this},G.prototype.obj=function(){var H=this._baseState,Y=Array.prototype.slice.call(arguments);return H.obj=!0,Y.length!==0&&this._useArgs(Y),this},G.prototype.key=function(H){var Y=this._baseState;return q(Y.key===null),Y.key=H,this},G.prototype.any=function(){var H=this._baseState;return H.any=!0,this},G.prototype.choice=function(H){var Y=this._baseState;return q(Y.choice===null),Y.choice=H,this._useArgs(Object.keys(H).map(function(X){return H[X]})),this},G.prototype.contains=function(H){var Y=this._baseState;return q(Y.use===null),Y.contains=H,this},G.prototype._decode=function(H,Y){var X=this._baseState;if(X.parent===null)return H.wrapResult(X.children[0]._decode(H,Y));var Q=X.default,ee=!0,re=null;if(X.key!==null&&(re=H.enterKey(X.key)),X.optional){var ne=null;if(X.explicit!==null?ne=X.explicit:X.implicit!==null?ne=X.implicit:X.tag!==null&&(ne=X.tag),ne===null&&!X.any){var se=H.save();try{X.choice===null?this._decodeGeneric(X.tag,H,Y):this._decodeChoice(H,Y),ee=!0}catch{ee=!1}H.restore(se)}else if(ee=this._peekTag(H,ne,X.any),H.isError(ee))return ee}var ae;if(X.obj&&ee&&(ae=H.enterObject()),ee){if(X.explicit!==null){var fe=this._decodeTag(H,X.explicit);if(H.isError(fe))return fe;H=fe}var ue=H.offset;if(X.use===null&&X.choice===null){if(X.any)var se=H.save();var _e=this._decodeTag(H,X.implicit!==null?X.implicit:X.tag,X.any);if(H.isError(_e))return _e;X.any?Q=H.raw(se):H=_e}if(Y&&Y.track&&X.tag!==null&&Y.track(H.path(),ue,H.length,"tagged"),Y&&Y.track&&X.tag!==null&&Y.track(H.path(),H.offset,H.length,"content"),X.any?Q=Q:X.choice===null?Q=this._decodeGeneric(X.tag,H,Y):Q=this._decodeChoice(H,Y),H.isError(Q))return Q;if(!X.any&&X.choice===null&&X.children!==null&&X.children.forEach(function(Te){Te._decode(H,Y)}),X.contains&&(X.tag==="octstr"||X.tag==="bitstr")){var ge=new D(Q);Q=this._getUse(X.contains,H._reporterState.obj)._decode(ge,Y)}}return X.obj&&ee&&(Q=H.leaveObject(ae)),X.key!==null&&(Q!==null||ee===!0)?H.leaveKey(re,X.key,Q):re!==null&&H.exitKey(re),Q},G.prototype._decodeGeneric=function(H,Y,X){var Q=this._baseState;return H==="seq"||H==="set"?null:H==="seqof"||H==="setof"?this._decodeList(Y,H,Q.args[0],X):/str$/.test(H)?this._decodeStr(Y,H,X):H==="objid"&&Q.args?this._decodeObjid(Y,Q.args[0],Q.args[1],X):H==="objid"?this._decodeObjid(Y,null,null,X):H==="gentime"||H==="utctime"?this._decodeTime(Y,H,X):H==="null_"?this._decodeNull(Y,X):H==="bool"?this._decodeBool(Y,X):H==="objDesc"?this._decodeStr(Y,H,X):H==="int"||H==="enum"?this._decodeInt(Y,Q.args&&Q.args[0],X):Q.use!==null?this._getUse(Q.use,Y._reporterState.obj)._decode(Y,X):Y.error("unknown tag: "+H)},G.prototype._getUse=function(H,Y){var X=this._baseState;return X.useDecoder=this._use(H,Y),q(X.useDecoder._baseState.parent===null),X.useDecoder=X.useDecoder._baseState.children[0],X.implicit!==X.useDecoder._baseState.implicit&&(X.useDecoder=X.useDecoder.clone(),X.useDecoder._baseState.implicit=X.implicit),X.useDecoder},G.prototype._decodeChoice=function(H,Y){var X=this._baseState,Q=null,ee=!1;return Object.keys(X.choice).some(function(re){var ne=H.save(),se=X.choice[re];try{var ae=se._decode(H,Y);if(H.isError(ae))return!1;Q={type:re,value:ae},ee=!0}catch{return H.restore(ne),!1}return!0},this),ee?Q:H.error("Choice not matched")},G.prototype._createEncoderBuffer=function(H){return new S(H,this.reporter)},G.prototype._encode=function(H,Y,X){var Q=this._baseState;if(!(Q.default!==null&&Q.default===H)){var ee=this._encodeValue(H,Y,X);if(ee!==void 0&&!this._skipDefault(ee,Y,X))return ee}},G.prototype._encodeValue=function(H,Y,X){var Q=this._baseState;if(Q.parent===null)return Q.children[0]._encode(H,Y||new B);var se=null;if(this.reporter=Y,Q.optional&&H===void 0)if(Q.default!==null)H=Q.default;else return;var ee=null,re=!1;if(Q.any)se=this._createEncoderBuffer(H);else if(Q.choice)se=this._encodeChoice(H,Y);else if(Q.contains)ee=this._getUse(Q.contains,X)._encode(H,Y),re=!0;else if(Q.children)ee=Q.children.map(function(ue){if(ue._baseState.tag==="null_")return ue._encode(null,Y,H);if(ue._baseState.key===null)return Y.error("Child should have a key");var _e=Y.enterKey(ue._baseState.key);if(typeof H!="object")return Y.error("Child expected, but input is not object");var ge=ue._encode(H[ue._baseState.key],Y,H);return Y.leaveKey(_e),ge},this).filter(function(ue){return ue}),ee=this._createEncoderBuffer(ee);else if(Q.tag==="seqof"||Q.tag==="setof"){if(!(Q.args&&Q.args.length===1))return Y.error("Too many args for : "+Q.tag);if(!Array.isArray(H))return Y.error("seqof/setof, but data is not Array");var ne=this.clone();ne._baseState.implicit=null,ee=this._createEncoderBuffer(H.map(function(ue){var _e=this._baseState;return this._getUse(_e.args[0],H)._encode(ue,Y)},ne))}else Q.use!==null?se=this._getUse(Q.use,X)._encode(H,Y):(ee=this._encodePrimitive(Q.tag,H),re=!0);var se;if(!Q.any&&Q.choice===null){var ae=Q.implicit!==null?Q.implicit:Q.tag,fe=Q.implicit===null?"universal":"context";ae===null?Q.use===null&&Y.error("Tag could be omitted only for .use()"):Q.use===null&&(se=this._encodeComposite(ae,re,fe,ee))}return Q.explicit!==null&&(se=this._encodeComposite(Q.explicit,!1,"context",se)),se},G.prototype._encodeChoice=function(H,Y){var X=this._baseState,Q=X.choice[H.type];return Q||q(!1,H.type+" not found in "+JSON.stringify(Object.keys(X.choice))),Q._encode(H.value,Y)},G.prototype._encodePrimitive=function(H,Y){var X=this._baseState;if(/str$/.test(H))return this._encodeStr(Y,H);if(H==="objid"&&X.args)return this._encodeObjid(Y,X.reverseArgs[0],X.args[1]);if(H==="objid")return this._encodeObjid(Y,null,null);if(H==="gentime"||H==="utctime")return this._encodeTime(Y,H);if(H==="null_")return this._encodeNull();if(H==="int"||H==="enum")return this._encodeInt(Y,X.args&&X.reverseArgs[0]);if(H==="bool")return this._encodeBool(Y);if(H==="objDesc")return this._encodeStr(Y,H);throw new Error("Unsupported tag: "+H)},G.prototype._isNumstr=function(H){return/^[0-9 ]*$/.test(H)},G.prototype._isPrintstr=function(H){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(H)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(B){var S=B;S.Reporter=requireReporter().Reporter,S.DecoderBuffer=requireBuffer().DecoderBuffer,S.EncoderBuffer=requireBuffer().EncoderBuffer,S.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(B){var S=requireConstants();B.tagClass={0:"universal",1:"application",2:"context",3:"private"},B.tagClassByName=S._reverse(B.tagClass),B.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},B.tagByName=S._reverse(B.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(B){var S=B;S._reverse=function(q){var O={};return Object.keys(q).forEach(function($){($|0)==$&&($=$|0);var j=q[$];O[j]=$}),O},S.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var B=requireInherits_browser(),S=requireAsn1$1(),D=S.base,q=S.bignum,O=S.constants.der;function $(K){this.enc="der",this.name=K.name,this.entity=K,this.tree=new j,this.tree._init(K.body)}der_1$1=$,$.prototype.decode=function(H,Y){return H instanceof D.DecoderBuffer||(H=new D.DecoderBuffer(H,Y)),this.tree._decode(H,Y)};function j(K){D.Node.call(this,"der",K)}B(j,D.Node),j.prototype._peekTag=function(H,Y,X){if(H.isEmpty())return!1;var Q=H.save(),ee=G(H,'Failed to peek tag: "'+Y+'"');return H.isError(ee)?ee:(H.restore(Q),ee.tag===Y||ee.tagStr===Y||ee.tagStr+"of"===Y||X)},j.prototype._decodeTag=function(H,Y,X){var Q=G(H,'Failed to decode tag of "'+Y+'"');if(H.isError(Q))return Q;var ee=V(H,Q.primitive,'Failed to get length of "'+Y+'"');if(H.isError(ee))return ee;if(!X&&Q.tag!==Y&&Q.tagStr!==Y&&Q.tagStr+"of"!==Y)return H.error('Failed to match tag: "'+Y+'"');if(Q.primitive||ee!==null)return H.skip(ee,'Failed to match body of: "'+Y+'"');var re=H.save(),ne=this._skipUntilEnd(H,'Failed to skip indefinite length body: "'+this.tag+'"');return H.isError(ne)?ne:(ee=H.offset-re.offset,H.restore(re),H.skip(ee,'Failed to match body of: "'+Y+'"'))},j.prototype._skipUntilEnd=function(H,Y){for(;;){var X=G(H,Y);if(H.isError(X))return X;var Q=V(H,X.primitive,Y);if(H.isError(Q))return Q;var ee;if(X.primitive||Q!==null?ee=H.skip(Q):ee=this._skipUntilEnd(H,Y),H.isError(ee))return ee;if(X.tagStr==="end")break}},j.prototype._decodeList=function(H,Y,X,Q){for(var ee=[];!H.isEmpty();){var re=this._peekTag(H,"end");if(H.isError(re))return re;var ne=X.decode(H,"der",Q);if(H.isError(ne)&&re)break;ee.push(ne)}return ee},j.prototype._decodeStr=function(H,Y){if(Y==="bitstr"){var X=H.readUInt8();return H.isError(X)?X:{unused:X,data:H.raw()}}else if(Y==="bmpstr"){var Q=H.raw();if(Q.length%2===1)return H.error("Decoding of string type: bmpstr length mismatch");for(var ee="",re=0;re<Q.length/2;re++)ee+=String.fromCharCode(Q.readUInt16BE(re*2));return ee}else if(Y==="numstr"){var ne=H.raw().toString("ascii");return this._isNumstr(ne)?ne:H.error("Decoding of string type: numstr unsupported characters")}else{if(Y==="octstr")return H.raw();if(Y==="objDesc")return H.raw();if(Y==="printstr"){var se=H.raw().toString("ascii");return this._isPrintstr(se)?se:H.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(Y)?H.raw().toString():H.error("Decoding of string type: "+Y+" unsupported")}},j.prototype._decodeObjid=function(H,Y,X){for(var Q,ee=[],re=0;!H.isEmpty();){var ne=H.readUInt8();re<<=7,re|=ne&127,ne&128||(ee.push(re),re=0)}ne&128&&ee.push(re);var se=ee[0]/40|0,ae=ee[0]%40;if(X?Q=ee:Q=[se,ae].concat(ee.slice(1)),Y){var fe=Y[Q.join(" ")];fe===void 0&&(fe=Y[Q.join(".")]),fe!==void 0&&(Q=fe)}return Q},j.prototype._decodeTime=function(H,Y){var X=H.raw().toString();if(Y==="gentime")var Q=X.slice(0,4)|0,ee=X.slice(4,6)|0,re=X.slice(6,8)|0,ne=X.slice(8,10)|0,se=X.slice(10,12)|0,ae=X.slice(12,14)|0;else if(Y==="utctime"){var Q=X.slice(0,2)|0,ee=X.slice(2,4)|0,re=X.slice(4,6)|0,ne=X.slice(6,8)|0,se=X.slice(8,10)|0,ae=X.slice(10,12)|0;Q<70?Q=2e3+Q:Q=1900+Q}else return H.error("Decoding "+Y+" time is not supported yet");return Date.UTC(Q,ee-1,re,ne,se,ae,0)},j.prototype._decodeNull=function(H){return null},j.prototype._decodeBool=function(H){var Y=H.readUInt8();return H.isError(Y)?Y:Y!==0},j.prototype._decodeInt=function(H,Y){var X=H.raw(),Q=new q(X);return Y&&(Q=Y[Q.toString(10)]||Q),Q},j.prototype._use=function(H,Y){return typeof H=="function"&&(H=H(Y)),H._getDecoder("der").tree};function G(K,H){var Y=K.readUInt8(H);if(K.isError(Y))return Y;var X=O.tagClass[Y>>6],Q=(Y&32)===0;if((Y&31)===31){var ee=Y;for(Y=0;(ee&128)===128;){if(ee=K.readUInt8(H),K.isError(ee))return ee;Y<<=7,Y|=ee&127}}else Y&=31;var re=O.tag[Y];return{cls:X,primitive:Q,tag:Y,tagStr:re}}function V(K,H,Y){var X=K.readUInt8(Y);if(K.isError(X))return X;if(!H&&X===128)return null;if(!(X&128))return X;var Q=X&127;if(Q>4)return K.error("length octect is too long");X=0;for(var ee=0;ee<Q;ee++){X<<=8;var re=K.readUInt8(Y);if(K.isError(re))return re;X|=re}return X}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var B=requireInherits_browser(),S=require$$0$1.Buffer,D=requireDer$1();function q(O){D.call(this,O),this.enc="pem"}return B(q,D),pem$1=q,q.prototype.decode=function($,j){for(var G=$.toString().split(/[\r\n]+/g),V=j.label.toUpperCase(),K=/^-----(BEGIN|END) ([^-]+)-----$/,H=-1,Y=-1,X=0;X<G.length;X++){var Q=G[X].match(K);if(Q!==null&&Q[2]===V)if(H===-1){if(Q[1]!=="BEGIN")break;H=X}else{if(Q[1]!=="END")break;Y=X;break}}if(H===-1||Y===-1)throw new Error("PEM section not found for: "+V);var ee=G.slice(H+1,Y).join("");ee.replace(/[^a-z0-9\+\/=]+/gi,"");var re=new S(ee,"base64");return D.prototype.decode.call(this,re,j)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(B){var S=B;S.der=requireDer$1(),S.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var B=requireInherits_browser(),S=require$$0$1.Buffer,D=requireAsn1$1(),q=D.base,O=D.constants.der;function $(K){this.enc="der",this.name=K.name,this.entity=K,this.tree=new j,this.tree._init(K.body)}der_1=$,$.prototype.encode=function(H,Y){return this.tree._encode(H,Y).join()};function j(K){q.Node.call(this,"der",K)}B(j,q.Node),j.prototype._encodeComposite=function(H,Y,X,Q){var ee=V(H,Y,X,this.reporter);if(Q.length<128){var se=new S(2);return se[0]=ee,se[1]=Q.length,this._createEncoderBuffer([se,Q])}for(var re=1,ne=Q.length;ne>=256;ne>>=8)re++;var se=new S(2+re);se[0]=ee,se[1]=128|re;for(var ne=1+re,ae=Q.length;ae>0;ne--,ae>>=8)se[ne]=ae&255;return this._createEncoderBuffer([se,Q])},j.prototype._encodeStr=function(H,Y){if(Y==="bitstr")return this._createEncoderBuffer([H.unused|0,H.data]);if(Y==="bmpstr"){for(var X=new S(H.length*2),Q=0;Q<H.length;Q++)X.writeUInt16BE(H.charCodeAt(Q),Q*2);return this._createEncoderBuffer(X)}else return Y==="numstr"?this._isNumstr(H)?this._createEncoderBuffer(H):this.reporter.error("Encoding of string type: numstr supports only digits and space"):Y==="printstr"?this._isPrintstr(H)?this._createEncoderBuffer(H):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(Y)?this._createEncoderBuffer(H):Y==="objDesc"?this._createEncoderBuffer(H):this.reporter.error("Encoding of string type: "+Y+" unsupported")},j.prototype._encodeObjid=function(H,Y,X){if(typeof H=="string"){if(!Y)return this.reporter.error("string objid given, but no values map found");if(!Y.hasOwnProperty(H))return this.reporter.error("objid not found in values map");H=Y[H].split(/[\s\.]+/g);for(var Q=0;Q<H.length;Q++)H[Q]|=0}else if(Array.isArray(H)){H=H.slice();for(var Q=0;Q<H.length;Q++)H[Q]|=0}if(!Array.isArray(H))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(H));if(!X){if(H[1]>=40)return this.reporter.error("Second objid identifier OOB");H.splice(0,2,H[0]*40+H[1])}for(var ee=0,Q=0;Q<H.length;Q++){var re=H[Q];for(ee++;re>=128;re>>=7)ee++}for(var ne=new S(ee),se=ne.length-1,Q=H.length-1;Q>=0;Q--){var re=H[Q];for(ne[se--]=re&127;(re>>=7)>0;)ne[se--]=128|re&127}return this._createEncoderBuffer(ne)};function G(K){return K<10?"0"+K:K}j.prototype._encodeTime=function(H,Y){var X,Q=new Date(H);return Y==="gentime"?X=[G(Q.getFullYear()),G(Q.getUTCMonth()+1),G(Q.getUTCDate()),G(Q.getUTCHours()),G(Q.getUTCMinutes()),G(Q.getUTCSeconds()),"Z"].join(""):Y==="utctime"?X=[G(Q.getFullYear()%100),G(Q.getUTCMonth()+1),G(Q.getUTCDate()),G(Q.getUTCHours()),G(Q.getUTCMinutes()),G(Q.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+Y+" time is not supported yet"),this._encodeStr(X,"octstr")},j.prototype._encodeNull=function(){return this._createEncoderBuffer("")},j.prototype._encodeInt=function(H,Y){if(typeof H=="string"){if(!Y)return this.reporter.error("String int or enum given, but no values map");if(!Y.hasOwnProperty(H))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(H));H=Y[H]}if(typeof H!="number"&&!S.isBuffer(H)){var X=H.toArray();!H.sign&&X[0]&128&&X.unshift(0),H=new S(X)}if(S.isBuffer(H)){var Q=H.length;H.length===0&&Q++;var re=new S(Q);return H.copy(re),H.length===0&&(re[0]=0),this._createEncoderBuffer(re)}if(H<128)return this._createEncoderBuffer(H);if(H<256)return this._createEncoderBuffer([0,H]);for(var Q=1,ee=H;ee>=256;ee>>=8)Q++;for(var re=new Array(Q),ee=re.length-1;ee>=0;ee--)re[ee]=H&255,H>>=8;return re[0]&128&&re.unshift(0),this._createEncoderBuffer(new S(re))},j.prototype._encodeBool=function(H){return this._createEncoderBuffer(H?255:0)},j.prototype._use=function(H,Y){return typeof H=="function"&&(H=H(Y)),H._getEncoder("der").tree},j.prototype._skipDefault=function(H,Y,X){var Q=this._baseState,ee;if(Q.default===null)return!1;var re=H.join();if(Q.defaultBuffer===void 0&&(Q.defaultBuffer=this._encodeValue(Q.default,Y,X).join()),re.length!==Q.defaultBuffer.length)return!1;for(ee=0;ee<re.length;ee++)if(re[ee]!==Q.defaultBuffer[ee])return!1;return!0};function V(K,H,Y,X){var Q;if(K==="seqof"?K="seq":K==="setof"&&(K="set"),O.tagByName.hasOwnProperty(K))Q=O.tagByName[K];else if(typeof K=="number"&&(K|0)===K)Q=K;else return X.error("Unknown tag: "+K);return Q>=31?X.error("Multi-octet tag encoding unsupported"):(H||(Q|=32),Q|=O.tagClassByName[Y||"universal"]<<6,Q)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var B=requireInherits_browser(),S=requireDer();function D(q){S.call(this,q),this.enc="pem"}return B(D,S),pem=D,D.prototype.encode=function(O,$){for(var j=S.prototype.encode.call(this,O),G=j.toString("base64"),V=["-----BEGIN "+$.label+"-----"],K=0;K<G.length;K+=64)V.push(G.slice(K,K+64));return V.push("-----END "+$.label+"-----"),V.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(B){var S=B;S.der=requireDer(),S.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(B){var S=B;S.bignum=requireBn$2(),S.define=requireApi().define,S.base=requireBase(),S.constants=requireConstants(),S.decoders=requireDecoders(),S.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var B=requireAsn1$1(),S=B.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),D=B.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),q=B.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),O=B.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(q),this.key("subjectPublicKey").bitstr())}),$=B.define("RelativeDistinguishedName",function(){this.setof(D)}),j=B.define("RDNSequence",function(){this.seqof($)}),G=B.define("Name",function(){this.choice({rdnSequence:this.use(j)})}),V=B.define("Validity",function(){this.seq().obj(this.key("notBefore").use(S),this.key("notAfter").use(S))}),K=B.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),H=B.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(q),this.key("issuer").use(G),this.key("validity").use(V),this.key("subject").use(G),this.key("subjectPublicKeyInfo").use(O),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(K).optional())}),Y=B.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(H),this.key("signatureAlgorithm").use(q),this.key("signatureValue").bitstr())});return certificate=Y,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var B=requireAsn1$1();asn1$1.certificate=requireCertificate();var S=B.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=S;var D=B.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=D;var q=B.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),O=B.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(q),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=O;var $=B.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(q),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=$;var j=B.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=j;var G=B.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=G,asn1$1.DSAparam=B.define("DSAparam",function(){this.int()});var V=B.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),K=B.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(V),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=K,asn1$1.signature=B.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(B,S){var D=require$$0$1,q=D.Buffer;function O(j,G){for(var V in j)G[V]=j[V]}q.from&&q.alloc&&q.allocUnsafe&&q.allocUnsafeSlow?B.exports=D:(O(D,S),S.Buffer=$);function $(j,G,V){return q(j,G,V)}$.prototype=Object.create(q.prototype),O(q,$),$.from=function(j,G,V){if(typeof j=="number")throw new TypeError("Argument must not be a number");return q(j,G,V)},$.alloc=function(j,G,V){if(typeof j!="number")throw new TypeError("Argument must be a number");var K=q(j);return G!==void 0?typeof V=="string"?K.fill(G,V):K.fill(G):K.fill(0),K},$.allocUnsafe=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return q(j)},$.allocUnsafeSlow=function(j){if(typeof j!="number")throw new TypeError("Argument must be a number");return D.SlowBuffer(j)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var B=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,S=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,D=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,q=requireEvp_bytestokey(),O=requireBrowser$6(),$=requireSafeBuffer().Buffer;return fixProc=function(j,G){var V=j.toString(),K=V.match(B),H;if(K){var X="aes"+K[1],Q=$.from(K[2],"hex"),ee=$.from(K[3].replace(/[\r\n]/g,""),"base64"),re=q(G,Q.slice(0,8),parseInt(K[1],10)).key,ne=[],se=O.createDecipheriv(X,re,Q);ne.push(se.update(ee)),ne.push(se.final()),H=$.concat(ne)}else{var Y=V.match(D);H=$.from(Y[2].replace(/[\r\n]/g,""),"base64")}var ae=V.match(S)[1];return{tag:ae,data:H}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var B=requireAsn1(),S=require$$1,D=requireFixProc(),q=requireBrowser$6(),O=requireBrowser$7(),$=requireSafeBuffer().Buffer;function j(V,K){var H=V.algorithm.decrypt.kde.kdeparams.salt,Y=parseInt(V.algorithm.decrypt.kde.kdeparams.iters.toString(),10),X=S[V.algorithm.decrypt.cipher.algo.join(".")],Q=V.algorithm.decrypt.cipher.iv,ee=V.subjectPrivateKey,re=parseInt(X.split("-")[1],10)/8,ne=O.pbkdf2Sync(K,H,Y,re,"sha1"),se=q.createDecipheriv(X,ne,Q),ae=[];return ae.push(se.update(ee)),ae.push(se.final()),$.concat(ae)}function G(V){var K;typeof V=="object"&&!$.isBuffer(V)&&(K=V.passphrase,V=V.key),typeof V=="string"&&(V=$.from(V));var H=D(V,K),Y=H.tag,X=H.data,Q,ee;switch(Y){case"CERTIFICATE":ee=B.certificate.decode(X,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(ee||(ee=B.PublicKey.decode(X,"der")),Q=ee.algorithm.algorithm.join("."),Q){case"1.2.840.113549.1.1.1":return B.RSAPublicKey.decode(ee.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return ee.subjectPrivateKey=ee.subjectPublicKey,{type:"ec",data:ee};case"1.2.840.10040.4.1":return ee.algorithm.params.pub_key=B.DSAparam.decode(ee.subjectPublicKey.data,"der"),{type:"dsa",data:ee.algorithm.params};default:throw new Error("unknown key id "+Q)}case"ENCRYPTED PRIVATE KEY":X=B.EncryptedPrivateKey.decode(X,"der"),X=j(X,K);case"PRIVATE KEY":switch(ee=B.PrivateKey.decode(X,"der"),Q=ee.algorithm.algorithm.join("."),Q){case"1.2.840.113549.1.1.1":return B.RSAPrivateKey.decode(ee.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ee.algorithm.curve,privateKey:B.ECPrivateKey.decode(ee.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return ee.algorithm.params.priv_key=B.DSAparam.decode(ee.subjectPrivateKey,"der"),{type:"dsa",params:ee.algorithm.params};default:throw new Error("unknown key id "+Q)}case"RSA PUBLIC KEY":return B.RSAPublicKey.decode(X,"der");case"RSA PRIVATE KEY":return B.RSAPrivateKey.decode(X,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:B.DSAPrivateKey.decode(X,"der")};case"EC PRIVATE KEY":return X=B.ECPrivateKey.decode(X,"der"),{curve:X.parameters.value,privateKey:X.privateKey};default:throw new Error("unknown key type "+Y)}}return G.signature=B.signature,parseAsn1=G,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var B=requireSafeBuffer$3().Buffer,S=requireBrowser$8(),D=requireBrowserifyRsa(),q=requireElliptic().ec,O=requireBn$4(),$=requireParseAsn1(),j=require$$4,G=1;function V(se,ae,fe,ue,_e){var ge=$(ae);if(ge.curve){if(ue!=="ecdsa"&&ue!=="ecdsa/rsa")throw new Error("wrong private key type");return K(se,ge)}else if(ge.type==="dsa"){if(ue!=="dsa")throw new Error("wrong private key type");return H(se,ge,fe)}if(ue!=="rsa"&&ue!=="ecdsa/rsa")throw new Error("wrong private key type");if(ae.padding!==void 0&&ae.padding!==G)throw new Error("illegal or unsupported padding mode");se=B.concat([_e,se]);for(var Ae=ge.modulus.byteLength(),Te=[0,1];se.length+Te.length+1<Ae;)Te.push(255);Te.push(0);for(var be=-1;++be<se.length;)Te.push(se[be]);var Pe=D(Te,ge);return Pe}function K(se,ae){var fe=j[ae.curve.join(".")];if(!fe)throw new Error("unknown curve "+ae.curve.join("."));var ue=new q(fe),_e=ue.keyFromPrivate(ae.privateKey),ge=_e.sign(se);return B.from(ge.toDER())}function H(se,ae,fe){for(var ue=ae.params.priv_key,_e=ae.params.p,ge=ae.params.q,Ae=ae.params.g,Te=new O(0),be,Pe=Q(se,ge).mod(ge),J=!1,u=X(ue,ge,se,fe);J===!1;)be=re(ge,u,fe),Te=ne(Ae,be,_e,ge),J=be.invm(ge).imul(Pe.add(ue.mul(Te))).mod(ge),J.cmpn(0)===0&&(J=!1,Te=new O(0));return Y(Te,J)}function Y(se,ae){se=se.toArray(),ae=ae.toArray(),se[0]&128&&(se=[0].concat(se)),ae[0]&128&&(ae=[0].concat(ae));var fe=se.length+ae.length+4,ue=[48,fe,2,se.length];return ue=ue.concat(se,[2,ae.length],ae),B.from(ue)}function X(se,ae,fe,ue){if(se=B.from(se.toArray()),se.length<ae.byteLength()){var _e=B.alloc(ae.byteLength()-se.length);se=B.concat([_e,se])}var ge=fe.length,Ae=ee(fe,ae),Te=B.alloc(ge);Te.fill(1);var be=B.alloc(ge);return be=S(ue,be).update(Te).update(B.from([0])).update(se).update(Ae).digest(),Te=S(ue,be).update(Te).digest(),be=S(ue,be).update(Te).update(B.from([1])).update(se).update(Ae).digest(),Te=S(ue,be).update(Te).digest(),{k:be,v:Te}}function Q(se,ae){var fe=new O(se),ue=(se.length<<3)-ae.bitLength();return ue>0&&fe.ishrn(ue),fe}function ee(se,ae){se=Q(se,ae),se=se.mod(ae);var fe=B.from(se.toArray());if(fe.length<ae.byteLength()){var ue=B.alloc(ae.byteLength()-fe.length);fe=B.concat([ue,fe])}return fe}function re(se,ae,fe){var ue,_e;do{for(ue=B.alloc(0);ue.length*8<se.bitLength();)ae.v=S(fe,ae.k).update(ae.v).digest(),ue=B.concat([ue,ae.v]);_e=Q(ue,se),ae.k=S(fe,ae.k).update(ae.v).update(B.from([0])).digest(),ae.v=S(fe,ae.k).update(ae.v).digest()}while(_e.cmp(se)!==-1);return _e}function ne(se,ae,fe,ue){return se.toRed(O.mont(fe)).redPow(ae).fromRed().mod(ue)}return sign.exports=V,sign.exports.getKey=X,sign.exports.makeKey=re,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var B=requireSafeBuffer$3().Buffer,S=requireBn$4(),D=requireElliptic().ec,q=requireParseAsn1(),O=require$$4;function $(K,H,Y,X,Q){var ee=q(Y);if(ee.type==="ec"){if(X!=="ecdsa"&&X!=="ecdsa/rsa")throw new Error("wrong public key type");return j(K,H,ee)}else if(ee.type==="dsa"){if(X!=="dsa")throw new Error("wrong public key type");return G(K,H,ee)}if(X!=="rsa"&&X!=="ecdsa/rsa")throw new Error("wrong public key type");H=B.concat([Q,H]);for(var re=ee.modulus.byteLength(),ne=[1],se=0;H.length+ne.length+2<re;)ne.push(255),se+=1;ne.push(0);for(var ae=-1;++ae<H.length;)ne.push(H[ae]);ne=B.from(ne);var fe=S.mont(ee.modulus);K=new S(K).toRed(fe),K=K.redPow(new S(ee.publicExponent)),K=B.from(K.fromRed().toArray());var ue=se<8?1:0;for(re=Math.min(K.length,ne.length),K.length!==ne.length&&(ue=1),ae=-1;++ae<re;)ue|=K[ae]^ne[ae];return ue===0}function j(K,H,Y){var X=O[Y.data.algorithm.curve.join(".")];if(!X)throw new Error("unknown curve "+Y.data.algorithm.curve.join("."));var Q=new D(X),ee=Y.data.subjectPrivateKey.data;return Q.verify(H,K,ee)}function G(K,H,Y){var X=Y.data.p,Q=Y.data.q,ee=Y.data.g,re=Y.data.pub_key,ne=q.signature.decode(K,"der"),se=ne.s,ae=ne.r;V(se,Q),V(ae,Q);var fe=S.mont(X),ue=se.invm(Q),_e=ee.toRed(fe).redPow(new S(H).mul(ue).mod(Q)).fromRed().mul(re.toRed(fe).redPow(ae.mul(ue).mod(Q)).fromRed()).mod(X).mod(Q);return _e.cmp(ae)===0}function V(K,H){if(K.cmpn(0)<=0)throw new Error("invalid sig");if(K.cmp(H)>=0)throw new Error("invalid sig")}return verify_1=$,verify_1}var browser$3,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var B=requireSafeBuffer$3().Buffer,S=requireBrowser$9(),D=requireReadableBrowser(),q=requireInherits_browser(),O=requireSign(),$=requireVerify(),j=require$$6;Object.keys(j).forEach(function(Y){j[Y].id=B.from(j[Y].id,"hex"),j[Y.toLowerCase()]=j[Y]});function G(Y){D.Writable.call(this);var X=j[Y];if(!X)throw new Error("Unknown message digest");this._hashType=X.hash,this._hash=S(X.hash),this._tag=X.id,this._signType=X.sign}q(G,D.Writable),G.prototype._write=function(X,Q,ee){this._hash.update(X),ee()},G.prototype.update=function(X,Q){return this._hash.update(typeof X=="string"?B.from(X,Q):X),this},G.prototype.sign=function(X,Q){this.end();var ee=this._hash.digest(),re=O(ee,X,this._hashType,this._signType,this._tag);return Q?re.toString(Q):re};function V(Y){D.Writable.call(this);var X=j[Y];if(!X)throw new Error("Unknown message digest");this._hash=S(X.hash),this._tag=X.id,this._signType=X.sign}q(V,D.Writable),V.prototype._write=function(X,Q,ee){this._hash.update(X),ee()},V.prototype.update=function(X,Q){return this._hash.update(typeof X=="string"?B.from(X,Q):X),this},V.prototype.verify=function(X,Q,ee){var re=typeof Q=="string"?B.from(Q,ee):Q;this.end();var ne=this._hash.digest();return $(re,ne,X,this._signType,this._tag)};function K(Y){return new G(Y)}function H(Y){return new V(Y)}return browser$3={Sign:K,Verify:H,createSign:K,createVerify:H},browser$3}var bn$1={exports:{}};bn$1.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(B){(function(S,D){function q(J,u){if(!J)throw new Error(u||"Assertion failed")}function O(J,u){J.super_=u;var T=function(){};T.prototype=u.prototype,J.prototype=new T,J.prototype.constructor=J}function $(J,u,T){if($.isBN(J))return J;this.negative=0,this.words=null,this.length=0,this.red=null,J!==null&&((u==="le"||u==="be")&&(T=u,u=10),this._init(J||0,u||10,T||"be"))}typeof S=="object"?S.exports=$:D.BN=$,$.BN=$,$.wordSize=26;var j;try{typeof window<"u"&&typeof window.Buffer<"u"?j=window.Buffer:j=require$$0$1.Buffer}catch{}$.isBN=function(u){return u instanceof $?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===$.wordSize&&Array.isArray(u.words)},$.max=function(u,T){return u.cmp(T)>0?u:T},$.min=function(u,T){return u.cmp(T)<0?u:T},$.prototype._init=function(u,T,P){if(typeof u=="number")return this._initNumber(u,T,P);if(typeof u=="object")return this._initArray(u,T,P);T==="hex"&&(T=16),q(T===(T|0)&&T>=2&&T<=36),u=u.toString().replace(/\s+/g,"");var N=0;u[0]==="-"&&(N++,this.negative=1),N<u.length&&(T===16?this._parseHex(u,N,P):(this._parseBase(u,T,N),P==="le"&&this._initArray(this.toArray(),T,P)))},$.prototype._initNumber=function(u,T,P){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(q(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),P==="le"&&this._initArray(this.toArray(),T,P)},$.prototype._initArray=function(u,T,P){if(q(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L,W,Z=0;if(P==="be")for(N=u.length-1,L=0;N>=0;N-=3)W=u[N]|u[N-1]<<8|u[N-2]<<16,this.words[L]|=W<<Z&67108863,this.words[L+1]=W>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,L++);else if(P==="le")for(N=0,L=0;N<u.length;N+=3)W=u[N]|u[N+1]<<8|u[N+2]<<16,this.words[L]|=W<<Z&67108863,this.words[L+1]=W>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,L++);return this.strip()};function G(J,u){var T=J.charCodeAt(u);return T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:T-48&15}function V(J,u,T){var P=G(J,T);return T-1>=u&&(P|=G(J,T-1)<<4),P}$.prototype._parseHex=function(u,T,P){this.length=Math.ceil((u.length-T)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L=0,W=0,Z;if(P==="be")for(N=u.length-1;N>=T;N-=2)Z=V(u,T,N)<<L,this.words[W]|=Z&67108863,L>=18?(L-=18,W+=1,this.words[W]|=Z>>>26):L+=8;else{var U=u.length-T;for(N=U%2===0?T+1:T;N<u.length;N+=2)Z=V(u,T,N)<<L,this.words[W]|=Z&67108863,L>=18?(L-=18,W+=1,this.words[W]|=Z>>>26):L+=8}this.strip()};function K(J,u,T,P){for(var N=0,L=Math.min(J.length,T),W=u;W<L;W++){var Z=J.charCodeAt(W)-48;N*=P,Z>=49?N+=Z-49+10:Z>=17?N+=Z-17+10:N+=Z}return N}$.prototype._parseBase=function(u,T,P){this.words=[0],this.length=1;for(var N=0,L=1;L<=67108863;L*=T)N++;N--,L=L/T|0;for(var W=u.length-P,Z=W%N,U=Math.min(W,W-Z)+P,M=0,F=P;F<U;F+=N)M=K(u,F,F+N,T),this.imuln(L),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(Z!==0){var te=1;for(M=K(u,F,u.length,T),F=0;F<Z;F++)te*=T;this.imuln(te),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this.strip()},$.prototype.copy=function(u){u.words=new Array(this.length);for(var T=0;T<this.length;T++)u.words[T]=this.words[T];u.length=this.length,u.negative=this.negative,u.red=this.red},$.prototype.clone=function(){var u=new $(null);return this.copy(u),u},$.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},$.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},$.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},$.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var H=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];$.prototype.toString=function(u,T){u=u||10,T=T|0||1;var P;if(u===16||u==="hex"){P="";for(var N=0,L=0,W=0;W<this.length;W++){var Z=this.words[W],U=((Z<<N|L)&16777215).toString(16);L=Z>>>24-N&16777215,N+=2,N>=26&&(N-=26,W--),L!==0||W!==this.length-1?P=H[6-U.length]+U+P:P=U+P}for(L!==0&&(P=L.toString(16)+P);P.length%T!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}if(u===(u|0)&&u>=2&&u<=36){var M=Y[u],F=X[u];P="";var te=this.clone();for(te.negative=0;!te.isZero();){var ie=te.modn(F).toString(u);te=te.idivn(F),te.isZero()?P=ie+P:P=H[M-ie.length]+ie+P}for(this.isZero()&&(P="0"+P);P.length%T!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}q(!1,"Base should be between 2 and 36")},$.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&q(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},$.prototype.toJSON=function(){return this.toString(16)},$.prototype.toBuffer=function(u,T){return q(typeof j<"u"),this.toArrayLike(j,u,T)},$.prototype.toArray=function(u,T){return this.toArrayLike(Array,u,T)},$.prototype.toArrayLike=function(u,T,P){var N=this.byteLength(),L=P||Math.max(1,N);q(N<=L,"byte array longer than desired length"),q(L>0,"Requested array length <= 0"),this.strip();var W=T==="le",Z=new u(L),U,M,F=this.clone();if(W){for(M=0;!F.isZero();M++)U=F.andln(255),F.iushrn(8),Z[M]=U;for(;M<L;M++)Z[M]=0}else{for(M=0;M<L-N;M++)Z[M]=0;for(M=0;!F.isZero();M++)U=F.andln(255),F.iushrn(8),Z[L-M-1]=U}return Z},Math.clz32?$.prototype._countBits=function(u){return 32-Math.clz32(u)}:$.prototype._countBits=function(u){var T=u,P=0;return T>=4096&&(P+=13,T>>>=13),T>=64&&(P+=7,T>>>=7),T>=8&&(P+=4,T>>>=4),T>=2&&(P+=2,T>>>=2),P+T},$.prototype._zeroBits=function(u){if(u===0)return 26;var T=u,P=0;return T&8191||(P+=13,T>>>=13),T&127||(P+=7,T>>>=7),T&15||(P+=4,T>>>=4),T&3||(P+=2,T>>>=2),T&1||P++,P},$.prototype.bitLength=function(){var u=this.words[this.length-1],T=this._countBits(u);return(this.length-1)*26+T};function Q(J){for(var u=new Array(J.bitLength()),T=0;T<u.length;T++){var P=T/26|0,N=T%26;u[T]=(J.words[P]&1<<N)>>>N}return u}$.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,T=0;T<this.length;T++){var P=this._zeroBits(this.words[T]);if(u+=P,P!==26)break}return u},$.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},$.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},$.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},$.prototype.isNeg=function(){return this.negative!==0},$.prototype.neg=function(){return this.clone().ineg()},$.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},$.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var T=0;T<u.length;T++)this.words[T]=this.words[T]|u.words[T];return this.strip()},$.prototype.ior=function(u){return q((this.negative|u.negative)===0),this.iuor(u)},$.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},$.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},$.prototype.iuand=function(u){var T;this.length>u.length?T=u:T=this;for(var P=0;P<T.length;P++)this.words[P]=this.words[P]&u.words[P];return this.length=T.length,this.strip()},$.prototype.iand=function(u){return q((this.negative|u.negative)===0),this.iuand(u)},$.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},$.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},$.prototype.iuxor=function(u){var T,P;this.length>u.length?(T=this,P=u):(T=u,P=this);for(var N=0;N<P.length;N++)this.words[N]=T.words[N]^P.words[N];if(this!==T)for(;N<T.length;N++)this.words[N]=T.words[N];return this.length=T.length,this.strip()},$.prototype.ixor=function(u){return q((this.negative|u.negative)===0),this.iuxor(u)},$.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},$.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},$.prototype.inotn=function(u){q(typeof u=="number"&&u>=0);var T=Math.ceil(u/26)|0,P=u%26;this._expand(T),P>0&&T--;for(var N=0;N<T;N++)this.words[N]=~this.words[N]&67108863;return P>0&&(this.words[N]=~this.words[N]&67108863>>26-P),this.strip()},$.prototype.notn=function(u){return this.clone().inotn(u)},$.prototype.setn=function(u,T){q(typeof u=="number"&&u>=0);var P=u/26|0,N=u%26;return this._expand(P+1),T?this.words[P]=this.words[P]|1<<N:this.words[P]=this.words[P]&~(1<<N),this.strip()},$.prototype.iadd=function(u){var T;if(this.negative!==0&&u.negative===0)return this.negative=0,T=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,T=this.isub(u),u.negative=1,T._normSign();var P,N;this.length>u.length?(P=this,N=u):(P=u,N=this);for(var L=0,W=0;W<N.length;W++)T=(P.words[W]|0)+(N.words[W]|0)+L,this.words[W]=T&67108863,L=T>>>26;for(;L!==0&&W<P.length;W++)T=(P.words[W]|0)+L,this.words[W]=T&67108863,L=T>>>26;if(this.length=P.length,L!==0)this.words[this.length]=L,this.length++;else if(P!==this)for(;W<P.length;W++)this.words[W]=P.words[W];return this},$.prototype.add=function(u){var T;return u.negative!==0&&this.negative===0?(u.negative=0,T=this.sub(u),u.negative^=1,T):u.negative===0&&this.negative!==0?(this.negative=0,T=u.sub(this),this.negative=1,T):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},$.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var T=this.iadd(u);return u.negative=1,T._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var P=this.cmp(u);if(P===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,L;P>0?(N=this,L=u):(N=u,L=this);for(var W=0,Z=0;Z<L.length;Z++)T=(N.words[Z]|0)-(L.words[Z]|0)+W,W=T>>26,this.words[Z]=T&67108863;for(;W!==0&&Z<N.length;Z++)T=(N.words[Z]|0)+W,W=T>>26,this.words[Z]=T&67108863;if(W===0&&Z<N.length&&N!==this)for(;Z<N.length;Z++)this.words[Z]=N.words[Z];return this.length=Math.max(this.length,Z),N!==this&&(this.negative=1),this.strip()},$.prototype.sub=function(u){return this.clone().isub(u)};function ee(J,u,T){T.negative=u.negative^J.negative;var P=J.length+u.length|0;T.length=P,P=P-1|0;var N=J.words[0]|0,L=u.words[0]|0,W=N*L,Z=W&67108863,U=W/67108864|0;T.words[0]=Z;for(var M=1;M<P;M++){for(var F=U>>>26,te=U&67108863,ie=Math.min(M,u.length-1),he=Math.max(0,M-J.length+1);he<=ie;he++){var pe=M-he|0;N=J.words[pe]|0,L=u.words[he]|0,W=N*L+te,F+=W/67108864|0,te=W&67108863}T.words[M]=te|0,U=F|0}return U!==0?T.words[M]=U|0:T.length--,T.strip()}var re=function(u,T,P){var N=u.words,L=T.words,W=P.words,Z=0,U,M,F,te=N[0]|0,ie=te&8191,he=te>>>13,pe=N[1]|0,de=pe&8191,oe=pe>>>13,le=N[2]|0,ve=le&8191,Me=le>>>13,ye=N[3]|0,ce=ye&8191,Se=ye>>>13,et=N[4]|0,ke=et&8191,De=et>>>13,ot=N[5]|0,Le=ot&8191,$e=ot>>>13,lt=N[6]|0,Ne=lt&8191,We=lt>>>13,ct=N[7]|0,Ue=ct&8191,Ye=ct>>>13,mt=N[8]|0,Fe=mt&8191,Xe=mt>>>13,_t=N[9]|0,Ve=_t&8191,it=_t>>>13,vt=L[0]|0,He=vt&8191,nt=vt>>>13,yt=L[1]|0,Ke=yt&8191,st=yt>>>13,bt=L[2]|0,Ge=bt&8191,rt=bt>>>13,wt=L[3]|0,je=wt&8191,Qe=wt>>>13,gt=L[4]|0,we=gt&8191,me=gt>>>13,Ee=L[5]|0,xe=Ee&8191,Re=Ee>>>13,Je=L[6]|0,Ce=Je&8191,Ie=Je>>>13,at=L[7]|0,Be=at&8191,Oe=at>>>13,ft=L[8]|0,qe=ft&8191,Ze=ft>>>13,ht=L[9]|0,ze=ht&8191,tt=ht>>>13;P.negative=u.negative^T.negative,P.length=19,U=Math.imul(ie,He),M=Math.imul(ie,nt),M=M+Math.imul(he,He)|0,F=Math.imul(he,nt);var dt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(dt>>>26)|0,dt&=67108863,U=Math.imul(de,He),M=Math.imul(de,nt),M=M+Math.imul(oe,He)|0,F=Math.imul(oe,nt),U=U+Math.imul(ie,Ke)|0,M=M+Math.imul(ie,st)|0,M=M+Math.imul(he,Ke)|0,F=F+Math.imul(he,st)|0;var pt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(pt>>>26)|0,pt&=67108863,U=Math.imul(ve,He),M=Math.imul(ve,nt),M=M+Math.imul(Me,He)|0,F=Math.imul(Me,nt),U=U+Math.imul(de,Ke)|0,M=M+Math.imul(de,st)|0,M=M+Math.imul(oe,Ke)|0,F=F+Math.imul(oe,st)|0,U=U+Math.imul(ie,Ge)|0,M=M+Math.imul(ie,rt)|0,M=M+Math.imul(he,Ge)|0,F=F+Math.imul(he,rt)|0;var xt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(xt>>>26)|0,xt&=67108863,U=Math.imul(ce,He),M=Math.imul(ce,nt),M=M+Math.imul(Se,He)|0,F=Math.imul(Se,nt),U=U+Math.imul(ve,Ke)|0,M=M+Math.imul(ve,st)|0,M=M+Math.imul(Me,Ke)|0,F=F+Math.imul(Me,st)|0,U=U+Math.imul(de,Ge)|0,M=M+Math.imul(de,rt)|0,M=M+Math.imul(oe,Ge)|0,F=F+Math.imul(oe,rt)|0,U=U+Math.imul(ie,je)|0,M=M+Math.imul(ie,Qe)|0,M=M+Math.imul(he,je)|0,F=F+Math.imul(he,Qe)|0;var St=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(St>>>26)|0,St&=67108863,U=Math.imul(ke,He),M=Math.imul(ke,nt),M=M+Math.imul(De,He)|0,F=Math.imul(De,nt),U=U+Math.imul(ce,Ke)|0,M=M+Math.imul(ce,st)|0,M=M+Math.imul(Se,Ke)|0,F=F+Math.imul(Se,st)|0,U=U+Math.imul(ve,Ge)|0,M=M+Math.imul(ve,rt)|0,M=M+Math.imul(Me,Ge)|0,F=F+Math.imul(Me,rt)|0,U=U+Math.imul(de,je)|0,M=M+Math.imul(de,Qe)|0,M=M+Math.imul(oe,je)|0,F=F+Math.imul(oe,Qe)|0,U=U+Math.imul(ie,we)|0,M=M+Math.imul(ie,me)|0,M=M+Math.imul(he,we)|0,F=F+Math.imul(he,me)|0;var Mt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,U=Math.imul(Le,He),M=Math.imul(Le,nt),M=M+Math.imul($e,He)|0,F=Math.imul($e,nt),U=U+Math.imul(ke,Ke)|0,M=M+Math.imul(ke,st)|0,M=M+Math.imul(De,Ke)|0,F=F+Math.imul(De,st)|0,U=U+Math.imul(ce,Ge)|0,M=M+Math.imul(ce,rt)|0,M=M+Math.imul(Se,Ge)|0,F=F+Math.imul(Se,rt)|0,U=U+Math.imul(ve,je)|0,M=M+Math.imul(ve,Qe)|0,M=M+Math.imul(Me,je)|0,F=F+Math.imul(Me,Qe)|0,U=U+Math.imul(de,we)|0,M=M+Math.imul(de,me)|0,M=M+Math.imul(oe,we)|0,F=F+Math.imul(oe,me)|0,U=U+Math.imul(ie,xe)|0,M=M+Math.imul(ie,Re)|0,M=M+Math.imul(he,xe)|0,F=F+Math.imul(he,Re)|0;var Et=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Et>>>26)|0,Et&=67108863,U=Math.imul(Ne,He),M=Math.imul(Ne,nt),M=M+Math.imul(We,He)|0,F=Math.imul(We,nt),U=U+Math.imul(Le,Ke)|0,M=M+Math.imul(Le,st)|0,M=M+Math.imul($e,Ke)|0,F=F+Math.imul($e,st)|0,U=U+Math.imul(ke,Ge)|0,M=M+Math.imul(ke,rt)|0,M=M+Math.imul(De,Ge)|0,F=F+Math.imul(De,rt)|0,U=U+Math.imul(ce,je)|0,M=M+Math.imul(ce,Qe)|0,M=M+Math.imul(Se,je)|0,F=F+Math.imul(Se,Qe)|0,U=U+Math.imul(ve,we)|0,M=M+Math.imul(ve,me)|0,M=M+Math.imul(Me,we)|0,F=F+Math.imul(Me,me)|0,U=U+Math.imul(de,xe)|0,M=M+Math.imul(de,Re)|0,M=M+Math.imul(oe,xe)|0,F=F+Math.imul(oe,Re)|0,U=U+Math.imul(ie,Ce)|0,M=M+Math.imul(ie,Ie)|0,M=M+Math.imul(he,Ce)|0,F=F+Math.imul(he,Ie)|0;var At=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(At>>>26)|0,At&=67108863,U=Math.imul(Ue,He),M=Math.imul(Ue,nt),M=M+Math.imul(Ye,He)|0,F=Math.imul(Ye,nt),U=U+Math.imul(Ne,Ke)|0,M=M+Math.imul(Ne,st)|0,M=M+Math.imul(We,Ke)|0,F=F+Math.imul(We,st)|0,U=U+Math.imul(Le,Ge)|0,M=M+Math.imul(Le,rt)|0,M=M+Math.imul($e,Ge)|0,F=F+Math.imul($e,rt)|0,U=U+Math.imul(ke,je)|0,M=M+Math.imul(ke,Qe)|0,M=M+Math.imul(De,je)|0,F=F+Math.imul(De,Qe)|0,U=U+Math.imul(ce,we)|0,M=M+Math.imul(ce,me)|0,M=M+Math.imul(Se,we)|0,F=F+Math.imul(Se,me)|0,U=U+Math.imul(ve,xe)|0,M=M+Math.imul(ve,Re)|0,M=M+Math.imul(Me,xe)|0,F=F+Math.imul(Me,Re)|0,U=U+Math.imul(de,Ce)|0,M=M+Math.imul(de,Ie)|0,M=M+Math.imul(oe,Ce)|0,F=F+Math.imul(oe,Ie)|0,U=U+Math.imul(ie,Be)|0,M=M+Math.imul(ie,Oe)|0,M=M+Math.imul(he,Be)|0,F=F+Math.imul(he,Oe)|0;var Rt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,U=Math.imul(Fe,He),M=Math.imul(Fe,nt),M=M+Math.imul(Xe,He)|0,F=Math.imul(Xe,nt),U=U+Math.imul(Ue,Ke)|0,M=M+Math.imul(Ue,st)|0,M=M+Math.imul(Ye,Ke)|0,F=F+Math.imul(Ye,st)|0,U=U+Math.imul(Ne,Ge)|0,M=M+Math.imul(Ne,rt)|0,M=M+Math.imul(We,Ge)|0,F=F+Math.imul(We,rt)|0,U=U+Math.imul(Le,je)|0,M=M+Math.imul(Le,Qe)|0,M=M+Math.imul($e,je)|0,F=F+Math.imul($e,Qe)|0,U=U+Math.imul(ke,we)|0,M=M+Math.imul(ke,me)|0,M=M+Math.imul(De,we)|0,F=F+Math.imul(De,me)|0,U=U+Math.imul(ce,xe)|0,M=M+Math.imul(ce,Re)|0,M=M+Math.imul(Se,xe)|0,F=F+Math.imul(Se,Re)|0,U=U+Math.imul(ve,Ce)|0,M=M+Math.imul(ve,Ie)|0,M=M+Math.imul(Me,Ce)|0,F=F+Math.imul(Me,Ie)|0,U=U+Math.imul(de,Be)|0,M=M+Math.imul(de,Oe)|0,M=M+Math.imul(oe,Be)|0,F=F+Math.imul(oe,Oe)|0,U=U+Math.imul(ie,qe)|0,M=M+Math.imul(ie,Ze)|0,M=M+Math.imul(he,qe)|0,F=F+Math.imul(he,Ze)|0;var Tt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,U=Math.imul(Ve,He),M=Math.imul(Ve,nt),M=M+Math.imul(it,He)|0,F=Math.imul(it,nt),U=U+Math.imul(Fe,Ke)|0,M=M+Math.imul(Fe,st)|0,M=M+Math.imul(Xe,Ke)|0,F=F+Math.imul(Xe,st)|0,U=U+Math.imul(Ue,Ge)|0,M=M+Math.imul(Ue,rt)|0,M=M+Math.imul(Ye,Ge)|0,F=F+Math.imul(Ye,rt)|0,U=U+Math.imul(Ne,je)|0,M=M+Math.imul(Ne,Qe)|0,M=M+Math.imul(We,je)|0,F=F+Math.imul(We,Qe)|0,U=U+Math.imul(Le,we)|0,M=M+Math.imul(Le,me)|0,M=M+Math.imul($e,we)|0,F=F+Math.imul($e,me)|0,U=U+Math.imul(ke,xe)|0,M=M+Math.imul(ke,Re)|0,M=M+Math.imul(De,xe)|0,F=F+Math.imul(De,Re)|0,U=U+Math.imul(ce,Ce)|0,M=M+Math.imul(ce,Ie)|0,M=M+Math.imul(Se,Ce)|0,F=F+Math.imul(Se,Ie)|0,U=U+Math.imul(ve,Be)|0,M=M+Math.imul(ve,Oe)|0,M=M+Math.imul(Me,Be)|0,F=F+Math.imul(Me,Oe)|0,U=U+Math.imul(de,qe)|0,M=M+Math.imul(de,Ze)|0,M=M+Math.imul(oe,qe)|0,F=F+Math.imul(oe,Ze)|0,U=U+Math.imul(ie,ze)|0,M=M+Math.imul(ie,tt)|0,M=M+Math.imul(he,ze)|0,F=F+Math.imul(he,tt)|0;var $t=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+($t>>>26)|0,$t&=67108863,U=Math.imul(Ve,Ke),M=Math.imul(Ve,st),M=M+Math.imul(it,Ke)|0,F=Math.imul(it,st),U=U+Math.imul(Fe,Ge)|0,M=M+Math.imul(Fe,rt)|0,M=M+Math.imul(Xe,Ge)|0,F=F+Math.imul(Xe,rt)|0,U=U+Math.imul(Ue,je)|0,M=M+Math.imul(Ue,Qe)|0,M=M+Math.imul(Ye,je)|0,F=F+Math.imul(Ye,Qe)|0,U=U+Math.imul(Ne,we)|0,M=M+Math.imul(Ne,me)|0,M=M+Math.imul(We,we)|0,F=F+Math.imul(We,me)|0,U=U+Math.imul(Le,xe)|0,M=M+Math.imul(Le,Re)|0,M=M+Math.imul($e,xe)|0,F=F+Math.imul($e,Re)|0,U=U+Math.imul(ke,Ce)|0,M=M+Math.imul(ke,Ie)|0,M=M+Math.imul(De,Ce)|0,F=F+Math.imul(De,Ie)|0,U=U+Math.imul(ce,Be)|0,M=M+Math.imul(ce,Oe)|0,M=M+Math.imul(Se,Be)|0,F=F+Math.imul(Se,Oe)|0,U=U+Math.imul(ve,qe)|0,M=M+Math.imul(ve,Ze)|0,M=M+Math.imul(Me,qe)|0,F=F+Math.imul(Me,Ze)|0,U=U+Math.imul(de,ze)|0,M=M+Math.imul(de,tt)|0,M=M+Math.imul(oe,ze)|0,F=F+Math.imul(oe,tt)|0;var Ct=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,U=Math.imul(Ve,Ge),M=Math.imul(Ve,rt),M=M+Math.imul(it,Ge)|0,F=Math.imul(it,rt),U=U+Math.imul(Fe,je)|0,M=M+Math.imul(Fe,Qe)|0,M=M+Math.imul(Xe,je)|0,F=F+Math.imul(Xe,Qe)|0,U=U+Math.imul(Ue,we)|0,M=M+Math.imul(Ue,me)|0,M=M+Math.imul(Ye,we)|0,F=F+Math.imul(Ye,me)|0,U=U+Math.imul(Ne,xe)|0,M=M+Math.imul(Ne,Re)|0,M=M+Math.imul(We,xe)|0,F=F+Math.imul(We,Re)|0,U=U+Math.imul(Le,Ce)|0,M=M+Math.imul(Le,Ie)|0,M=M+Math.imul($e,Ce)|0,F=F+Math.imul($e,Ie)|0,U=U+Math.imul(ke,Be)|0,M=M+Math.imul(ke,Oe)|0,M=M+Math.imul(De,Be)|0,F=F+Math.imul(De,Oe)|0,U=U+Math.imul(ce,qe)|0,M=M+Math.imul(ce,Ze)|0,M=M+Math.imul(Se,qe)|0,F=F+Math.imul(Se,Ze)|0,U=U+Math.imul(ve,ze)|0,M=M+Math.imul(ve,tt)|0,M=M+Math.imul(Me,ze)|0,F=F+Math.imul(Me,tt)|0;var It=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(It>>>26)|0,It&=67108863,U=Math.imul(Ve,je),M=Math.imul(Ve,Qe),M=M+Math.imul(it,je)|0,F=Math.imul(it,Qe),U=U+Math.imul(Fe,we)|0,M=M+Math.imul(Fe,me)|0,M=M+Math.imul(Xe,we)|0,F=F+Math.imul(Xe,me)|0,U=U+Math.imul(Ue,xe)|0,M=M+Math.imul(Ue,Re)|0,M=M+Math.imul(Ye,xe)|0,F=F+Math.imul(Ye,Re)|0,U=U+Math.imul(Ne,Ce)|0,M=M+Math.imul(Ne,Ie)|0,M=M+Math.imul(We,Ce)|0,F=F+Math.imul(We,Ie)|0,U=U+Math.imul(Le,Be)|0,M=M+Math.imul(Le,Oe)|0,M=M+Math.imul($e,Be)|0,F=F+Math.imul($e,Oe)|0,U=U+Math.imul(ke,qe)|0,M=M+Math.imul(ke,Ze)|0,M=M+Math.imul(De,qe)|0,F=F+Math.imul(De,Ze)|0,U=U+Math.imul(ce,ze)|0,M=M+Math.imul(ce,tt)|0,M=M+Math.imul(Se,ze)|0,F=F+Math.imul(Se,tt)|0;var Bt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,U=Math.imul(Ve,we),M=Math.imul(Ve,me),M=M+Math.imul(it,we)|0,F=Math.imul(it,me),U=U+Math.imul(Fe,xe)|0,M=M+Math.imul(Fe,Re)|0,M=M+Math.imul(Xe,xe)|0,F=F+Math.imul(Xe,Re)|0,U=U+Math.imul(Ue,Ce)|0,M=M+Math.imul(Ue,Ie)|0,M=M+Math.imul(Ye,Ce)|0,F=F+Math.imul(Ye,Ie)|0,U=U+Math.imul(Ne,Be)|0,M=M+Math.imul(Ne,Oe)|0,M=M+Math.imul(We,Be)|0,F=F+Math.imul(We,Oe)|0,U=U+Math.imul(Le,qe)|0,M=M+Math.imul(Le,Ze)|0,M=M+Math.imul($e,qe)|0,F=F+Math.imul($e,Ze)|0,U=U+Math.imul(ke,ze)|0,M=M+Math.imul(ke,tt)|0,M=M+Math.imul(De,ze)|0,F=F+Math.imul(De,tt)|0;var kt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(kt>>>26)|0,kt&=67108863,U=Math.imul(Ve,xe),M=Math.imul(Ve,Re),M=M+Math.imul(it,xe)|0,F=Math.imul(it,Re),U=U+Math.imul(Fe,Ce)|0,M=M+Math.imul(Fe,Ie)|0,M=M+Math.imul(Xe,Ce)|0,F=F+Math.imul(Xe,Ie)|0,U=U+Math.imul(Ue,Be)|0,M=M+Math.imul(Ue,Oe)|0,M=M+Math.imul(Ye,Be)|0,F=F+Math.imul(Ye,Oe)|0,U=U+Math.imul(Ne,qe)|0,M=M+Math.imul(Ne,Ze)|0,M=M+Math.imul(We,qe)|0,F=F+Math.imul(We,Ze)|0,U=U+Math.imul(Le,ze)|0,M=M+Math.imul(Le,tt)|0,M=M+Math.imul($e,ze)|0,F=F+Math.imul($e,tt)|0;var Dt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,U=Math.imul(Ve,Ce),M=Math.imul(Ve,Ie),M=M+Math.imul(it,Ce)|0,F=Math.imul(it,Ie),U=U+Math.imul(Fe,Be)|0,M=M+Math.imul(Fe,Oe)|0,M=M+Math.imul(Xe,Be)|0,F=F+Math.imul(Xe,Oe)|0,U=U+Math.imul(Ue,qe)|0,M=M+Math.imul(Ue,Ze)|0,M=M+Math.imul(Ye,qe)|0,F=F+Math.imul(Ye,Ze)|0,U=U+Math.imul(Ne,ze)|0,M=M+Math.imul(Ne,tt)|0,M=M+Math.imul(We,ze)|0,F=F+Math.imul(We,tt)|0;var qt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(qt>>>26)|0,qt&=67108863,U=Math.imul(Ve,Be),M=Math.imul(Ve,Oe),M=M+Math.imul(it,Be)|0,F=Math.imul(it,Oe),U=U+Math.imul(Fe,qe)|0,M=M+Math.imul(Fe,Ze)|0,M=M+Math.imul(Xe,qe)|0,F=F+Math.imul(Xe,Ze)|0,U=U+Math.imul(Ue,ze)|0,M=M+Math.imul(Ue,tt)|0,M=M+Math.imul(Ye,ze)|0,F=F+Math.imul(Ye,tt)|0;var Pt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,U=Math.imul(Ve,qe),M=Math.imul(Ve,Ze),M=M+Math.imul(it,qe)|0,F=Math.imul(it,Ze),U=U+Math.imul(Fe,ze)|0,M=M+Math.imul(Fe,tt)|0,M=M+Math.imul(Xe,ze)|0,F=F+Math.imul(Xe,tt)|0;var Nt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,U=Math.imul(Ve,ze),M=Math.imul(Ve,tt),M=M+Math.imul(it,ze)|0,F=Math.imul(it,tt);var Ot=(Z+U|0)+((M&8191)<<13)|0;return Z=(F+(M>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,W[0]=dt,W[1]=pt,W[2]=xt,W[3]=St,W[4]=Mt,W[5]=Et,W[6]=At,W[7]=Rt,W[8]=Tt,W[9]=$t,W[10]=Ct,W[11]=It,W[12]=Bt,W[13]=kt,W[14]=Dt,W[15]=qt,W[16]=Pt,W[17]=Nt,W[18]=Ot,Z!==0&&(W[19]=Z,P.length++),P};Math.imul||(re=ee);function ne(J,u,T){T.negative=u.negative^J.negative,T.length=J.length+u.length;for(var P=0,N=0,L=0;L<T.length-1;L++){var W=N;N=0;for(var Z=P&67108863,U=Math.min(L,u.length-1),M=Math.max(0,L-J.length+1);M<=U;M++){var F=L-M,te=J.words[F]|0,ie=u.words[M]|0,he=te*ie,pe=he&67108863;W=W+(he/67108864|0)|0,pe=pe+Z|0,Z=pe&67108863,W=W+(pe>>>26)|0,N+=W>>>26,W&=67108863}T.words[L]=Z,P=W,W=N}return P!==0?T.words[L]=P:T.length--,T.strip()}function se(J,u,T){var P=new ae;return P.mulp(J,u,T)}$.prototype.mulTo=function(u,T){var P,N=this.length+u.length;return this.length===10&&u.length===10?P=re(this,u,T):N<63?P=ee(this,u,T):N<1024?P=ne(this,u,T):P=se(this,u,T),P};function ae(J,u){this.x=J,this.y=u}ae.prototype.makeRBT=function(u){for(var T=new Array(u),P=$.prototype._countBits(u)-1,N=0;N<u;N++)T[N]=this.revBin(N,P,u);return T},ae.prototype.revBin=function(u,T,P){if(u===0||u===P-1)return u;for(var N=0,L=0;L<T;L++)N|=(u&1)<<T-L-1,u>>=1;return N},ae.prototype.permute=function(u,T,P,N,L,W){for(var Z=0;Z<W;Z++)N[Z]=T[u[Z]],L[Z]=P[u[Z]]},ae.prototype.transform=function(u,T,P,N,L,W){this.permute(W,u,T,P,N,L);for(var Z=1;Z<L;Z<<=1)for(var U=Z<<1,M=Math.cos(2*Math.PI/U),F=Math.sin(2*Math.PI/U),te=0;te<L;te+=U)for(var ie=M,he=F,pe=0;pe<Z;pe++){var de=P[te+pe],oe=N[te+pe],le=P[te+pe+Z],ve=N[te+pe+Z],Me=ie*le-he*ve;ve=ie*ve+he*le,le=Me,P[te+pe]=de+le,N[te+pe]=oe+ve,P[te+pe+Z]=de-le,N[te+pe+Z]=oe-ve,pe!==U&&(Me=M*ie-F*he,he=M*he+F*ie,ie=Me)}},ae.prototype.guessLen13b=function(u,T){var P=Math.max(T,u)|1,N=P&1,L=0;for(P=P/2|0;P;P=P>>>1)L++;return 1<<L+1+N},ae.prototype.conjugate=function(u,T,P){if(!(P<=1))for(var N=0;N<P/2;N++){var L=u[N];u[N]=u[P-N-1],u[P-N-1]=L,L=T[N],T[N]=-T[P-N-1],T[P-N-1]=-L}},ae.prototype.normalize13b=function(u,T){for(var P=0,N=0;N<T/2;N++){var L=Math.round(u[2*N+1]/T)*8192+Math.round(u[2*N]/T)+P;u[N]=L&67108863,L<67108864?P=0:P=L/67108864|0}return u},ae.prototype.convert13b=function(u,T,P,N){for(var L=0,W=0;W<T;W++)L=L+(u[W]|0),P[2*W]=L&8191,L=L>>>13,P[2*W+1]=L&8191,L=L>>>13;for(W=2*T;W<N;++W)P[W]=0;q(L===0),q((L&-8192)===0)},ae.prototype.stub=function(u){for(var T=new Array(u),P=0;P<u;P++)T[P]=0;return T},ae.prototype.mulp=function(u,T,P){var N=2*this.guessLen13b(u.length,T.length),L=this.makeRBT(N),W=this.stub(N),Z=new Array(N),U=new Array(N),M=new Array(N),F=new Array(N),te=new Array(N),ie=new Array(N),he=P.words;he.length=N,this.convert13b(u.words,u.length,Z,N),this.convert13b(T.words,T.length,F,N),this.transform(Z,W,U,M,N,L),this.transform(F,W,te,ie,N,L);for(var pe=0;pe<N;pe++){var de=U[pe]*te[pe]-M[pe]*ie[pe];M[pe]=U[pe]*ie[pe]+M[pe]*te[pe],U[pe]=de}return this.conjugate(U,M,N),this.transform(U,M,he,W,N,L),this.conjugate(he,W,N),this.normalize13b(he,N),P.negative=u.negative^T.negative,P.length=u.length+T.length,P.strip()},$.prototype.mul=function(u){var T=new $(null);return T.words=new Array(this.length+u.length),this.mulTo(u,T)},$.prototype.mulf=function(u){var T=new $(null);return T.words=new Array(this.length+u.length),se(this,u,T)},$.prototype.imul=function(u){return this.clone().mulTo(u,this)},$.prototype.imuln=function(u){q(typeof u=="number"),q(u<67108864);for(var T=0,P=0;P<this.length;P++){var N=(this.words[P]|0)*u,L=(N&67108863)+(T&67108863);T>>=26,T+=N/67108864|0,T+=L>>>26,this.words[P]=L&67108863}return T!==0&&(this.words[P]=T,this.length++),this},$.prototype.muln=function(u){return this.clone().imuln(u)},$.prototype.sqr=function(){return this.mul(this)},$.prototype.isqr=function(){return this.imul(this.clone())},$.prototype.pow=function(u){var T=Q(u);if(T.length===0)return new $(1);for(var P=this,N=0;N<T.length&&T[N]===0;N++,P=P.sqr());if(++N<T.length)for(var L=P.sqr();N<T.length;N++,L=L.sqr())T[N]!==0&&(P=P.mul(L));return P},$.prototype.iushln=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26,N=67108863>>>26-T<<26-T,L;if(T!==0){var W=0;for(L=0;L<this.length;L++){var Z=this.words[L]&N,U=(this.words[L]|0)-Z<<T;this.words[L]=U|W,W=Z>>>26-T}W&&(this.words[L]=W,this.length++)}if(P!==0){for(L=this.length-1;L>=0;L--)this.words[L+P]=this.words[L];for(L=0;L<P;L++)this.words[L]=0;this.length+=P}return this.strip()},$.prototype.ishln=function(u){return q(this.negative===0),this.iushln(u)},$.prototype.iushrn=function(u,T,P){q(typeof u=="number"&&u>=0);var N;T?N=(T-T%26)/26:N=0;var L=u%26,W=Math.min((u-L)/26,this.length),Z=67108863^67108863>>>L<<L,U=P;if(N-=W,N=Math.max(0,N),U){for(var M=0;M<W;M++)U.words[M]=this.words[M];U.length=W}if(W!==0)if(this.length>W)for(this.length-=W,M=0;M<this.length;M++)this.words[M]=this.words[M+W];else this.words[0]=0,this.length=1;var F=0;for(M=this.length-1;M>=0&&(F!==0||M>=N);M--){var te=this.words[M]|0;this.words[M]=F<<26-L|te>>>L,F=te&Z}return U&&F!==0&&(U.words[U.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},$.prototype.ishrn=function(u,T,P){return q(this.negative===0),this.iushrn(u,T,P)},$.prototype.shln=function(u){return this.clone().ishln(u)},$.prototype.ushln=function(u){return this.clone().iushln(u)},$.prototype.shrn=function(u){return this.clone().ishrn(u)},$.prototype.ushrn=function(u){return this.clone().iushrn(u)},$.prototype.testn=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26,N=1<<T;if(this.length<=P)return!1;var L=this.words[P];return!!(L&N)},$.prototype.imaskn=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26;if(q(this.negative===0,"imaskn works only with positive numbers"),this.length<=P)return this;if(T!==0&&P++,this.length=Math.min(P,this.length),T!==0){var N=67108863^67108863>>>T<<T;this.words[this.length-1]&=N}return this.strip()},$.prototype.maskn=function(u){return this.clone().imaskn(u)},$.prototype.iaddn=function(u){return q(typeof u=="number"),q(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},$.prototype._iaddn=function(u){this.words[0]+=u;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},$.prototype.isubn=function(u){if(q(typeof u=="number"),q(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this.strip()},$.prototype.addn=function(u){return this.clone().iaddn(u)},$.prototype.subn=function(u){return this.clone().isubn(u)},$.prototype.iabs=function(){return this.negative=0,this},$.prototype.abs=function(){return this.clone().iabs()},$.prototype._ishlnsubmul=function(u,T,P){var N=u.length+P,L;this._expand(N);var W,Z=0;for(L=0;L<u.length;L++){W=(this.words[L+P]|0)+Z;var U=(u.words[L]|0)*T;W-=U&67108863,Z=(W>>26)-(U/67108864|0),this.words[L+P]=W&67108863}for(;L<this.length-P;L++)W=(this.words[L+P]|0)+Z,Z=W>>26,this.words[L+P]=W&67108863;if(Z===0)return this.strip();for(q(Z===-1),Z=0,L=0;L<this.length;L++)W=-(this.words[L]|0)+Z,Z=W>>26,this.words[L]=W&67108863;return this.negative=1,this.strip()},$.prototype._wordDiv=function(u,T){var P=this.length-u.length,N=this.clone(),L=u,W=L.words[L.length-1]|0,Z=this._countBits(W);P=26-Z,P!==0&&(L=L.ushln(P),N.iushln(P),W=L.words[L.length-1]|0);var U=N.length-L.length,M;if(T!=="mod"){M=new $(null),M.length=U+1,M.words=new Array(M.length);for(var F=0;F<M.length;F++)M.words[F]=0}var te=N.clone()._ishlnsubmul(L,1,U);te.negative===0&&(N=te,M&&(M.words[U]=1));for(var ie=U-1;ie>=0;ie--){var he=(N.words[L.length+ie]|0)*67108864+(N.words[L.length+ie-1]|0);for(he=Math.min(he/W|0,67108863),N._ishlnsubmul(L,he,ie);N.negative!==0;)he--,N.negative=0,N._ishlnsubmul(L,1,ie),N.isZero()||(N.negative^=1);M&&(M.words[ie]=he)}return M&&M.strip(),N.strip(),T!=="div"&&P!==0&&N.iushrn(P),{div:M||null,mod:N}},$.prototype.divmod=function(u,T,P){if(q(!u.isZero()),this.isZero())return{div:new $(0),mod:new $(0)};var N,L,W;return this.negative!==0&&u.negative===0?(W=this.neg().divmod(u,T),T!=="mod"&&(N=W.div.neg()),T!=="div"&&(L=W.mod.neg(),P&&L.negative!==0&&L.iadd(u)),{div:N,mod:L}):this.negative===0&&u.negative!==0?(W=this.divmod(u.neg(),T),T!=="mod"&&(N=W.div.neg()),{div:N,mod:W.mod}):this.negative&u.negative?(W=this.neg().divmod(u.neg(),T),T!=="div"&&(L=W.mod.neg(),P&&L.negative!==0&&L.isub(u)),{div:W.div,mod:L}):u.length>this.length||this.cmp(u)<0?{div:new $(0),mod:this}:u.length===1?T==="div"?{div:this.divn(u.words[0]),mod:null}:T==="mod"?{div:null,mod:new $(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new $(this.modn(u.words[0]))}:this._wordDiv(u,T)},$.prototype.div=function(u){return this.divmod(u,"div",!1).div},$.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},$.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},$.prototype.divRound=function(u){var T=this.divmod(u);if(T.mod.isZero())return T.div;var P=T.div.negative!==0?T.mod.isub(u):T.mod,N=u.ushrn(1),L=u.andln(1),W=P.cmp(N);return W<0||L===1&&W===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},$.prototype.modn=function(u){q(u<=67108863);for(var T=(1<<26)%u,P=0,N=this.length-1;N>=0;N--)P=(T*P+(this.words[N]|0))%u;return P},$.prototype.idivn=function(u){q(u<=67108863);for(var T=0,P=this.length-1;P>=0;P--){var N=(this.words[P]|0)+T*67108864;this.words[P]=N/u|0,T=N%u}return this.strip()},$.prototype.divn=function(u){return this.clone().idivn(u)},$.prototype.egcd=function(u){q(u.negative===0),q(!u.isZero());var T=this,P=u.clone();T.negative!==0?T=T.umod(u):T=T.clone();for(var N=new $(1),L=new $(0),W=new $(0),Z=new $(1),U=0;T.isEven()&&P.isEven();)T.iushrn(1),P.iushrn(1),++U;for(var M=P.clone(),F=T.clone();!T.isZero();){for(var te=0,ie=1;!(T.words[0]&ie)&&te<26;++te,ie<<=1);if(te>0)for(T.iushrn(te);te-- >0;)(N.isOdd()||L.isOdd())&&(N.iadd(M),L.isub(F)),N.iushrn(1),L.iushrn(1);for(var he=0,pe=1;!(P.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(P.iushrn(he);he-- >0;)(W.isOdd()||Z.isOdd())&&(W.iadd(M),Z.isub(F)),W.iushrn(1),Z.iushrn(1);T.cmp(P)>=0?(T.isub(P),N.isub(W),L.isub(Z)):(P.isub(T),W.isub(N),Z.isub(L))}return{a:W,b:Z,gcd:P.iushln(U)}},$.prototype._invmp=function(u){q(u.negative===0),q(!u.isZero());var T=this,P=u.clone();T.negative!==0?T=T.umod(u):T=T.clone();for(var N=new $(1),L=new $(0),W=P.clone();T.cmpn(1)>0&&P.cmpn(1)>0;){for(var Z=0,U=1;!(T.words[0]&U)&&Z<26;++Z,U<<=1);if(Z>0)for(T.iushrn(Z);Z-- >0;)N.isOdd()&&N.iadd(W),N.iushrn(1);for(var M=0,F=1;!(P.words[0]&F)&&M<26;++M,F<<=1);if(M>0)for(P.iushrn(M);M-- >0;)L.isOdd()&&L.iadd(W),L.iushrn(1);T.cmp(P)>=0?(T.isub(P),N.isub(L)):(P.isub(T),L.isub(N))}var te;return T.cmpn(1)===0?te=N:te=L,te.cmpn(0)<0&&te.iadd(u),te},$.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var T=this.clone(),P=u.clone();T.negative=0,P.negative=0;for(var N=0;T.isEven()&&P.isEven();N++)T.iushrn(1),P.iushrn(1);do{for(;T.isEven();)T.iushrn(1);for(;P.isEven();)P.iushrn(1);var L=T.cmp(P);if(L<0){var W=T;T=P,P=W}else if(L===0||P.cmpn(1)===0)break;T.isub(P)}while(!0);return P.iushln(N)},$.prototype.invm=function(u){return this.egcd(u).a.umod(u)},$.prototype.isEven=function(){return(this.words[0]&1)===0},$.prototype.isOdd=function(){return(this.words[0]&1)===1},$.prototype.andln=function(u){return this.words[0]&u},$.prototype.bincn=function(u){q(typeof u=="number");var T=u%26,P=(u-T)/26,N=1<<T;if(this.length<=P)return this._expand(P+1),this.words[P]|=N,this;for(var L=N,W=P;L!==0&&W<this.length;W++){var Z=this.words[W]|0;Z+=L,L=Z>>>26,Z&=67108863,this.words[W]=Z}return L!==0&&(this.words[W]=L,this.length++),this},$.prototype.isZero=function(){return this.length===1&&this.words[0]===0},$.prototype.cmpn=function(u){var T=u<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;this.strip();var P;if(this.length>1)P=1;else{T&&(u=-u),q(u<=67108863,"Number is too big");var N=this.words[0]|0;P=N===u?0:N<u?-1:1}return this.negative!==0?-P|0:P},$.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var T=this.ucmp(u);return this.negative!==0?-T|0:T},$.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var T=0,P=this.length-1;P>=0;P--){var N=this.words[P]|0,L=u.words[P]|0;if(N!==L){N<L?T=-1:N>L&&(T=1);break}}return T},$.prototype.gtn=function(u){return this.cmpn(u)===1},$.prototype.gt=function(u){return this.cmp(u)===1},$.prototype.gten=function(u){return this.cmpn(u)>=0},$.prototype.gte=function(u){return this.cmp(u)>=0},$.prototype.ltn=function(u){return this.cmpn(u)===-1},$.prototype.lt=function(u){return this.cmp(u)===-1},$.prototype.lten=function(u){return this.cmpn(u)<=0},$.prototype.lte=function(u){return this.cmp(u)<=0},$.prototype.eqn=function(u){return this.cmpn(u)===0},$.prototype.eq=function(u){return this.cmp(u)===0},$.red=function(u){return new be(u)},$.prototype.toRed=function(u){return q(!this.red,"Already a number in reduction context"),q(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},$.prototype.fromRed=function(){return q(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},$.prototype._forceRed=function(u){return this.red=u,this},$.prototype.forceRed=function(u){return q(!this.red,"Already a number in reduction context"),this._forceRed(u)},$.prototype.redAdd=function(u){return q(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},$.prototype.redIAdd=function(u){return q(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},$.prototype.redSub=function(u){return q(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},$.prototype.redISub=function(u){return q(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},$.prototype.redShl=function(u){return q(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},$.prototype.redMul=function(u){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},$.prototype.redIMul=function(u){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},$.prototype.redSqr=function(){return q(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},$.prototype.redISqr=function(){return q(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},$.prototype.redSqrt=function(){return q(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},$.prototype.redInvm=function(){return q(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},$.prototype.redNeg=function(){return q(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},$.prototype.redPow=function(u){return q(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var fe={k256:null,p224:null,p192:null,p25519:null};function ue(J,u){this.name=J,this.p=new $(u,16),this.n=this.p.bitLength(),this.k=new $(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ue.prototype._tmp=function(){var u=new $(null);return u.words=new Array(Math.ceil(this.n/13)),u},ue.prototype.ireduce=function(u){var T=u,P;do this.split(T,this.tmp),T=this.imulK(T),T=T.iadd(this.tmp),P=T.bitLength();while(P>this.n);var N=P<this.n?-1:T.ucmp(this.p);return N===0?(T.words[0]=0,T.length=1):N>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},ue.prototype.split=function(u,T){u.iushrn(this.n,0,T)},ue.prototype.imulK=function(u){return u.imul(this.k)};function _e(){ue.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(_e,ue),_e.prototype.split=function(u,T){for(var P=4194303,N=Math.min(u.length,9),L=0;L<N;L++)T.words[L]=u.words[L];if(T.length=N,u.length<=9){u.words[0]=0,u.length=1;return}var W=u.words[9];for(T.words[T.length++]=W&P,L=10;L<u.length;L++){var Z=u.words[L]|0;u.words[L-10]=(Z&P)<<4|W>>>22,W=Z}W>>>=22,u.words[L-10]=W,W===0&&u.length>10?u.length-=10:u.length-=9},_e.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var T=0,P=0;P<u.length;P++){var N=u.words[P]|0;T+=N*977,u.words[P]=T&67108863,T=N*64+(T/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function ge(){ue.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(ge,ue);function Ae(){ue.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(Ae,ue);function Te(){ue.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(Te,ue),Te.prototype.imulK=function(u){for(var T=0,P=0;P<u.length;P++){var N=(u.words[P]|0)*19+T,L=N&67108863;N>>>=26,u.words[P]=L,T=N}return T!==0&&(u.words[u.length++]=T),u},$._prime=function(u){if(fe[u])return fe[u];var T;if(u==="k256")T=new _e;else if(u==="p224")T=new ge;else if(u==="p192")T=new Ae;else if(u==="p25519")T=new Te;else throw new Error("Unknown prime "+u);return fe[u]=T,T};function be(J){if(typeof J=="string"){var u=$._prime(J);this.m=u.p,this.prime=u}else q(J.gtn(1),"modulus must be greater than 1"),this.m=J,this.prime=null}be.prototype._verify1=function(u){q(u.negative===0,"red works only with positives"),q(u.red,"red works only with red numbers")},be.prototype._verify2=function(u,T){q((u.negative|T.negative)===0,"red works only with positives"),q(u.red&&u.red===T.red,"red works only with red numbers")},be.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},be.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},be.prototype.add=function(u,T){this._verify2(u,T);var P=u.add(T);return P.cmp(this.m)>=0&&P.isub(this.m),P._forceRed(this)},be.prototype.iadd=function(u,T){this._verify2(u,T);var P=u.iadd(T);return P.cmp(this.m)>=0&&P.isub(this.m),P},be.prototype.sub=function(u,T){this._verify2(u,T);var P=u.sub(T);return P.cmpn(0)<0&&P.iadd(this.m),P._forceRed(this)},be.prototype.isub=function(u,T){this._verify2(u,T);var P=u.isub(T);return P.cmpn(0)<0&&P.iadd(this.m),P},be.prototype.shl=function(u,T){return this._verify1(u),this.imod(u.ushln(T))},be.prototype.imul=function(u,T){return this._verify2(u,T),this.imod(u.imul(T))},be.prototype.mul=function(u,T){return this._verify2(u,T),this.imod(u.mul(T))},be.prototype.isqr=function(u){return this.imul(u,u.clone())},be.prototype.sqr=function(u){return this.mul(u,u)},be.prototype.sqrt=function(u){if(u.isZero())return u.clone();var T=this.m.andln(3);if(q(T%2===1),T===3){var P=this.m.add(new $(1)).iushrn(2);return this.pow(u,P)}for(var N=this.m.subn(1),L=0;!N.isZero()&&N.andln(1)===0;)L++,N.iushrn(1);q(!N.isZero());var W=new $(1).toRed(this),Z=W.redNeg(),U=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new $(2*M*M).toRed(this);this.pow(M,U).cmp(Z)!==0;)M.redIAdd(Z);for(var F=this.pow(M,N),te=this.pow(u,N.addn(1).iushrn(1)),ie=this.pow(u,N),he=L;ie.cmp(W)!==0;){for(var pe=ie,de=0;pe.cmp(W)!==0;de++)pe=pe.redSqr();q(de<he);var oe=this.pow(F,new $(1).iushln(he-de-1));te=te.redMul(oe),F=oe.redSqr(),ie=ie.redMul(F),he=de}return te},be.prototype.invm=function(u){var T=u._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},be.prototype.pow=function(u,T){if(T.isZero())return new $(1).toRed(this);if(T.cmpn(1)===0)return u.clone();var P=4,N=new Array(1<<P);N[0]=new $(1).toRed(this),N[1]=u;for(var L=2;L<N.length;L++)N[L]=this.mul(N[L-1],u);var W=N[0],Z=0,U=0,M=T.bitLength()%26;for(M===0&&(M=26),L=T.length-1;L>=0;L--){for(var F=T.words[L],te=M-1;te>=0;te--){var ie=F>>te&1;if(W!==N[0]&&(W=this.sqr(W)),ie===0&&Z===0){U=0;continue}Z<<=1,Z|=ie,U++,!(U!==P&&(L!==0||te!==0))&&(W=this.mul(W,N[Z]),U=0,Z=0)}M=26}return W},be.prototype.convertTo=function(u){var T=u.umod(this.m);return T===u?T.clone():T},be.prototype.convertFrom=function(u){var T=u.clone();return T.red=null,T},$.mont=function(u){return new Pe(u)};function Pe(J){be.call(this,J),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new $(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(Pe,be),Pe.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Pe.prototype.convertFrom=function(u){var T=this.imod(u.mul(this.rinv));return T.red=null,T},Pe.prototype.imul=function(u,T){if(u.isZero()||T.isZero())return u.words[0]=0,u.length=1,u;var P=u.imul(T),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=P.isub(N).iushrn(this.shift),W=L;return L.cmp(this.m)>=0?W=L.isub(this.m):L.cmpn(0)<0&&(W=L.iadd(this.m)),W._forceRed(this)},Pe.prototype.mul=function(u,T){if(u.isZero()||T.isZero())return new $(0)._forceRed(this);var P=u.mul(T),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=P.isub(N).iushrn(this.shift),W=L;return L.cmp(this.m)>=0?W=L.isub(this.m):L.cmpn(0)<0&&(W=L.iadd(this.m)),W._forceRed(this)},Pe.prototype.invm=function(u){var T=this.imod(u._invmp(this.m).mul(this.r2));return T._forceRed(this)}})(B,commonjsGlobal)}(bn$1)),bn$1.exports}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var B=requireElliptic(),S=requireBn$1();browser$2=function(j){return new q(j)};var D={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};D.p224=D.secp224r1,D.p256=D.secp256r1=D.prime256v1,D.p192=D.secp192r1=D.prime192v1,D.p384=D.secp384r1,D.p521=D.secp521r1;function q($){this.curveType=D[$],this.curveType||(this.curveType={name:$}),this.curve=new B.ec(this.curveType.name),this.keys=void 0}q.prototype.generateKeys=function($,j){return this.keys=this.curve.genKeyPair(),this.getPublicKey($,j)},q.prototype.computeSecret=function($,j,G){j=j||"utf8",Buffer.isBuffer($)||($=new Buffer($,j));var V=this.curve.keyFromPublic($).getPublic(),K=V.mul(this.keys.getPrivate()).getX();return O(K,G,this.curveType.byteLength)},q.prototype.getPublicKey=function($,j){var G=this.keys.getPublic(j==="compressed",!0);return j==="hybrid"&&(G[G.length-1]%2?G[0]=7:G[0]=6),O(G,$)},q.prototype.getPrivateKey=function($){return O(this.keys.getPrivate(),$)},q.prototype.setPublicKey=function($,j){return j=j||"utf8",Buffer.isBuffer($)||($=new Buffer($,j)),this.keys._importPublic($),this},q.prototype.setPrivateKey=function($,j){j=j||"utf8",Buffer.isBuffer($)||($=new Buffer($,j));var G=new S($);return G=G.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(G),this};function O($,j,G){Array.isArray($)||($=$.toArray());var V=new Buffer($);if(G&&V.length<G){var K=new Buffer(G-V.length);K.fill(0),V=Buffer.concat([K,V])}return j?V.toString(j):V}return browser$2}var browser$1={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var B=requireBrowser$9(),S=requireSafeBuffer$6().Buffer;mgf=function(q,O){for(var $=S.alloc(0),j=0,G;$.length<O;)G=D(j++),$=S.concat([$,B("sha1").update(q).update(G).digest()]);return $.slice(0,O)};function D(q){var O=S.allocUnsafe(4);return O.writeUInt32BE(q,0),O}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(S,D){for(var q=S.length,O=-1;++O<q;)S[O]^=D[O];return S}),xor}var bn={exports:{}};bn.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(B){(function(S,D){function q(J,u){if(!J)throw new Error(u||"Assertion failed")}function O(J,u){J.super_=u;var T=function(){};T.prototype=u.prototype,J.prototype=new T,J.prototype.constructor=J}function $(J,u,T){if($.isBN(J))return J;this.negative=0,this.words=null,this.length=0,this.red=null,J!==null&&((u==="le"||u==="be")&&(T=u,u=10),this._init(J||0,u||10,T||"be"))}typeof S=="object"?S.exports=$:D.BN=$,$.BN=$,$.wordSize=26;var j;try{typeof window<"u"&&typeof window.Buffer<"u"?j=window.Buffer:j=require$$0$1.Buffer}catch{}$.isBN=function(u){return u instanceof $?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===$.wordSize&&Array.isArray(u.words)},$.max=function(u,T){return u.cmp(T)>0?u:T},$.min=function(u,T){return u.cmp(T)<0?u:T},$.prototype._init=function(u,T,P){if(typeof u=="number")return this._initNumber(u,T,P);if(typeof u=="object")return this._initArray(u,T,P);T==="hex"&&(T=16),q(T===(T|0)&&T>=2&&T<=36),u=u.toString().replace(/\s+/g,"");var N=0;u[0]==="-"&&(N++,this.negative=1),N<u.length&&(T===16?this._parseHex(u,N,P):(this._parseBase(u,T,N),P==="le"&&this._initArray(this.toArray(),T,P)))},$.prototype._initNumber=function(u,T,P){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(q(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),P==="le"&&this._initArray(this.toArray(),T,P)},$.prototype._initArray=function(u,T,P){if(q(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L,W,Z=0;if(P==="be")for(N=u.length-1,L=0;N>=0;N-=3)W=u[N]|u[N-1]<<8|u[N-2]<<16,this.words[L]|=W<<Z&67108863,this.words[L+1]=W>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,L++);else if(P==="le")for(N=0,L=0;N<u.length;N+=3)W=u[N]|u[N+1]<<8|u[N+2]<<16,this.words[L]|=W<<Z&67108863,this.words[L+1]=W>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,L++);return this.strip()};function G(J,u){var T=J.charCodeAt(u);return T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:T-48&15}function V(J,u,T){var P=G(J,T);return T-1>=u&&(P|=G(J,T-1)<<4),P}$.prototype._parseHex=function(u,T,P){this.length=Math.ceil((u.length-T)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L=0,W=0,Z;if(P==="be")for(N=u.length-1;N>=T;N-=2)Z=V(u,T,N)<<L,this.words[W]|=Z&67108863,L>=18?(L-=18,W+=1,this.words[W]|=Z>>>26):L+=8;else{var U=u.length-T;for(N=U%2===0?T+1:T;N<u.length;N+=2)Z=V(u,T,N)<<L,this.words[W]|=Z&67108863,L>=18?(L-=18,W+=1,this.words[W]|=Z>>>26):L+=8}this.strip()};function K(J,u,T,P){for(var N=0,L=Math.min(J.length,T),W=u;W<L;W++){var Z=J.charCodeAt(W)-48;N*=P,Z>=49?N+=Z-49+10:Z>=17?N+=Z-17+10:N+=Z}return N}$.prototype._parseBase=function(u,T,P){this.words=[0],this.length=1;for(var N=0,L=1;L<=67108863;L*=T)N++;N--,L=L/T|0;for(var W=u.length-P,Z=W%N,U=Math.min(W,W-Z)+P,M=0,F=P;F<U;F+=N)M=K(u,F,F+N,T),this.imuln(L),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(Z!==0){var te=1;for(M=K(u,F,u.length,T),F=0;F<Z;F++)te*=T;this.imuln(te),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this.strip()},$.prototype.copy=function(u){u.words=new Array(this.length);for(var T=0;T<this.length;T++)u.words[T]=this.words[T];u.length=this.length,u.negative=this.negative,u.red=this.red},$.prototype.clone=function(){var u=new $(null);return this.copy(u),u},$.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},$.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},$.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},$.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var H=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];$.prototype.toString=function(u,T){u=u||10,T=T|0||1;var P;if(u===16||u==="hex"){P="";for(var N=0,L=0,W=0;W<this.length;W++){var Z=this.words[W],U=((Z<<N|L)&16777215).toString(16);L=Z>>>24-N&16777215,N+=2,N>=26&&(N-=26,W--),L!==0||W!==this.length-1?P=H[6-U.length]+U+P:P=U+P}for(L!==0&&(P=L.toString(16)+P);P.length%T!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}if(u===(u|0)&&u>=2&&u<=36){var M=Y[u],F=X[u];P="";var te=this.clone();for(te.negative=0;!te.isZero();){var ie=te.modn(F).toString(u);te=te.idivn(F),te.isZero()?P=ie+P:P=H[M-ie.length]+ie+P}for(this.isZero()&&(P="0"+P);P.length%T!==0;)P="0"+P;return this.negative!==0&&(P="-"+P),P}q(!1,"Base should be between 2 and 36")},$.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&q(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},$.prototype.toJSON=function(){return this.toString(16)},$.prototype.toBuffer=function(u,T){return q(typeof j<"u"),this.toArrayLike(j,u,T)},$.prototype.toArray=function(u,T){return this.toArrayLike(Array,u,T)},$.prototype.toArrayLike=function(u,T,P){var N=this.byteLength(),L=P||Math.max(1,N);q(N<=L,"byte array longer than desired length"),q(L>0,"Requested array length <= 0"),this.strip();var W=T==="le",Z=new u(L),U,M,F=this.clone();if(W){for(M=0;!F.isZero();M++)U=F.andln(255),F.iushrn(8),Z[M]=U;for(;M<L;M++)Z[M]=0}else{for(M=0;M<L-N;M++)Z[M]=0;for(M=0;!F.isZero();M++)U=F.andln(255),F.iushrn(8),Z[L-M-1]=U}return Z},Math.clz32?$.prototype._countBits=function(u){return 32-Math.clz32(u)}:$.prototype._countBits=function(u){var T=u,P=0;return T>=4096&&(P+=13,T>>>=13),T>=64&&(P+=7,T>>>=7),T>=8&&(P+=4,T>>>=4),T>=2&&(P+=2,T>>>=2),P+T},$.prototype._zeroBits=function(u){if(u===0)return 26;var T=u,P=0;return T&8191||(P+=13,T>>>=13),T&127||(P+=7,T>>>=7),T&15||(P+=4,T>>>=4),T&3||(P+=2,T>>>=2),T&1||P++,P},$.prototype.bitLength=function(){var u=this.words[this.length-1],T=this._countBits(u);return(this.length-1)*26+T};function Q(J){for(var u=new Array(J.bitLength()),T=0;T<u.length;T++){var P=T/26|0,N=T%26;u[T]=(J.words[P]&1<<N)>>>N}return u}$.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,T=0;T<this.length;T++){var P=this._zeroBits(this.words[T]);if(u+=P,P!==26)break}return u},$.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},$.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},$.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},$.prototype.isNeg=function(){return this.negative!==0},$.prototype.neg=function(){return this.clone().ineg()},$.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},$.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var T=0;T<u.length;T++)this.words[T]=this.words[T]|u.words[T];return this.strip()},$.prototype.ior=function(u){return q((this.negative|u.negative)===0),this.iuor(u)},$.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},$.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},$.prototype.iuand=function(u){var T;this.length>u.length?T=u:T=this;for(var P=0;P<T.length;P++)this.words[P]=this.words[P]&u.words[P];return this.length=T.length,this.strip()},$.prototype.iand=function(u){return q((this.negative|u.negative)===0),this.iuand(u)},$.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},$.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},$.prototype.iuxor=function(u){var T,P;this.length>u.length?(T=this,P=u):(T=u,P=this);for(var N=0;N<P.length;N++)this.words[N]=T.words[N]^P.words[N];if(this!==T)for(;N<T.length;N++)this.words[N]=T.words[N];return this.length=T.length,this.strip()},$.prototype.ixor=function(u){return q((this.negative|u.negative)===0),this.iuxor(u)},$.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},$.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},$.prototype.inotn=function(u){q(typeof u=="number"&&u>=0);var T=Math.ceil(u/26)|0,P=u%26;this._expand(T),P>0&&T--;for(var N=0;N<T;N++)this.words[N]=~this.words[N]&67108863;return P>0&&(this.words[N]=~this.words[N]&67108863>>26-P),this.strip()},$.prototype.notn=function(u){return this.clone().inotn(u)},$.prototype.setn=function(u,T){q(typeof u=="number"&&u>=0);var P=u/26|0,N=u%26;return this._expand(P+1),T?this.words[P]=this.words[P]|1<<N:this.words[P]=this.words[P]&~(1<<N),this.strip()},$.prototype.iadd=function(u){var T;if(this.negative!==0&&u.negative===0)return this.negative=0,T=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,T=this.isub(u),u.negative=1,T._normSign();var P,N;this.length>u.length?(P=this,N=u):(P=u,N=this);for(var L=0,W=0;W<N.length;W++)T=(P.words[W]|0)+(N.words[W]|0)+L,this.words[W]=T&67108863,L=T>>>26;for(;L!==0&&W<P.length;W++)T=(P.words[W]|0)+L,this.words[W]=T&67108863,L=T>>>26;if(this.length=P.length,L!==0)this.words[this.length]=L,this.length++;else if(P!==this)for(;W<P.length;W++)this.words[W]=P.words[W];return this},$.prototype.add=function(u){var T;return u.negative!==0&&this.negative===0?(u.negative=0,T=this.sub(u),u.negative^=1,T):u.negative===0&&this.negative!==0?(this.negative=0,T=u.sub(this),this.negative=1,T):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},$.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var T=this.iadd(u);return u.negative=1,T._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var P=this.cmp(u);if(P===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,L;P>0?(N=this,L=u):(N=u,L=this);for(var W=0,Z=0;Z<L.length;Z++)T=(N.words[Z]|0)-(L.words[Z]|0)+W,W=T>>26,this.words[Z]=T&67108863;for(;W!==0&&Z<N.length;Z++)T=(N.words[Z]|0)+W,W=T>>26,this.words[Z]=T&67108863;if(W===0&&Z<N.length&&N!==this)for(;Z<N.length;Z++)this.words[Z]=N.words[Z];return this.length=Math.max(this.length,Z),N!==this&&(this.negative=1),this.strip()},$.prototype.sub=function(u){return this.clone().isub(u)};function ee(J,u,T){T.negative=u.negative^J.negative;var P=J.length+u.length|0;T.length=P,P=P-1|0;var N=J.words[0]|0,L=u.words[0]|0,W=N*L,Z=W&67108863,U=W/67108864|0;T.words[0]=Z;for(var M=1;M<P;M++){for(var F=U>>>26,te=U&67108863,ie=Math.min(M,u.length-1),he=Math.max(0,M-J.length+1);he<=ie;he++){var pe=M-he|0;N=J.words[pe]|0,L=u.words[he]|0,W=N*L+te,F+=W/67108864|0,te=W&67108863}T.words[M]=te|0,U=F|0}return U!==0?T.words[M]=U|0:T.length--,T.strip()}var re=function(u,T,P){var N=u.words,L=T.words,W=P.words,Z=0,U,M,F,te=N[0]|0,ie=te&8191,he=te>>>13,pe=N[1]|0,de=pe&8191,oe=pe>>>13,le=N[2]|0,ve=le&8191,Me=le>>>13,ye=N[3]|0,ce=ye&8191,Se=ye>>>13,et=N[4]|0,ke=et&8191,De=et>>>13,ot=N[5]|0,Le=ot&8191,$e=ot>>>13,lt=N[6]|0,Ne=lt&8191,We=lt>>>13,ct=N[7]|0,Ue=ct&8191,Ye=ct>>>13,mt=N[8]|0,Fe=mt&8191,Xe=mt>>>13,_t=N[9]|0,Ve=_t&8191,it=_t>>>13,vt=L[0]|0,He=vt&8191,nt=vt>>>13,yt=L[1]|0,Ke=yt&8191,st=yt>>>13,bt=L[2]|0,Ge=bt&8191,rt=bt>>>13,wt=L[3]|0,je=wt&8191,Qe=wt>>>13,gt=L[4]|0,we=gt&8191,me=gt>>>13,Ee=L[5]|0,xe=Ee&8191,Re=Ee>>>13,Je=L[6]|0,Ce=Je&8191,Ie=Je>>>13,at=L[7]|0,Be=at&8191,Oe=at>>>13,ft=L[8]|0,qe=ft&8191,Ze=ft>>>13,ht=L[9]|0,ze=ht&8191,tt=ht>>>13;P.negative=u.negative^T.negative,P.length=19,U=Math.imul(ie,He),M=Math.imul(ie,nt),M=M+Math.imul(he,He)|0,F=Math.imul(he,nt);var dt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(dt>>>26)|0,dt&=67108863,U=Math.imul(de,He),M=Math.imul(de,nt),M=M+Math.imul(oe,He)|0,F=Math.imul(oe,nt),U=U+Math.imul(ie,Ke)|0,M=M+Math.imul(ie,st)|0,M=M+Math.imul(he,Ke)|0,F=F+Math.imul(he,st)|0;var pt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(pt>>>26)|0,pt&=67108863,U=Math.imul(ve,He),M=Math.imul(ve,nt),M=M+Math.imul(Me,He)|0,F=Math.imul(Me,nt),U=U+Math.imul(de,Ke)|0,M=M+Math.imul(de,st)|0,M=M+Math.imul(oe,Ke)|0,F=F+Math.imul(oe,st)|0,U=U+Math.imul(ie,Ge)|0,M=M+Math.imul(ie,rt)|0,M=M+Math.imul(he,Ge)|0,F=F+Math.imul(he,rt)|0;var xt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(xt>>>26)|0,xt&=67108863,U=Math.imul(ce,He),M=Math.imul(ce,nt),M=M+Math.imul(Se,He)|0,F=Math.imul(Se,nt),U=U+Math.imul(ve,Ke)|0,M=M+Math.imul(ve,st)|0,M=M+Math.imul(Me,Ke)|0,F=F+Math.imul(Me,st)|0,U=U+Math.imul(de,Ge)|0,M=M+Math.imul(de,rt)|0,M=M+Math.imul(oe,Ge)|0,F=F+Math.imul(oe,rt)|0,U=U+Math.imul(ie,je)|0,M=M+Math.imul(ie,Qe)|0,M=M+Math.imul(he,je)|0,F=F+Math.imul(he,Qe)|0;var St=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(St>>>26)|0,St&=67108863,U=Math.imul(ke,He),M=Math.imul(ke,nt),M=M+Math.imul(De,He)|0,F=Math.imul(De,nt),U=U+Math.imul(ce,Ke)|0,M=M+Math.imul(ce,st)|0,M=M+Math.imul(Se,Ke)|0,F=F+Math.imul(Se,st)|0,U=U+Math.imul(ve,Ge)|0,M=M+Math.imul(ve,rt)|0,M=M+Math.imul(Me,Ge)|0,F=F+Math.imul(Me,rt)|0,U=U+Math.imul(de,je)|0,M=M+Math.imul(de,Qe)|0,M=M+Math.imul(oe,je)|0,F=F+Math.imul(oe,Qe)|0,U=U+Math.imul(ie,we)|0,M=M+Math.imul(ie,me)|0,M=M+Math.imul(he,we)|0,F=F+Math.imul(he,me)|0;var Mt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,U=Math.imul(Le,He),M=Math.imul(Le,nt),M=M+Math.imul($e,He)|0,F=Math.imul($e,nt),U=U+Math.imul(ke,Ke)|0,M=M+Math.imul(ke,st)|0,M=M+Math.imul(De,Ke)|0,F=F+Math.imul(De,st)|0,U=U+Math.imul(ce,Ge)|0,M=M+Math.imul(ce,rt)|0,M=M+Math.imul(Se,Ge)|0,F=F+Math.imul(Se,rt)|0,U=U+Math.imul(ve,je)|0,M=M+Math.imul(ve,Qe)|0,M=M+Math.imul(Me,je)|0,F=F+Math.imul(Me,Qe)|0,U=U+Math.imul(de,we)|0,M=M+Math.imul(de,me)|0,M=M+Math.imul(oe,we)|0,F=F+Math.imul(oe,me)|0,U=U+Math.imul(ie,xe)|0,M=M+Math.imul(ie,Re)|0,M=M+Math.imul(he,xe)|0,F=F+Math.imul(he,Re)|0;var Et=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Et>>>26)|0,Et&=67108863,U=Math.imul(Ne,He),M=Math.imul(Ne,nt),M=M+Math.imul(We,He)|0,F=Math.imul(We,nt),U=U+Math.imul(Le,Ke)|0,M=M+Math.imul(Le,st)|0,M=M+Math.imul($e,Ke)|0,F=F+Math.imul($e,st)|0,U=U+Math.imul(ke,Ge)|0,M=M+Math.imul(ke,rt)|0,M=M+Math.imul(De,Ge)|0,F=F+Math.imul(De,rt)|0,U=U+Math.imul(ce,je)|0,M=M+Math.imul(ce,Qe)|0,M=M+Math.imul(Se,je)|0,F=F+Math.imul(Se,Qe)|0,U=U+Math.imul(ve,we)|0,M=M+Math.imul(ve,me)|0,M=M+Math.imul(Me,we)|0,F=F+Math.imul(Me,me)|0,U=U+Math.imul(de,xe)|0,M=M+Math.imul(de,Re)|0,M=M+Math.imul(oe,xe)|0,F=F+Math.imul(oe,Re)|0,U=U+Math.imul(ie,Ce)|0,M=M+Math.imul(ie,Ie)|0,M=M+Math.imul(he,Ce)|0,F=F+Math.imul(he,Ie)|0;var At=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(At>>>26)|0,At&=67108863,U=Math.imul(Ue,He),M=Math.imul(Ue,nt),M=M+Math.imul(Ye,He)|0,F=Math.imul(Ye,nt),U=U+Math.imul(Ne,Ke)|0,M=M+Math.imul(Ne,st)|0,M=M+Math.imul(We,Ke)|0,F=F+Math.imul(We,st)|0,U=U+Math.imul(Le,Ge)|0,M=M+Math.imul(Le,rt)|0,M=M+Math.imul($e,Ge)|0,F=F+Math.imul($e,rt)|0,U=U+Math.imul(ke,je)|0,M=M+Math.imul(ke,Qe)|0,M=M+Math.imul(De,je)|0,F=F+Math.imul(De,Qe)|0,U=U+Math.imul(ce,we)|0,M=M+Math.imul(ce,me)|0,M=M+Math.imul(Se,we)|0,F=F+Math.imul(Se,me)|0,U=U+Math.imul(ve,xe)|0,M=M+Math.imul(ve,Re)|0,M=M+Math.imul(Me,xe)|0,F=F+Math.imul(Me,Re)|0,U=U+Math.imul(de,Ce)|0,M=M+Math.imul(de,Ie)|0,M=M+Math.imul(oe,Ce)|0,F=F+Math.imul(oe,Ie)|0,U=U+Math.imul(ie,Be)|0,M=M+Math.imul(ie,Oe)|0,M=M+Math.imul(he,Be)|0,F=F+Math.imul(he,Oe)|0;var Rt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,U=Math.imul(Fe,He),M=Math.imul(Fe,nt),M=M+Math.imul(Xe,He)|0,F=Math.imul(Xe,nt),U=U+Math.imul(Ue,Ke)|0,M=M+Math.imul(Ue,st)|0,M=M+Math.imul(Ye,Ke)|0,F=F+Math.imul(Ye,st)|0,U=U+Math.imul(Ne,Ge)|0,M=M+Math.imul(Ne,rt)|0,M=M+Math.imul(We,Ge)|0,F=F+Math.imul(We,rt)|0,U=U+Math.imul(Le,je)|0,M=M+Math.imul(Le,Qe)|0,M=M+Math.imul($e,je)|0,F=F+Math.imul($e,Qe)|0,U=U+Math.imul(ke,we)|0,M=M+Math.imul(ke,me)|0,M=M+Math.imul(De,we)|0,F=F+Math.imul(De,me)|0,U=U+Math.imul(ce,xe)|0,M=M+Math.imul(ce,Re)|0,M=M+Math.imul(Se,xe)|0,F=F+Math.imul(Se,Re)|0,U=U+Math.imul(ve,Ce)|0,M=M+Math.imul(ve,Ie)|0,M=M+Math.imul(Me,Ce)|0,F=F+Math.imul(Me,Ie)|0,U=U+Math.imul(de,Be)|0,M=M+Math.imul(de,Oe)|0,M=M+Math.imul(oe,Be)|0,F=F+Math.imul(oe,Oe)|0,U=U+Math.imul(ie,qe)|0,M=M+Math.imul(ie,Ze)|0,M=M+Math.imul(he,qe)|0,F=F+Math.imul(he,Ze)|0;var Tt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,U=Math.imul(Ve,He),M=Math.imul(Ve,nt),M=M+Math.imul(it,He)|0,F=Math.imul(it,nt),U=U+Math.imul(Fe,Ke)|0,M=M+Math.imul(Fe,st)|0,M=M+Math.imul(Xe,Ke)|0,F=F+Math.imul(Xe,st)|0,U=U+Math.imul(Ue,Ge)|0,M=M+Math.imul(Ue,rt)|0,M=M+Math.imul(Ye,Ge)|0,F=F+Math.imul(Ye,rt)|0,U=U+Math.imul(Ne,je)|0,M=M+Math.imul(Ne,Qe)|0,M=M+Math.imul(We,je)|0,F=F+Math.imul(We,Qe)|0,U=U+Math.imul(Le,we)|0,M=M+Math.imul(Le,me)|0,M=M+Math.imul($e,we)|0,F=F+Math.imul($e,me)|0,U=U+Math.imul(ke,xe)|0,M=M+Math.imul(ke,Re)|0,M=M+Math.imul(De,xe)|0,F=F+Math.imul(De,Re)|0,U=U+Math.imul(ce,Ce)|0,M=M+Math.imul(ce,Ie)|0,M=M+Math.imul(Se,Ce)|0,F=F+Math.imul(Se,Ie)|0,U=U+Math.imul(ve,Be)|0,M=M+Math.imul(ve,Oe)|0,M=M+Math.imul(Me,Be)|0,F=F+Math.imul(Me,Oe)|0,U=U+Math.imul(de,qe)|0,M=M+Math.imul(de,Ze)|0,M=M+Math.imul(oe,qe)|0,F=F+Math.imul(oe,Ze)|0,U=U+Math.imul(ie,ze)|0,M=M+Math.imul(ie,tt)|0,M=M+Math.imul(he,ze)|0,F=F+Math.imul(he,tt)|0;var $t=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+($t>>>26)|0,$t&=67108863,U=Math.imul(Ve,Ke),M=Math.imul(Ve,st),M=M+Math.imul(it,Ke)|0,F=Math.imul(it,st),U=U+Math.imul(Fe,Ge)|0,M=M+Math.imul(Fe,rt)|0,M=M+Math.imul(Xe,Ge)|0,F=F+Math.imul(Xe,rt)|0,U=U+Math.imul(Ue,je)|0,M=M+Math.imul(Ue,Qe)|0,M=M+Math.imul(Ye,je)|0,F=F+Math.imul(Ye,Qe)|0,U=U+Math.imul(Ne,we)|0,M=M+Math.imul(Ne,me)|0,M=M+Math.imul(We,we)|0,F=F+Math.imul(We,me)|0,U=U+Math.imul(Le,xe)|0,M=M+Math.imul(Le,Re)|0,M=M+Math.imul($e,xe)|0,F=F+Math.imul($e,Re)|0,U=U+Math.imul(ke,Ce)|0,M=M+Math.imul(ke,Ie)|0,M=M+Math.imul(De,Ce)|0,F=F+Math.imul(De,Ie)|0,U=U+Math.imul(ce,Be)|0,M=M+Math.imul(ce,Oe)|0,M=M+Math.imul(Se,Be)|0,F=F+Math.imul(Se,Oe)|0,U=U+Math.imul(ve,qe)|0,M=M+Math.imul(ve,Ze)|0,M=M+Math.imul(Me,qe)|0,F=F+Math.imul(Me,Ze)|0,U=U+Math.imul(de,ze)|0,M=M+Math.imul(de,tt)|0,M=M+Math.imul(oe,ze)|0,F=F+Math.imul(oe,tt)|0;var Ct=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,U=Math.imul(Ve,Ge),M=Math.imul(Ve,rt),M=M+Math.imul(it,Ge)|0,F=Math.imul(it,rt),U=U+Math.imul(Fe,je)|0,M=M+Math.imul(Fe,Qe)|0,M=M+Math.imul(Xe,je)|0,F=F+Math.imul(Xe,Qe)|0,U=U+Math.imul(Ue,we)|0,M=M+Math.imul(Ue,me)|0,M=M+Math.imul(Ye,we)|0,F=F+Math.imul(Ye,me)|0,U=U+Math.imul(Ne,xe)|0,M=M+Math.imul(Ne,Re)|0,M=M+Math.imul(We,xe)|0,F=F+Math.imul(We,Re)|0,U=U+Math.imul(Le,Ce)|0,M=M+Math.imul(Le,Ie)|0,M=M+Math.imul($e,Ce)|0,F=F+Math.imul($e,Ie)|0,U=U+Math.imul(ke,Be)|0,M=M+Math.imul(ke,Oe)|0,M=M+Math.imul(De,Be)|0,F=F+Math.imul(De,Oe)|0,U=U+Math.imul(ce,qe)|0,M=M+Math.imul(ce,Ze)|0,M=M+Math.imul(Se,qe)|0,F=F+Math.imul(Se,Ze)|0,U=U+Math.imul(ve,ze)|0,M=M+Math.imul(ve,tt)|0,M=M+Math.imul(Me,ze)|0,F=F+Math.imul(Me,tt)|0;var It=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(It>>>26)|0,It&=67108863,U=Math.imul(Ve,je),M=Math.imul(Ve,Qe),M=M+Math.imul(it,je)|0,F=Math.imul(it,Qe),U=U+Math.imul(Fe,we)|0,M=M+Math.imul(Fe,me)|0,M=M+Math.imul(Xe,we)|0,F=F+Math.imul(Xe,me)|0,U=U+Math.imul(Ue,xe)|0,M=M+Math.imul(Ue,Re)|0,M=M+Math.imul(Ye,xe)|0,F=F+Math.imul(Ye,Re)|0,U=U+Math.imul(Ne,Ce)|0,M=M+Math.imul(Ne,Ie)|0,M=M+Math.imul(We,Ce)|0,F=F+Math.imul(We,Ie)|0,U=U+Math.imul(Le,Be)|0,M=M+Math.imul(Le,Oe)|0,M=M+Math.imul($e,Be)|0,F=F+Math.imul($e,Oe)|0,U=U+Math.imul(ke,qe)|0,M=M+Math.imul(ke,Ze)|0,M=M+Math.imul(De,qe)|0,F=F+Math.imul(De,Ze)|0,U=U+Math.imul(ce,ze)|0,M=M+Math.imul(ce,tt)|0,M=M+Math.imul(Se,ze)|0,F=F+Math.imul(Se,tt)|0;var Bt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,U=Math.imul(Ve,we),M=Math.imul(Ve,me),M=M+Math.imul(it,we)|0,F=Math.imul(it,me),U=U+Math.imul(Fe,xe)|0,M=M+Math.imul(Fe,Re)|0,M=M+Math.imul(Xe,xe)|0,F=F+Math.imul(Xe,Re)|0,U=U+Math.imul(Ue,Ce)|0,M=M+Math.imul(Ue,Ie)|0,M=M+Math.imul(Ye,Ce)|0,F=F+Math.imul(Ye,Ie)|0,U=U+Math.imul(Ne,Be)|0,M=M+Math.imul(Ne,Oe)|0,M=M+Math.imul(We,Be)|0,F=F+Math.imul(We,Oe)|0,U=U+Math.imul(Le,qe)|0,M=M+Math.imul(Le,Ze)|0,M=M+Math.imul($e,qe)|0,F=F+Math.imul($e,Ze)|0,U=U+Math.imul(ke,ze)|0,M=M+Math.imul(ke,tt)|0,M=M+Math.imul(De,ze)|0,F=F+Math.imul(De,tt)|0;var kt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(kt>>>26)|0,kt&=67108863,U=Math.imul(Ve,xe),M=Math.imul(Ve,Re),M=M+Math.imul(it,xe)|0,F=Math.imul(it,Re),U=U+Math.imul(Fe,Ce)|0,M=M+Math.imul(Fe,Ie)|0,M=M+Math.imul(Xe,Ce)|0,F=F+Math.imul(Xe,Ie)|0,U=U+Math.imul(Ue,Be)|0,M=M+Math.imul(Ue,Oe)|0,M=M+Math.imul(Ye,Be)|0,F=F+Math.imul(Ye,Oe)|0,U=U+Math.imul(Ne,qe)|0,M=M+Math.imul(Ne,Ze)|0,M=M+Math.imul(We,qe)|0,F=F+Math.imul(We,Ze)|0,U=U+Math.imul(Le,ze)|0,M=M+Math.imul(Le,tt)|0,M=M+Math.imul($e,ze)|0,F=F+Math.imul($e,tt)|0;var Dt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,U=Math.imul(Ve,Ce),M=Math.imul(Ve,Ie),M=M+Math.imul(it,Ce)|0,F=Math.imul(it,Ie),U=U+Math.imul(Fe,Be)|0,M=M+Math.imul(Fe,Oe)|0,M=M+Math.imul(Xe,Be)|0,F=F+Math.imul(Xe,Oe)|0,U=U+Math.imul(Ue,qe)|0,M=M+Math.imul(Ue,Ze)|0,M=M+Math.imul(Ye,qe)|0,F=F+Math.imul(Ye,Ze)|0,U=U+Math.imul(Ne,ze)|0,M=M+Math.imul(Ne,tt)|0,M=M+Math.imul(We,ze)|0,F=F+Math.imul(We,tt)|0;var qt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(qt>>>26)|0,qt&=67108863,U=Math.imul(Ve,Be),M=Math.imul(Ve,Oe),M=M+Math.imul(it,Be)|0,F=Math.imul(it,Oe),U=U+Math.imul(Fe,qe)|0,M=M+Math.imul(Fe,Ze)|0,M=M+Math.imul(Xe,qe)|0,F=F+Math.imul(Xe,Ze)|0,U=U+Math.imul(Ue,ze)|0,M=M+Math.imul(Ue,tt)|0,M=M+Math.imul(Ye,ze)|0,F=F+Math.imul(Ye,tt)|0;var Pt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,U=Math.imul(Ve,qe),M=Math.imul(Ve,Ze),M=M+Math.imul(it,qe)|0,F=Math.imul(it,Ze),U=U+Math.imul(Fe,ze)|0,M=M+Math.imul(Fe,tt)|0,M=M+Math.imul(Xe,ze)|0,F=F+Math.imul(Xe,tt)|0;var Nt=(Z+U|0)+((M&8191)<<13)|0;Z=(F+(M>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,U=Math.imul(Ve,ze),M=Math.imul(Ve,tt),M=M+Math.imul(it,ze)|0,F=Math.imul(it,tt);var Ot=(Z+U|0)+((M&8191)<<13)|0;return Z=(F+(M>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,W[0]=dt,W[1]=pt,W[2]=xt,W[3]=St,W[4]=Mt,W[5]=Et,W[6]=At,W[7]=Rt,W[8]=Tt,W[9]=$t,W[10]=Ct,W[11]=It,W[12]=Bt,W[13]=kt,W[14]=Dt,W[15]=qt,W[16]=Pt,W[17]=Nt,W[18]=Ot,Z!==0&&(W[19]=Z,P.length++),P};Math.imul||(re=ee);function ne(J,u,T){T.negative=u.negative^J.negative,T.length=J.length+u.length;for(var P=0,N=0,L=0;L<T.length-1;L++){var W=N;N=0;for(var Z=P&67108863,U=Math.min(L,u.length-1),M=Math.max(0,L-J.length+1);M<=U;M++){var F=L-M,te=J.words[F]|0,ie=u.words[M]|0,he=te*ie,pe=he&67108863;W=W+(he/67108864|0)|0,pe=pe+Z|0,Z=pe&67108863,W=W+(pe>>>26)|0,N+=W>>>26,W&=67108863}T.words[L]=Z,P=W,W=N}return P!==0?T.words[L]=P:T.length--,T.strip()}function se(J,u,T){var P=new ae;return P.mulp(J,u,T)}$.prototype.mulTo=function(u,T){var P,N=this.length+u.length;return this.length===10&&u.length===10?P=re(this,u,T):N<63?P=ee(this,u,T):N<1024?P=ne(this,u,T):P=se(this,u,T),P};function ae(J,u){this.x=J,this.y=u}ae.prototype.makeRBT=function(u){for(var T=new Array(u),P=$.prototype._countBits(u)-1,N=0;N<u;N++)T[N]=this.revBin(N,P,u);return T},ae.prototype.revBin=function(u,T,P){if(u===0||u===P-1)return u;for(var N=0,L=0;L<T;L++)N|=(u&1)<<T-L-1,u>>=1;return N},ae.prototype.permute=function(u,T,P,N,L,W){for(var Z=0;Z<W;Z++)N[Z]=T[u[Z]],L[Z]=P[u[Z]]},ae.prototype.transform=function(u,T,P,N,L,W){this.permute(W,u,T,P,N,L);for(var Z=1;Z<L;Z<<=1)for(var U=Z<<1,M=Math.cos(2*Math.PI/U),F=Math.sin(2*Math.PI/U),te=0;te<L;te+=U)for(var ie=M,he=F,pe=0;pe<Z;pe++){var de=P[te+pe],oe=N[te+pe],le=P[te+pe+Z],ve=N[te+pe+Z],Me=ie*le-he*ve;ve=ie*ve+he*le,le=Me,P[te+pe]=de+le,N[te+pe]=oe+ve,P[te+pe+Z]=de-le,N[te+pe+Z]=oe-ve,pe!==U&&(Me=M*ie-F*he,he=M*he+F*ie,ie=Me)}},ae.prototype.guessLen13b=function(u,T){var P=Math.max(T,u)|1,N=P&1,L=0;for(P=P/2|0;P;P=P>>>1)L++;return 1<<L+1+N},ae.prototype.conjugate=function(u,T,P){if(!(P<=1))for(var N=0;N<P/2;N++){var L=u[N];u[N]=u[P-N-1],u[P-N-1]=L,L=T[N],T[N]=-T[P-N-1],T[P-N-1]=-L}},ae.prototype.normalize13b=function(u,T){for(var P=0,N=0;N<T/2;N++){var L=Math.round(u[2*N+1]/T)*8192+Math.round(u[2*N]/T)+P;u[N]=L&67108863,L<67108864?P=0:P=L/67108864|0}return u},ae.prototype.convert13b=function(u,T,P,N){for(var L=0,W=0;W<T;W++)L=L+(u[W]|0),P[2*W]=L&8191,L=L>>>13,P[2*W+1]=L&8191,L=L>>>13;for(W=2*T;W<N;++W)P[W]=0;q(L===0),q((L&-8192)===0)},ae.prototype.stub=function(u){for(var T=new Array(u),P=0;P<u;P++)T[P]=0;return T},ae.prototype.mulp=function(u,T,P){var N=2*this.guessLen13b(u.length,T.length),L=this.makeRBT(N),W=this.stub(N),Z=new Array(N),U=new Array(N),M=new Array(N),F=new Array(N),te=new Array(N),ie=new Array(N),he=P.words;he.length=N,this.convert13b(u.words,u.length,Z,N),this.convert13b(T.words,T.length,F,N),this.transform(Z,W,U,M,N,L),this.transform(F,W,te,ie,N,L);for(var pe=0;pe<N;pe++){var de=U[pe]*te[pe]-M[pe]*ie[pe];M[pe]=U[pe]*ie[pe]+M[pe]*te[pe],U[pe]=de}return this.conjugate(U,M,N),this.transform(U,M,he,W,N,L),this.conjugate(he,W,N),this.normalize13b(he,N),P.negative=u.negative^T.negative,P.length=u.length+T.length,P.strip()},$.prototype.mul=function(u){var T=new $(null);return T.words=new Array(this.length+u.length),this.mulTo(u,T)},$.prototype.mulf=function(u){var T=new $(null);return T.words=new Array(this.length+u.length),se(this,u,T)},$.prototype.imul=function(u){return this.clone().mulTo(u,this)},$.prototype.imuln=function(u){q(typeof u=="number"),q(u<67108864);for(var T=0,P=0;P<this.length;P++){var N=(this.words[P]|0)*u,L=(N&67108863)+(T&67108863);T>>=26,T+=N/67108864|0,T+=L>>>26,this.words[P]=L&67108863}return T!==0&&(this.words[P]=T,this.length++),this},$.prototype.muln=function(u){return this.clone().imuln(u)},$.prototype.sqr=function(){return this.mul(this)},$.prototype.isqr=function(){return this.imul(this.clone())},$.prototype.pow=function(u){var T=Q(u);if(T.length===0)return new $(1);for(var P=this,N=0;N<T.length&&T[N]===0;N++,P=P.sqr());if(++N<T.length)for(var L=P.sqr();N<T.length;N++,L=L.sqr())T[N]!==0&&(P=P.mul(L));return P},$.prototype.iushln=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26,N=67108863>>>26-T<<26-T,L;if(T!==0){var W=0;for(L=0;L<this.length;L++){var Z=this.words[L]&N,U=(this.words[L]|0)-Z<<T;this.words[L]=U|W,W=Z>>>26-T}W&&(this.words[L]=W,this.length++)}if(P!==0){for(L=this.length-1;L>=0;L--)this.words[L+P]=this.words[L];for(L=0;L<P;L++)this.words[L]=0;this.length+=P}return this.strip()},$.prototype.ishln=function(u){return q(this.negative===0),this.iushln(u)},$.prototype.iushrn=function(u,T,P){q(typeof u=="number"&&u>=0);var N;T?N=(T-T%26)/26:N=0;var L=u%26,W=Math.min((u-L)/26,this.length),Z=67108863^67108863>>>L<<L,U=P;if(N-=W,N=Math.max(0,N),U){for(var M=0;M<W;M++)U.words[M]=this.words[M];U.length=W}if(W!==0)if(this.length>W)for(this.length-=W,M=0;M<this.length;M++)this.words[M]=this.words[M+W];else this.words[0]=0,this.length=1;var F=0;for(M=this.length-1;M>=0&&(F!==0||M>=N);M--){var te=this.words[M]|0;this.words[M]=F<<26-L|te>>>L,F=te&Z}return U&&F!==0&&(U.words[U.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},$.prototype.ishrn=function(u,T,P){return q(this.negative===0),this.iushrn(u,T,P)},$.prototype.shln=function(u){return this.clone().ishln(u)},$.prototype.ushln=function(u){return this.clone().iushln(u)},$.prototype.shrn=function(u){return this.clone().ishrn(u)},$.prototype.ushrn=function(u){return this.clone().iushrn(u)},$.prototype.testn=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26,N=1<<T;if(this.length<=P)return!1;var L=this.words[P];return!!(L&N)},$.prototype.imaskn=function(u){q(typeof u=="number"&&u>=0);var T=u%26,P=(u-T)/26;if(q(this.negative===0,"imaskn works only with positive numbers"),this.length<=P)return this;if(T!==0&&P++,this.length=Math.min(P,this.length),T!==0){var N=67108863^67108863>>>T<<T;this.words[this.length-1]&=N}return this.strip()},$.prototype.maskn=function(u){return this.clone().imaskn(u)},$.prototype.iaddn=function(u){return q(typeof u=="number"),q(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},$.prototype._iaddn=function(u){this.words[0]+=u;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},$.prototype.isubn=function(u){if(q(typeof u=="number"),q(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this.strip()},$.prototype.addn=function(u){return this.clone().iaddn(u)},$.prototype.subn=function(u){return this.clone().isubn(u)},$.prototype.iabs=function(){return this.negative=0,this},$.prototype.abs=function(){return this.clone().iabs()},$.prototype._ishlnsubmul=function(u,T,P){var N=u.length+P,L;this._expand(N);var W,Z=0;for(L=0;L<u.length;L++){W=(this.words[L+P]|0)+Z;var U=(u.words[L]|0)*T;W-=U&67108863,Z=(W>>26)-(U/67108864|0),this.words[L+P]=W&67108863}for(;L<this.length-P;L++)W=(this.words[L+P]|0)+Z,Z=W>>26,this.words[L+P]=W&67108863;if(Z===0)return this.strip();for(q(Z===-1),Z=0,L=0;L<this.length;L++)W=-(this.words[L]|0)+Z,Z=W>>26,this.words[L]=W&67108863;return this.negative=1,this.strip()},$.prototype._wordDiv=function(u,T){var P=this.length-u.length,N=this.clone(),L=u,W=L.words[L.length-1]|0,Z=this._countBits(W);P=26-Z,P!==0&&(L=L.ushln(P),N.iushln(P),W=L.words[L.length-1]|0);var U=N.length-L.length,M;if(T!=="mod"){M=new $(null),M.length=U+1,M.words=new Array(M.length);for(var F=0;F<M.length;F++)M.words[F]=0}var te=N.clone()._ishlnsubmul(L,1,U);te.negative===0&&(N=te,M&&(M.words[U]=1));for(var ie=U-1;ie>=0;ie--){var he=(N.words[L.length+ie]|0)*67108864+(N.words[L.length+ie-1]|0);for(he=Math.min(he/W|0,67108863),N._ishlnsubmul(L,he,ie);N.negative!==0;)he--,N.negative=0,N._ishlnsubmul(L,1,ie),N.isZero()||(N.negative^=1);M&&(M.words[ie]=he)}return M&&M.strip(),N.strip(),T!=="div"&&P!==0&&N.iushrn(P),{div:M||null,mod:N}},$.prototype.divmod=function(u,T,P){if(q(!u.isZero()),this.isZero())return{div:new $(0),mod:new $(0)};var N,L,W;return this.negative!==0&&u.negative===0?(W=this.neg().divmod(u,T),T!=="mod"&&(N=W.div.neg()),T!=="div"&&(L=W.mod.neg(),P&&L.negative!==0&&L.iadd(u)),{div:N,mod:L}):this.negative===0&&u.negative!==0?(W=this.divmod(u.neg(),T),T!=="mod"&&(N=W.div.neg()),{div:N,mod:W.mod}):this.negative&u.negative?(W=this.neg().divmod(u.neg(),T),T!=="div"&&(L=W.mod.neg(),P&&L.negative!==0&&L.isub(u)),{div:W.div,mod:L}):u.length>this.length||this.cmp(u)<0?{div:new $(0),mod:this}:u.length===1?T==="div"?{div:this.divn(u.words[0]),mod:null}:T==="mod"?{div:null,mod:new $(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new $(this.modn(u.words[0]))}:this._wordDiv(u,T)},$.prototype.div=function(u){return this.divmod(u,"div",!1).div},$.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},$.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},$.prototype.divRound=function(u){var T=this.divmod(u);if(T.mod.isZero())return T.div;var P=T.div.negative!==0?T.mod.isub(u):T.mod,N=u.ushrn(1),L=u.andln(1),W=P.cmp(N);return W<0||L===1&&W===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},$.prototype.modn=function(u){q(u<=67108863);for(var T=(1<<26)%u,P=0,N=this.length-1;N>=0;N--)P=(T*P+(this.words[N]|0))%u;return P},$.prototype.idivn=function(u){q(u<=67108863);for(var T=0,P=this.length-1;P>=0;P--){var N=(this.words[P]|0)+T*67108864;this.words[P]=N/u|0,T=N%u}return this.strip()},$.prototype.divn=function(u){return this.clone().idivn(u)},$.prototype.egcd=function(u){q(u.negative===0),q(!u.isZero());var T=this,P=u.clone();T.negative!==0?T=T.umod(u):T=T.clone();for(var N=new $(1),L=new $(0),W=new $(0),Z=new $(1),U=0;T.isEven()&&P.isEven();)T.iushrn(1),P.iushrn(1),++U;for(var M=P.clone(),F=T.clone();!T.isZero();){for(var te=0,ie=1;!(T.words[0]&ie)&&te<26;++te,ie<<=1);if(te>0)for(T.iushrn(te);te-- >0;)(N.isOdd()||L.isOdd())&&(N.iadd(M),L.isub(F)),N.iushrn(1),L.iushrn(1);for(var he=0,pe=1;!(P.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(P.iushrn(he);he-- >0;)(W.isOdd()||Z.isOdd())&&(W.iadd(M),Z.isub(F)),W.iushrn(1),Z.iushrn(1);T.cmp(P)>=0?(T.isub(P),N.isub(W),L.isub(Z)):(P.isub(T),W.isub(N),Z.isub(L))}return{a:W,b:Z,gcd:P.iushln(U)}},$.prototype._invmp=function(u){q(u.negative===0),q(!u.isZero());var T=this,P=u.clone();T.negative!==0?T=T.umod(u):T=T.clone();for(var N=new $(1),L=new $(0),W=P.clone();T.cmpn(1)>0&&P.cmpn(1)>0;){for(var Z=0,U=1;!(T.words[0]&U)&&Z<26;++Z,U<<=1);if(Z>0)for(T.iushrn(Z);Z-- >0;)N.isOdd()&&N.iadd(W),N.iushrn(1);for(var M=0,F=1;!(P.words[0]&F)&&M<26;++M,F<<=1);if(M>0)for(P.iushrn(M);M-- >0;)L.isOdd()&&L.iadd(W),L.iushrn(1);T.cmp(P)>=0?(T.isub(P),N.isub(L)):(P.isub(T),L.isub(N))}var te;return T.cmpn(1)===0?te=N:te=L,te.cmpn(0)<0&&te.iadd(u),te},$.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var T=this.clone(),P=u.clone();T.negative=0,P.negative=0;for(var N=0;T.isEven()&&P.isEven();N++)T.iushrn(1),P.iushrn(1);do{for(;T.isEven();)T.iushrn(1);for(;P.isEven();)P.iushrn(1);var L=T.cmp(P);if(L<0){var W=T;T=P,P=W}else if(L===0||P.cmpn(1)===0)break;T.isub(P)}while(!0);return P.iushln(N)},$.prototype.invm=function(u){return this.egcd(u).a.umod(u)},$.prototype.isEven=function(){return(this.words[0]&1)===0},$.prototype.isOdd=function(){return(this.words[0]&1)===1},$.prototype.andln=function(u){return this.words[0]&u},$.prototype.bincn=function(u){q(typeof u=="number");var T=u%26,P=(u-T)/26,N=1<<T;if(this.length<=P)return this._expand(P+1),this.words[P]|=N,this;for(var L=N,W=P;L!==0&&W<this.length;W++){var Z=this.words[W]|0;Z+=L,L=Z>>>26,Z&=67108863,this.words[W]=Z}return L!==0&&(this.words[W]=L,this.length++),this},$.prototype.isZero=function(){return this.length===1&&this.words[0]===0},$.prototype.cmpn=function(u){var T=u<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;this.strip();var P;if(this.length>1)P=1;else{T&&(u=-u),q(u<=67108863,"Number is too big");var N=this.words[0]|0;P=N===u?0:N<u?-1:1}return this.negative!==0?-P|0:P},$.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var T=this.ucmp(u);return this.negative!==0?-T|0:T},$.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var T=0,P=this.length-1;P>=0;P--){var N=this.words[P]|0,L=u.words[P]|0;if(N!==L){N<L?T=-1:N>L&&(T=1);break}}return T},$.prototype.gtn=function(u){return this.cmpn(u)===1},$.prototype.gt=function(u){return this.cmp(u)===1},$.prototype.gten=function(u){return this.cmpn(u)>=0},$.prototype.gte=function(u){return this.cmp(u)>=0},$.prototype.ltn=function(u){return this.cmpn(u)===-1},$.prototype.lt=function(u){return this.cmp(u)===-1},$.prototype.lten=function(u){return this.cmpn(u)<=0},$.prototype.lte=function(u){return this.cmp(u)<=0},$.prototype.eqn=function(u){return this.cmpn(u)===0},$.prototype.eq=function(u){return this.cmp(u)===0},$.red=function(u){return new be(u)},$.prototype.toRed=function(u){return q(!this.red,"Already a number in reduction context"),q(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},$.prototype.fromRed=function(){return q(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},$.prototype._forceRed=function(u){return this.red=u,this},$.prototype.forceRed=function(u){return q(!this.red,"Already a number in reduction context"),this._forceRed(u)},$.prototype.redAdd=function(u){return q(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},$.prototype.redIAdd=function(u){return q(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},$.prototype.redSub=function(u){return q(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},$.prototype.redISub=function(u){return q(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},$.prototype.redShl=function(u){return q(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},$.prototype.redMul=function(u){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},$.prototype.redIMul=function(u){return q(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},$.prototype.redSqr=function(){return q(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},$.prototype.redISqr=function(){return q(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},$.prototype.redSqrt=function(){return q(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},$.prototype.redInvm=function(){return q(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},$.prototype.redNeg=function(){return q(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},$.prototype.redPow=function(u){return q(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var fe={k256:null,p224:null,p192:null,p25519:null};function ue(J,u){this.name=J,this.p=new $(u,16),this.n=this.p.bitLength(),this.k=new $(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ue.prototype._tmp=function(){var u=new $(null);return u.words=new Array(Math.ceil(this.n/13)),u},ue.prototype.ireduce=function(u){var T=u,P;do this.split(T,this.tmp),T=this.imulK(T),T=T.iadd(this.tmp),P=T.bitLength();while(P>this.n);var N=P<this.n?-1:T.ucmp(this.p);return N===0?(T.words[0]=0,T.length=1):N>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},ue.prototype.split=function(u,T){u.iushrn(this.n,0,T)},ue.prototype.imulK=function(u){return u.imul(this.k)};function _e(){ue.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}O(_e,ue),_e.prototype.split=function(u,T){for(var P=4194303,N=Math.min(u.length,9),L=0;L<N;L++)T.words[L]=u.words[L];if(T.length=N,u.length<=9){u.words[0]=0,u.length=1;return}var W=u.words[9];for(T.words[T.length++]=W&P,L=10;L<u.length;L++){var Z=u.words[L]|0;u.words[L-10]=(Z&P)<<4|W>>>22,W=Z}W>>>=22,u.words[L-10]=W,W===0&&u.length>10?u.length-=10:u.length-=9},_e.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var T=0,P=0;P<u.length;P++){var N=u.words[P]|0;T+=N*977,u.words[P]=T&67108863,T=N*64+(T/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function ge(){ue.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}O(ge,ue);function Ae(){ue.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}O(Ae,ue);function Te(){ue.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}O(Te,ue),Te.prototype.imulK=function(u){for(var T=0,P=0;P<u.length;P++){var N=(u.words[P]|0)*19+T,L=N&67108863;N>>>=26,u.words[P]=L,T=N}return T!==0&&(u.words[u.length++]=T),u},$._prime=function(u){if(fe[u])return fe[u];var T;if(u==="k256")T=new _e;else if(u==="p224")T=new ge;else if(u==="p192")T=new Ae;else if(u==="p25519")T=new Te;else throw new Error("Unknown prime "+u);return fe[u]=T,T};function be(J){if(typeof J=="string"){var u=$._prime(J);this.m=u.p,this.prime=u}else q(J.gtn(1),"modulus must be greater than 1"),this.m=J,this.prime=null}be.prototype._verify1=function(u){q(u.negative===0,"red works only with positives"),q(u.red,"red works only with red numbers")},be.prototype._verify2=function(u,T){q((u.negative|T.negative)===0,"red works only with positives"),q(u.red&&u.red===T.red,"red works only with red numbers")},be.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},be.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},be.prototype.add=function(u,T){this._verify2(u,T);var P=u.add(T);return P.cmp(this.m)>=0&&P.isub(this.m),P._forceRed(this)},be.prototype.iadd=function(u,T){this._verify2(u,T);var P=u.iadd(T);return P.cmp(this.m)>=0&&P.isub(this.m),P},be.prototype.sub=function(u,T){this._verify2(u,T);var P=u.sub(T);return P.cmpn(0)<0&&P.iadd(this.m),P._forceRed(this)},be.prototype.isub=function(u,T){this._verify2(u,T);var P=u.isub(T);return P.cmpn(0)<0&&P.iadd(this.m),P},be.prototype.shl=function(u,T){return this._verify1(u),this.imod(u.ushln(T))},be.prototype.imul=function(u,T){return this._verify2(u,T),this.imod(u.imul(T))},be.prototype.mul=function(u,T){return this._verify2(u,T),this.imod(u.mul(T))},be.prototype.isqr=function(u){return this.imul(u,u.clone())},be.prototype.sqr=function(u){return this.mul(u,u)},be.prototype.sqrt=function(u){if(u.isZero())return u.clone();var T=this.m.andln(3);if(q(T%2===1),T===3){var P=this.m.add(new $(1)).iushrn(2);return this.pow(u,P)}for(var N=this.m.subn(1),L=0;!N.isZero()&&N.andln(1)===0;)L++,N.iushrn(1);q(!N.isZero());var W=new $(1).toRed(this),Z=W.redNeg(),U=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new $(2*M*M).toRed(this);this.pow(M,U).cmp(Z)!==0;)M.redIAdd(Z);for(var F=this.pow(M,N),te=this.pow(u,N.addn(1).iushrn(1)),ie=this.pow(u,N),he=L;ie.cmp(W)!==0;){for(var pe=ie,de=0;pe.cmp(W)!==0;de++)pe=pe.redSqr();q(de<he);var oe=this.pow(F,new $(1).iushln(he-de-1));te=te.redMul(oe),F=oe.redSqr(),ie=ie.redMul(F),he=de}return te},be.prototype.invm=function(u){var T=u._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},be.prototype.pow=function(u,T){if(T.isZero())return new $(1).toRed(this);if(T.cmpn(1)===0)return u.clone();var P=4,N=new Array(1<<P);N[0]=new $(1).toRed(this),N[1]=u;for(var L=2;L<N.length;L++)N[L]=this.mul(N[L-1],u);var W=N[0],Z=0,U=0,M=T.bitLength()%26;for(M===0&&(M=26),L=T.length-1;L>=0;L--){for(var F=T.words[L],te=M-1;te>=0;te--){var ie=F>>te&1;if(W!==N[0]&&(W=this.sqr(W)),ie===0&&Z===0){U=0;continue}Z<<=1,Z|=ie,U++,!(U!==P&&(L!==0||te!==0))&&(W=this.mul(W,N[Z]),U=0,Z=0)}M=26}return W},be.prototype.convertTo=function(u){var T=u.umod(this.m);return T===u?T.clone():T},be.prototype.convertFrom=function(u){var T=u.clone();return T.red=null,T},$.mont=function(u){return new Pe(u)};function Pe(J){be.call(this,J),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new $(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O(Pe,be),Pe.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Pe.prototype.convertFrom=function(u){var T=this.imod(u.mul(this.rinv));return T.red=null,T},Pe.prototype.imul=function(u,T){if(u.isZero()||T.isZero())return u.words[0]=0,u.length=1,u;var P=u.imul(T),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=P.isub(N).iushrn(this.shift),W=L;return L.cmp(this.m)>=0?W=L.isub(this.m):L.cmpn(0)<0&&(W=L.iadd(this.m)),W._forceRed(this)},Pe.prototype.mul=function(u,T){if(u.isZero()||T.isZero())return new $(0)._forceRed(this);var P=u.mul(T),N=P.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=P.isub(N).iushrn(this.shift),W=L;return L.cmp(this.m)>=0?W=L.isub(this.m):L.cmpn(0)<0&&(W=L.iadd(this.m)),W._forceRed(this)},Pe.prototype.invm=function(u){var T=this.imod(u._invmp(this.m).mul(this.r2));return T._forceRed(this)}})(B,commonjsGlobal)}(bn)),bn.exports}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var B=requireBn(),S=requireSafeBuffer$6().Buffer;function D(q,O){return S.from(q.toRed(B.mont(O.modulus)).redPow(new B(O.publicExponent)).fromRed().toArray())}return withPublic_1=D,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var B=requireParseAsn1(),S=requireBrowser$b(),D=requireBrowser$9(),q=requireMgf(),O=requireXor(),$=requireBn(),j=requireWithPublic(),G=requireBrowserifyRsa(),V=requireSafeBuffer$6().Buffer;publicEncrypt=function(Q,ee,re){var ne;Q.padding?ne=Q.padding:re?ne=1:ne=4;var se=B(Q),ae;if(ne===4)ae=K(se,ee);else if(ne===1)ae=H(se,ee,re);else if(ne===3){if(ae=new $(ee),ae.cmp(se.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return re?G(ae,se):j(ae,se)};function K(X,Q){var ee=X.modulus.byteLength(),re=Q.length,ne=D("sha1").update(V.alloc(0)).digest(),se=ne.length,ae=2*se;if(re>ee-ae-2)throw new Error("message too long");var fe=V.alloc(ee-re-ae-2),ue=ee-se-1,_e=S(se),ge=O(V.concat([ne,fe,V.alloc(1,1),Q],ue),q(_e,ue)),Ae=O(_e,q(ge,se));return new $(V.concat([V.alloc(1),Ae,ge],ee))}function H(X,Q,ee){var re=Q.length,ne=X.modulus.byteLength();if(re>ne-11)throw new Error("message too long");var se;return ee?se=V.alloc(ne-re-3,255):se=Y(ne-re-3),new $(V.concat([V.from([0,ee?1:2]),se,V.alloc(1),Q],ne))}function Y(X){for(var Q=V.allocUnsafe(X),ee=0,re=S(X*2),ne=0,se;ee<X;)ne===re.length&&(re=S(X*2),ne=0),se=re[ne++],se&&(Q[ee++]=se);return Q}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var B=requireParseAsn1(),S=requireMgf(),D=requireXor(),q=requireBn(),O=requireBrowserifyRsa(),$=requireBrowser$9(),j=requireWithPublic(),G=requireSafeBuffer$6().Buffer;privateDecrypt=function(X,Q,ee){var re;X.padding?re=X.padding:ee?re=1:re=4;var ne=B(X),se=ne.modulus.byteLength();if(Q.length>se||new q(Q).cmp(ne.modulus)>=0)throw new Error("decryption error");var ae;ee?ae=j(new q(Q),ne):ae=O(Q,ne);var fe=G.alloc(se-ae.length);if(ae=G.concat([fe,ae],se),re===4)return V(ne,ae);if(re===1)return K(ne,ae,ee);if(re===3)return ae;throw new Error("unknown padding")};function V(Y,X){var Q=Y.modulus.byteLength(),ee=$("sha1").update(G.alloc(0)).digest(),re=ee.length;if(X[0]!==0)throw new Error("decryption error");var ne=X.slice(1,re+1),se=X.slice(re+1),ae=D(ne,S(se,re)),fe=D(se,S(ae,Q-re-1));if(H(ee,fe.slice(0,re)))throw new Error("decryption error");for(var ue=re;fe[ue]===0;)ue++;if(fe[ue++]!==1)throw new Error("decryption error");return fe.slice(ue)}function K(Y,X,Q){for(var ee=X.slice(0,2),re=2,ne=0;X[re++]!==0;)if(re>=X.length){ne++;break}var se=X.slice(2,re-1);if((ee.toString("hex")!=="0002"&&!Q||ee.toString("hex")!=="0001"&&Q)&&ne++,se.length<8&&ne++,ne)throw new Error("decryption error");return X.slice(re)}function H(Y,X){Y=G.from(Y),X=G.from(X);var Q=0,ee=Y.length;Y.length!==X.length&&(Q++,ee=Math.min(Y.length,X.length));for(var re=-1;++re<ee;)Q+=Y[re]^X[re];return Q}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(B){B.publicEncrypt=requirePublicEncrypt(),B.privateDecrypt=requirePrivateDecrypt(),B.privateEncrypt=function(D,q){return B.publicEncrypt(D,q,!0)},B.publicDecrypt=function(D,q){return B.privateDecrypt(D,q,!0)}}(browser$1)),browser$1}var browser={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;function B(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var S=requireSafeBuffer$6(),D=requireBrowser$b(),q=S.Buffer,O=S.kMaxLength,$=commonjsGlobal.crypto||commonjsGlobal.msCrypto,j=Math.pow(2,32)-1;function G(X,Q){if(typeof X!="number"||X!==X)throw new TypeError("offset must be a number");if(X>j||X<0)throw new TypeError("offset must be a uint32");if(X>O||X>Q)throw new RangeError("offset out of range")}function V(X,Q,ee){if(typeof X!="number"||X!==X)throw new TypeError("size must be a number");if(X>j||X<0)throw new TypeError("size must be a uint32");if(X+Q>ee||X>O)throw new RangeError("buffer too small")}$&&$.getRandomValues||!process$1.browser?(browser.randomFill=K,browser.randomFillSync=Y):(browser.randomFill=B,browser.randomFillSync=B);function K(X,Q,ee,re){if(!q.isBuffer(X)&&!(X instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof Q=="function")re=Q,Q=0,ee=X.length;else if(typeof ee=="function")re=ee,ee=X.length-Q;else if(typeof re!="function")throw new TypeError('"cb" argument must be a function');return G(Q,X.length),V(ee,Q,X.length),H(X,Q,ee,re)}function H(X,Q,ee,re){if(process$1.browser){var ne=X.buffer,se=new Uint8Array(ne,Q,ee);if($.getRandomValues(se),re){process$1.nextTick(function(){re(null,X)});return}return X}if(re){D(ee,function(fe,ue){if(fe)return re(fe);ue.copy(X,Q),re(null,X)});return}var ae=D(ee);return ae.copy(X,Q),X}function Y(X,Q,ee){if(typeof Q>"u"&&(Q=0),!q.isBuffer(X)&&!(X instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return G(Q,X.length),ee===void 0&&(ee=X.length-Q),V(ee,Q,X.length),H(X,Q,ee)}return browser}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var B=requireAlgos(),S=Object.keys(B),D=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(S);cryptoBrowserify.getHashes=function(){return D};var q=requireBrowser$7();cryptoBrowserify.pbkdf2=q.pbkdf2,cryptoBrowserify.pbkdf2Sync=q.pbkdf2Sync;var O=requireBrowser$5();cryptoBrowserify.Cipher=O.Cipher,cryptoBrowserify.createCipher=O.createCipher,cryptoBrowserify.Cipheriv=O.Cipheriv,cryptoBrowserify.createCipheriv=O.createCipheriv,cryptoBrowserify.Decipher=O.Decipher,cryptoBrowserify.createDecipher=O.createDecipher,cryptoBrowserify.Decipheriv=O.Decipheriv,cryptoBrowserify.createDecipheriv=O.createDecipheriv,cryptoBrowserify.getCiphers=O.getCiphers,cryptoBrowserify.listCiphers=O.listCiphers;var $=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=$.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=$.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=$.getDiffieHellman,cryptoBrowserify.createDiffieHellman=$.createDiffieHellman,cryptoBrowserify.DiffieHellman=$.DiffieHellman;var j=requireBrowser$3();cryptoBrowserify.createSign=j.createSign,cryptoBrowserify.Sign=j.Sign,cryptoBrowserify.createVerify=j.createVerify,cryptoBrowserify.Verify=j.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var G=requireBrowser$1();cryptoBrowserify.publicEncrypt=G.publicEncrypt,cryptoBrowserify.privateEncrypt=G.privateEncrypt,cryptoBrowserify.publicDecrypt=G.publicDecrypt,cryptoBrowserify.privateDecrypt=G.privateDecrypt;var V=requireBrowser();return cryptoBrowserify.randomFill=V.randomFill,cryptoBrowserify.randomFillSync=V.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}(function(B){/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */Object.defineProperty(B,"__esModule",{value:!0}),B.utils=B.schnorr=B.verify=B.signSync=B.sign=B.getSharedSecret=B.recoverPublicKey=B.getPublicKey=B.Signature=B.Point=B.CURVE=void 0;const S=requireCryptoBrowserify(),D=BigInt(0),q=BigInt(1),O=BigInt(2),$=BigInt(3),j=BigInt(8),G=Object.freeze({a:D,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:q,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});B.CURVE=G;const V=(we,me)=>(we+me/O)/me,K={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(we){const{n:me}=G,Ee=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),xe=-q*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),Re=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Je=Ee,Ce=BigInt("0x100000000000000000000000000000000"),Ie=V(Je*we,me),at=V(-xe*we,me);let Be=ie(we-Ie*Ee-at*Re,me),Oe=ie(-Ie*xe-at*Je,me);const ft=Be>Ce,qe=Oe>Ce;if(ft&&(Be=me-Be),qe&&(Oe=me-Oe),Be>Ce||Oe>Ce)throw new Error("splitScalarEndo: Endomorphism failed, k="+we);return{k1neg:ft,k1:Be,k2neg:qe,k2:Oe}}},H=32,Y=32,X=32,Q=H+1,ee=2*H+1;function re(we){const{a:me,b:Ee}=G,xe=ie(we*we),Re=ie(xe*we);return ie(Re+me*we+Ee)}const ne=G.a===D;class se extends Error{constructor(me){super(me)}}function ae(we){if(!(we instanceof fe))throw new TypeError("JacobianPoint expected")}class fe{constructor(me,Ee,xe){this.x=me,this.y=Ee,this.z=xe}static fromAffine(me){if(!(me instanceof ge))throw new TypeError("JacobianPoint#fromAffine: expected Point");return me.equals(ge.ZERO)?fe.ZERO:new fe(me.x,me.y,q)}static toAffineBatch(me){const Ee=oe(me.map(xe=>xe.z));return me.map((xe,Re)=>xe.toAffine(Ee[Re]))}static normalizeZ(me){return fe.toAffineBatch(me).map(fe.fromAffine)}equals(me){ae(me);const{x:Ee,y:xe,z:Re}=this,{x:Je,y:Ce,z:Ie}=me,at=ie(Re*Re),Be=ie(Ie*Ie),Oe=ie(Ee*Be),ft=ie(Je*at),qe=ie(ie(xe*Ie)*Be),Ze=ie(ie(Ce*Re)*at);return Oe===ft&&qe===Ze}negate(){return new fe(this.x,ie(-this.y),this.z)}double(){const{x:me,y:Ee,z:xe}=this,Re=ie(me*me),Je=ie(Ee*Ee),Ce=ie(Je*Je),Ie=me+Je,at=ie(O*(ie(Ie*Ie)-Re-Ce)),Be=ie($*Re),Oe=ie(Be*Be),ft=ie(Oe-O*at),qe=ie(Be*(at-ft)-j*Ce),Ze=ie(O*Ee*xe);return new fe(ft,qe,Ze)}add(me){ae(me);const{x:Ee,y:xe,z:Re}=this,{x:Je,y:Ce,z:Ie}=me;if(Je===D||Ce===D)return this;if(Ee===D||xe===D)return me;const at=ie(Re*Re),Be=ie(Ie*Ie),Oe=ie(Ee*Be),ft=ie(Je*at),qe=ie(ie(xe*Ie)*Be),Ze=ie(ie(Ce*Re)*at),ht=ie(ft-Oe),ze=ie(Ze-qe);if(ht===D)return ze===D?this.double():fe.ZERO;const tt=ie(ht*ht),dt=ie(ht*tt),pt=ie(Oe*tt),xt=ie(ze*ze-dt-O*pt),St=ie(ze*(pt-xt)-qe*dt),Mt=ie(Re*Ie*ht);return new fe(xt,St,Mt)}subtract(me){return this.add(me.negate())}multiplyUnsafe(me){const Ee=fe.ZERO;if(typeof me=="bigint"&&me===D)return Ee;let xe=te(me);if(xe===q)return this;if(!ne){let ft=Ee,qe=this;for(;xe>D;)xe&q&&(ft=ft.add(qe)),qe=qe.double(),xe>>=q;return ft}let{k1neg:Re,k1:Je,k2neg:Ce,k2:Ie}=K.splitScalar(xe),at=Ee,Be=Ee,Oe=this;for(;Je>D||Ie>D;)Je&q&&(at=at.add(Oe)),Ie&q&&(Be=Be.add(Oe)),Oe=Oe.double(),Je>>=q,Ie>>=q;return Re&&(at=at.negate()),Ce&&(Be=Be.negate()),Be=new fe(ie(Be.x*K.beta),Be.y,Be.z),at.add(Be)}precomputeWindow(me){const Ee=ne?128/me+1:256/me+1,xe=[];let Re=this,Je=Re;for(let Ce=0;Ce<Ee;Ce++){Je=Re,xe.push(Je);for(let Ie=1;Ie<2**(me-1);Ie++)Je=Je.add(Re),xe.push(Je);Re=Je.double()}return xe}wNAF(me,Ee){!Ee&&this.equals(fe.BASE)&&(Ee=ge.BASE);const xe=Ee&&Ee._WINDOW_SIZE||1;if(256%xe)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let Re=Ee&&_e.get(Ee);Re||(Re=this.precomputeWindow(xe),Ee&&xe!==1&&(Re=fe.normalizeZ(Re),_e.set(Ee,Re)));let Je=fe.ZERO,Ce=fe.BASE;const Ie=1+(ne?128/xe:256/xe),at=2**(xe-1),Be=BigInt(2**xe-1),Oe=2**xe,ft=BigInt(xe);for(let qe=0;qe<Ie;qe++){const Ze=qe*at;let ht=Number(me&Be);me>>=ft,ht>at&&(ht-=Oe,me+=q);const ze=Ze,tt=Ze+Math.abs(ht)-1,dt=qe%2!==0,pt=ht<0;ht===0?Ce=Ce.add(ue(dt,Re[ze])):Je=Je.add(ue(pt,Re[tt]))}return{p:Je,f:Ce}}multiply(me,Ee){let xe=te(me),Re,Je;if(ne){const{k1neg:Ce,k1:Ie,k2neg:at,k2:Be}=K.splitScalar(xe);let{p:Oe,f:ft}=this.wNAF(Ie,Ee),{p:qe,f:Ze}=this.wNAF(Be,Ee);Oe=ue(Ce,Oe),qe=ue(at,qe),qe=new fe(ie(qe.x*K.beta),qe.y,qe.z),Re=Oe.add(qe),Je=ft.add(Ze)}else{const{p:Ce,f:Ie}=this.wNAF(xe,Ee);Re=Ce,Je=Ie}return fe.normalizeZ([Re,Je])[0]}toAffine(me){const{x:Ee,y:xe,z:Re}=this,Je=this.equals(fe.ZERO);me==null&&(me=Je?j:de(Re));const Ce=me,Ie=ie(Ce*Ce),at=ie(Ie*Ce),Be=ie(Ee*Ie),Oe=ie(xe*at),ft=ie(Re*Ce);if(Je)return ge.ZERO;if(ft!==q)throw new Error("invZ was invalid");return new ge(Be,Oe)}}fe.BASE=new fe(G.Gx,G.Gy,q),fe.ZERO=new fe(D,q,D);function ue(we,me){const Ee=me.negate();return we?Ee:me}const _e=new WeakMap;class ge{constructor(me,Ee){this.x=me,this.y=Ee}_setWindowSize(me){this._WINDOW_SIZE=me,_e.delete(this)}hasEvenY(){return this.y%O===D}static fromCompressedHex(me){const Ee=me.length===32,xe=M(Ee?me:me.subarray(1));if(!et(xe))throw new Error("Point is not on curve");const Re=re(xe);let Je=pe(Re);const Ce=(Je&q)===q;Ee?Ce&&(Je=ie(-Je)):(me[0]&1)===1!==Ce&&(Je=ie(-Je));const Ie=new ge(xe,Je);return Ie.assertValidity(),Ie}static fromUncompressedHex(me){const Ee=M(me.subarray(1,H+1)),xe=M(me.subarray(H+1,H*2+1)),Re=new ge(Ee,xe);return Re.assertValidity(),Re}static fromHex(me){const Ee=F(me),xe=Ee.length,Re=Ee[0];if(xe===H)return this.fromCompressedHex(Ee);if(xe===Q&&(Re===2||Re===3))return this.fromCompressedHex(Ee);if(xe===ee&&Re===4)return this.fromUncompressedHex(Ee);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Q} compressed bytes or ${ee} uncompressed bytes, not ${xe}`)}static fromPrivateKey(me){return ge.BASE.multiply(De(me))}static fromSignature(me,Ee,xe){const{r:Re,s:Je}=Le(Ee);if(![0,1,2,3].includes(xe))throw new Error("Cannot recover: invalid recovery bit");const Ce=ve(F(me)),{n:Ie}=G,at=xe===2||xe===3?Re+Ie:Re,Be=de(at,Ie),Oe=ie(-Ce*Be,Ie),ft=ie(Je*Be,Ie),qe=xe&1?"03":"02",Ze=ge.fromHex(qe+N(at)),ht=ge.BASE.multiplyAndAddUnsafe(Ze,Oe,ft);if(!ht)throw new Error("Cannot recover signature: point at infinify");return ht.assertValidity(),ht}toRawBytes(me=!1){return U(this.toHex(me))}toHex(me=!1){const Ee=N(this.x);return me?`${this.hasEvenY()?"02":"03"}${Ee}`:`04${Ee}${N(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const me="Point is not on elliptic curve",{x:Ee,y:xe}=this;if(!et(Ee)||!et(xe))throw new Error(me);const Re=ie(xe*xe),Je=re(Ee);if(ie(Re-Je)!==D)throw new Error(me)}equals(me){return this.x===me.x&&this.y===me.y}negate(){return new ge(this.x,ie(-this.y))}double(){return fe.fromAffine(this).double().toAffine()}add(me){return fe.fromAffine(this).add(fe.fromAffine(me)).toAffine()}subtract(me){return this.add(me.negate())}multiply(me){return fe.fromAffine(this).multiply(me,this).toAffine()}multiplyAndAddUnsafe(me,Ee,xe){const Re=fe.fromAffine(this),Je=Ee===D||Ee===q||this!==ge.BASE?Re.multiplyUnsafe(Ee):Re.multiply(Ee),Ce=fe.fromAffine(me).multiplyUnsafe(xe),Ie=Je.add(Ce);return Ie.equals(fe.ZERO)?void 0:Ie.toAffine()}}B.Point=ge,ge.BASE=new ge(G.Gx,G.Gy),ge.ZERO=new ge(D,D);function Ae(we){return Number.parseInt(we[0],16)>=8?"00"+we:we}function Te(we){if(we.length<2||we[0]!==2)throw new Error(`Invalid signature integer tag: ${T(we)}`);const me=we[1],Ee=we.subarray(2,me+2);if(!me||Ee.length!==me)throw new Error("Invalid signature integer: wrong length");if(Ee[0]===0&&Ee[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:M(Ee),left:we.subarray(me+2)}}function be(we){if(we.length<2||we[0]!=48)throw new Error(`Invalid signature tag: ${T(we)}`);if(we[1]!==we.length-2)throw new Error("Invalid signature: incorrect length");const{data:me,left:Ee}=Te(we.subarray(2)),{data:xe,left:Re}=Te(Ee);if(Re.length)throw new Error(`Invalid signature: left bytes after parsing: ${T(Re)}`);return{r:me,s:xe}}class Pe{constructor(me,Ee){this.r=me,this.s=Ee,this.assertValidity()}static fromCompact(me){const Ee=me instanceof Uint8Array,xe="Signature.fromCompact";if(typeof me!="string"&&!Ee)throw new TypeError(`${xe}: Expected string or Uint8Array`);const Re=Ee?T(me):me;if(Re.length!==128)throw new Error(`${xe}: Expected 64-byte hex`);return new Pe(Z(Re.slice(0,64)),Z(Re.slice(64,128)))}static fromDER(me){const Ee=me instanceof Uint8Array;if(typeof me!="string"&&!Ee)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:xe,s:Re}=be(Ee?me:U(me));return new Pe(xe,Re)}static fromHex(me){return this.fromDER(me)}assertValidity(){const{r:me,s:Ee}=this;if(!Se(me))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Se(Ee))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const me=G.n>>q;return this.s>me}normalizeS(){return this.hasHighS()?new Pe(this.r,ie(-this.s,G.n)):this}toDERRawBytes(){return U(this.toDERHex())}toDERHex(){const me=Ae(W(this.s)),Ee=Ae(W(this.r)),xe=me.length/2,Re=Ee.length/2,Je=W(xe),Ce=W(Re);return`30${W(Re+xe+4)}02${Ce}${Ee}02${Je}${me}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return U(this.toCompactHex())}toCompactHex(){return N(this.r)+N(this.s)}}B.Signature=Pe;function J(...we){if(!we.every(xe=>xe instanceof Uint8Array))throw new Error("Uint8Array list expected");if(we.length===1)return we[0];const me=we.reduce((xe,Re)=>xe+Re.length,0),Ee=new Uint8Array(me);for(let xe=0,Re=0;xe<we.length;xe++){const Je=we[xe];Ee.set(Je,Re),Re+=Je.length}return Ee}const u=Array.from({length:256},(we,me)=>me.toString(16).padStart(2,"0"));function T(we){if(!(we instanceof Uint8Array))throw new Error("Expected Uint8Array");let me="";for(let Ee=0;Ee<we.length;Ee++)me+=u[we[Ee]];return me}const P=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function N(we){if(typeof we!="bigint")throw new Error("Expected bigint");if(!(D<=we&&we<P))throw new Error("Expected number 0 <= n < 2^256");return we.toString(16).padStart(64,"0")}function L(we){const me=U(N(we));if(me.length!==32)throw new Error("Error: expected 32 bytes");return me}function W(we){const me=we.toString(16);return me.length&1?`0${me}`:me}function Z(we){if(typeof we!="string")throw new TypeError("hexToNumber: expected string, got "+typeof we);return BigInt(`0x${we}`)}function U(we){if(typeof we!="string")throw new TypeError("hexToBytes: expected string, got "+typeof we);if(we.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+we.length);const me=new Uint8Array(we.length/2);for(let Ee=0;Ee<me.length;Ee++){const xe=Ee*2,Re=we.slice(xe,xe+2),Je=Number.parseInt(Re,16);if(Number.isNaN(Je)||Je<0)throw new Error("Invalid byte sequence");me[Ee]=Je}return me}function M(we){return Z(T(we))}function F(we){return we instanceof Uint8Array?Uint8Array.from(we):U(we)}function te(we){if(typeof we=="number"&&Number.isSafeInteger(we)&&we>0)return BigInt(we);if(typeof we=="bigint"&&Se(we))return we;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ie(we,me=G.P){const Ee=we%me;return Ee>=D?Ee:me+Ee}function he(we,me){const{P:Ee}=G;let xe=we;for(;me-- >D;)xe*=xe,xe%=Ee;return xe}function pe(we){const{P:me}=G,Ee=BigInt(6),xe=BigInt(11),Re=BigInt(22),Je=BigInt(23),Ce=BigInt(44),Ie=BigInt(88),at=we*we*we%me,Be=at*at*we%me,Oe=he(Be,$)*Be%me,ft=he(Oe,$)*Be%me,qe=he(ft,O)*at%me,Ze=he(qe,xe)*qe%me,ht=he(Ze,Re)*Ze%me,ze=he(ht,Ce)*ht%me,tt=he(ze,Ie)*ze%me,dt=he(tt,Ce)*ht%me,pt=he(dt,$)*Be%me,xt=he(pt,Je)*Ze%me,St=he(xt,Ee)*at%me,Mt=he(St,O);if(Mt*Mt%me!==we)throw new Error("Cannot find square root");return Mt}function de(we,me=G.P){if(we===D||me<=D)throw new Error(`invert: expected positive integers, got n=${we} mod=${me}`);let Ee=ie(we,me),xe=me,Re=D,Je=q;for(;Ee!==D;){const Ie=xe/Ee,at=xe%Ee,Be=Re-Je*Ie;xe=Ee,Ee=at,Re=Je,Je=Be}if(xe!==q)throw new Error("invert: does not exist");return ie(Re,me)}function oe(we,me=G.P){const Ee=new Array(we.length),xe=we.reduce((Je,Ce,Ie)=>Ce===D?Je:(Ee[Ie]=Je,ie(Je*Ce,me)),q),Re=de(xe,me);return we.reduceRight((Je,Ce,Ie)=>Ce===D?Je:(Ee[Ie]=ie(Je*Ee[Ie],me),ie(Je*Ce,me)),Re),Ee}function le(we){const me=we.length*8-Y*8,Ee=M(we);return me>0?Ee>>BigInt(me):Ee}function ve(we,me=!1){const Ee=le(we);if(me)return Ee;const{n:xe}=G;return Ee>=xe?Ee-xe:Ee}let Me,ye;class ce{constructor(me,Ee){if(this.hashLen=me,this.qByteLen=Ee,typeof me!="number"||me<2)throw new Error("hashLen must be a number");if(typeof Ee!="number"||Ee<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(me).fill(1),this.k=new Uint8Array(me).fill(0),this.counter=0}hmac(...me){return B.utils.hmacSha256(this.k,...me)}hmacSync(...me){return ye(this.k,...me)}checkSync(){if(typeof ye!="function")throw new se("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(me=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),me),this.v=await this.hmac(this.v),me.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),me),this.v=await this.hmac(this.v))}reseedSync(me=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),me),this.v=this.hmacSync(this.v),me.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),me),this.v=this.hmacSync(this.v))}async generate(){this.incr();let me=0;const Ee=[];for(;me<this.qByteLen;){this.v=await this.hmac(this.v);const xe=this.v.slice();Ee.push(xe),me+=this.v.length}return J(...Ee)}generateSync(){this.checkSync(),this.incr();let me=0;const Ee=[];for(;me<this.qByteLen;){this.v=this.hmacSync(this.v);const xe=this.v.slice();Ee.push(xe),me+=this.v.length}return J(...Ee)}}function Se(we){return D<we&&we<G.n}function et(we){return D<we&&we<G.P}function ke(we,me,Ee,xe=!0){const{n:Re}=G,Je=ve(we,!0);if(!Se(Je))return;const Ce=de(Je,Re),Ie=ge.BASE.multiply(Je),at=ie(Ie.x,Re);if(at===D)return;const Be=ie(Ce*ie(me+Ee*at,Re),Re);if(Be===D)return;let Oe=new Pe(at,Be),ft=(Ie.x===Oe.r?0:2)|Number(Ie.y&q);return xe&&Oe.hasHighS()&&(Oe=Oe.normalizeS(),ft^=1),{sig:Oe,recovery:ft}}function De(we){let me;if(typeof we=="bigint")me=we;else if(typeof we=="number"&&Number.isSafeInteger(we)&&we>0)me=BigInt(we);else if(typeof we=="string"){if(we.length!==2*Y)throw new Error("Expected 32 bytes of private key");me=Z(we)}else if(we instanceof Uint8Array){if(we.length!==Y)throw new Error("Expected 32 bytes of private key");me=M(we)}else throw new TypeError("Expected valid private key");if(!Se(me))throw new Error("Expected private key: 0 < key < n");return me}function ot(we){return we instanceof ge?(we.assertValidity(),we):ge.fromHex(we)}function Le(we){if(we instanceof Pe)return we.assertValidity(),we;try{return Pe.fromDER(we)}catch{return Pe.fromCompact(we)}}function $e(we,me=!1){return ge.fromPrivateKey(we).toRawBytes(me)}B.getPublicKey=$e;function lt(we,me,Ee,xe=!1){return ge.fromSignature(we,me,Ee).toRawBytes(xe)}B.recoverPublicKey=lt;function Ne(we){const me=we instanceof Uint8Array,Ee=typeof we=="string",xe=(me||Ee)&&we.length;return me?xe===Q||xe===ee:Ee?xe===Q*2||xe===ee*2:we instanceof ge}function We(we,me,Ee=!1){if(Ne(we))throw new TypeError("getSharedSecret: first arg must be private key");if(!Ne(me))throw new TypeError("getSharedSecret: second arg must be public key");const xe=ot(me);return xe.assertValidity(),xe.multiply(De(we)).toRawBytes(Ee)}B.getSharedSecret=We;function ct(we){const me=we.length>H?we.slice(0,H):we;return M(me)}function Ue(we){const me=ct(we),Ee=ie(me,G.n);return Ye(Ee<D?me:Ee)}function Ye(we){return L(we)}function mt(we,me,Ee){if(we==null)throw new Error(`sign: expected valid message hash, not "${we}"`);const xe=F(we),Re=De(me),Je=[Ye(Re),Ue(xe)];if(Ee!=null){Ee===!0&&(Ee=B.utils.randomBytes(H));const at=F(Ee);if(at.length!==H)throw new Error(`sign: Expected ${H} bytes of extra data`);Je.push(at)}const Ce=J(...Je),Ie=ct(xe);return{seed:Ce,m:Ie,d:Re}}function Fe(we,me){const{sig:Ee,recovery:xe}=we,{der:Re,recovered:Je}=Object.assign({canonical:!0,der:!0},me),Ce=Re?Ee.toDERRawBytes():Ee.toCompactRawBytes();return Je?[Ce,xe]:Ce}async function Xe(we,me,Ee={}){const{seed:xe,m:Re,d:Je}=mt(we,me,Ee.extraEntropy),Ce=new ce(X,Y);await Ce.reseed(xe);let Ie;for(;!(Ie=ke(await Ce.generate(),Re,Je,Ee.canonical));)await Ce.reseed();return Fe(Ie,Ee)}B.sign=Xe;function _t(we,me,Ee={}){const{seed:xe,m:Re,d:Je}=mt(we,me,Ee.extraEntropy),Ce=new ce(X,Y);Ce.reseedSync(xe);let Ie;for(;!(Ie=ke(Ce.generateSync(),Re,Je,Ee.canonical));)Ce.reseedSync();return Fe(Ie,Ee)}B.signSync=_t;const Ve={strict:!0};function it(we,me,Ee,xe=Ve){let Re;try{Re=Le(we),me=F(me)}catch{return!1}const{r:Je,s:Ce}=Re;if(xe.strict&&Re.hasHighS())return!1;const Ie=ve(me);let at;try{at=ot(Ee)}catch{return!1}const{n:Be}=G,Oe=de(Ce,Be),ft=ie(Ie*Oe,Be),qe=ie(Je*Oe,Be),Ze=ge.BASE.multiplyAndAddUnsafe(at,ft,qe);return Ze?ie(Ze.x,Be)===Je:!1}B.verify=it;function vt(we){return ie(M(we),G.n)}class He{constructor(me,Ee){this.r=me,this.s=Ee,this.assertValidity()}static fromHex(me){const Ee=F(me);if(Ee.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${Ee.length}`);const xe=M(Ee.subarray(0,32)),Re=M(Ee.subarray(32,64));return new He(xe,Re)}assertValidity(){const{r:me,s:Ee}=this;if(!et(me)||!Se(Ee))throw new Error("Invalid signature")}toHex(){return N(this.r)+N(this.s)}toRawBytes(){return U(this.toHex())}}function nt(we){return ge.fromPrivateKey(we).toRawX()}class yt{constructor(me,Ee,xe=B.utils.randomBytes()){if(me==null)throw new TypeError(`sign: Expected valid message, not "${me}"`);this.m=F(me);const{x:Re,scalar:Je}=this.getScalar(De(Ee));if(this.px=Re,this.d=Je,this.rand=F(xe),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(me){const Ee=ge.fromPrivateKey(me),xe=Ee.hasEvenY()?me:G.n-me;return{point:Ee,scalar:xe,x:Ee.toRawX()}}initNonce(me,Ee){return L(me^M(Ee))}finalizeNonce(me){const Ee=ie(M(me),G.n);if(Ee===D)throw new Error("sign: Creation of signature failed. k is zero");const{point:xe,x:Re,scalar:Je}=this.getScalar(Ee);return{R:xe,rx:Re,k:Je}}finalizeSig(me,Ee,xe,Re){return new He(me.x,ie(Ee+xe*Re,G.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:me,d:Ee,px:xe,rand:Re}=this,Je=B.utils.taggedHash,Ce=this.initNonce(Ee,await Je(Qe.aux,Re)),{R:Ie,rx:at,k:Be}=this.finalizeNonce(await Je(Qe.nonce,Ce,xe,me)),Oe=vt(await Je(Qe.challenge,at,xe,me)),ft=this.finalizeSig(Ie,Be,Oe,Ee);return await rt(ft,me,xe)||this.error(),ft}calcSync(){const{m:me,d:Ee,px:xe,rand:Re}=this,Je=B.utils.taggedHashSync,Ce=this.initNonce(Ee,Je(Qe.aux,Re)),{R:Ie,rx:at,k:Be}=this.finalizeNonce(Je(Qe.nonce,Ce,xe,me)),Oe=vt(Je(Qe.challenge,at,xe,me)),ft=this.finalizeSig(Ie,Be,Oe,Ee);return wt(ft,me,xe)||this.error(),ft}}async function Ke(we,me,Ee){return new yt(we,me,Ee).calc()}function st(we,me,Ee){return new yt(we,me,Ee).calcSync()}function bt(we,me,Ee){const xe=we instanceof He,Re=xe?we:He.fromHex(we);return xe&&Re.assertValidity(),{...Re,m:F(me),P:ot(Ee)}}function Ge(we,me,Ee,xe){const Re=ge.BASE.multiplyAndAddUnsafe(me,De(Ee),ie(-xe,G.n));return!(!Re||!Re.hasEvenY()||Re.x!==we)}async function rt(we,me,Ee){try{const{r:xe,s:Re,m:Je,P:Ce}=bt(we,me,Ee),Ie=vt(await B.utils.taggedHash(Qe.challenge,L(xe),Ce.toRawX(),Je));return Ge(xe,Ce,Re,Ie)}catch{return!1}}function wt(we,me,Ee){try{const{r:xe,s:Re,m:Je,P:Ce}=bt(we,me,Ee),Ie=vt(B.utils.taggedHashSync(Qe.challenge,L(xe),Ce.toRawX(),Je));return Ge(xe,Ce,Re,Ie)}catch(xe){if(xe instanceof se)throw xe;return!1}}B.schnorr={Signature:He,getPublicKey:nt,sign:Ke,verify:rt,signSync:st,verifySync:wt},ge.BASE._setWindowSize(8);const je={node:S,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Qe={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},gt={};B.utils={bytesToHex:T,hexToBytes:U,concatBytes:J,mod:ie,invert:de,isValidPrivateKey(we){try{return De(we),!0}catch{return!1}},_bigintTo32Bytes:L,_normalizePrivateKey:De,hashToPrivateKey:we=>{we=F(we);const me=Y+8;if(we.length<me||we.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const Ee=ie(M(we),G.n-q)+q;return L(Ee)},randomBytes:(we=32)=>{if(je.web)return je.web.getRandomValues(new Uint8Array(we));if(je.node){const{randomBytes:me}=je.node;return Uint8Array.from(me(we))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>B.utils.hashToPrivateKey(B.utils.randomBytes(Y+8)),precompute(we=8,me=ge.BASE){const Ee=me===ge.BASE?me:new ge(me.x,me.y);return Ee._setWindowSize(we),Ee.multiply($),Ee},sha256:async(...we)=>{if(je.web){const me=await je.web.subtle.digest("SHA-256",J(...we));return new Uint8Array(me)}else if(je.node){const{createHash:me}=je.node,Ee=me("sha256");return we.forEach(xe=>Ee.update(xe)),Uint8Array.from(Ee.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(we,...me)=>{if(je.web){const Ee=await je.web.subtle.importKey("raw",we,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),xe=J(...me),Re=await je.web.subtle.sign("HMAC",Ee,xe);return new Uint8Array(Re)}else if(je.node){const{createHmac:Ee}=je.node,xe=Ee("sha256",we);return me.forEach(Re=>xe.update(Re)),Uint8Array.from(xe.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(we,...me)=>{let Ee=gt[we];if(Ee===void 0){const xe=await B.utils.sha256(Uint8Array.from(we,Re=>Re.charCodeAt(0)));Ee=J(xe,xe),gt[we]=Ee}return B.utils.sha256(Ee,...me)},taggedHashSync:(we,...me)=>{if(typeof Me!="function")throw new se("sha256Sync is undefined, you need to set it");let Ee=gt[we];if(Ee===void 0){const xe=Me(Uint8Array.from(we,Re=>Re.charCodeAt(0)));Ee=J(xe,xe),gt[we]=Ee}return Me(Ee,...me)},_JacobianPoint:fe},Object.defineProperties(B.utils,{sha256Sync:{configurable:!1,get(){return Me},set(we){Me||(Me=we)}},hmacSha256Sync:{configurable:!1,get(){return ye},set(we){ye||(ye=we)}}})})(lib);var ecdsaSigFormatter={};Object.defineProperty(ecdsaSigFormatter,"__esModule",{value:!0});ecdsaSigFormatter.joseToDer=ecdsaSigFormatter.derToJose=void 0;const base64_js_1=base64Js,base64Url_1=base64Url;function getParamSize(B){return(B/8|0)+(B%8===0?0:1)}const paramBytesForAlg={ES256:getParamSize(256),ES384:getParamSize(384),ES512:getParamSize(521)};function getParamBytesForAlg(B){const S=paramBytesForAlg[B];if(S)return S;throw new Error(`Unknown algorithm "${B}"`)}const MAX_OCTET=128,CLASS_UNIVERSAL=0,PRIMITIVE_BIT=32,TAG_SEQ=16,TAG_INT=2,ENCODED_TAG_SEQ=TAG_SEQ|PRIMITIVE_BIT|CLASS_UNIVERSAL<<6,ENCODED_TAG_INT=TAG_INT|CLASS_UNIVERSAL<<6;function signatureAsBytes(B){if(B instanceof Uint8Array)return B;if(typeof B=="string")return(0,base64_js_1.toByteArray)((0,base64Url_1.pad)(B));throw new TypeError("ECDSA signature must be a Base64 string or a Uint8Array")}function derToJose(B,S){const D=signatureAsBytes(B),q=getParamBytesForAlg(S),O=q+1,$=D.length;let j=0;if(D[j++]!==ENCODED_TAG_SEQ)throw new Error('Could not find expected "seq"');let G=D[j++];if(G===(MAX_OCTET|1)&&(G=D[j++]),$-j<G)throw new Error(`"seq" specified length of "${G}", only "${$-j}" remaining`);if(D[j++]!==ENCODED_TAG_INT)throw new Error('Could not find expected "int" for "r"');const V=D[j++];if($-j-2<V)throw new Error(`"r" specified length of "${V}", only "${$-j-2}" available`);if(O<V)throw new Error(`"r" specified length of "${V}", max of "${O}" is acceptable`);const K=j;if(j+=V,D[j++]!==ENCODED_TAG_INT)throw new Error('Could not find expected "int" for "s"');const H=D[j++];if($-j!==H)throw new Error(`"s" specified length of "${H}", expected "${$-j}"`);if(O<H)throw new Error(`"s" specified length of "${H}", max of "${O}" is acceptable`);const Y=j;if(j+=H,j!==$)throw new Error(`Expected to consume entire array, but "${$-j}" bytes remain`);const X=q-V,Q=q-H,ee=new Uint8Array(X+V+Q+H);for(j=0;j<X;++j)ee[j]=0;ee.set(D.subarray(K+Math.max(-X,0),K+V),j),j=q;for(const re=j;j<re+Q;++j)ee[j]=0;return ee.set(D.subarray(Y+Math.max(-Q,0),Y+H),j),(0,base64Url_1.escape)((0,base64_js_1.fromByteArray)(ee))}ecdsaSigFormatter.derToJose=derToJose;function countPadding(B,S,D){let q=0;for(;S+q<D&&B[S+q]===0;)++q;return B[S+q]>=MAX_OCTET&&--q,q}function joseToDer(B,S){B=signatureAsBytes(B);const D=getParamBytesForAlg(S),q=B.length;if(q!==D*2)throw new TypeError(`"${S}" signatures must be "${D*2}" bytes, saw "${q}"`);const O=countPadding(B,0,D),$=countPadding(B,D,B.length),j=D-O,G=D-$,V=2+j+1+1+G,K=V<MAX_OCTET,H=new Uint8Array((K?2:3)+V);let Y=0;return H[Y++]=ENCODED_TAG_SEQ,K?H[Y++]=V:(H[Y++]=MAX_OCTET|1,H[Y++]=V&255),H[Y++]=ENCODED_TAG_INT,H[Y++]=j,O<0?(H[Y++]=0,H.set(B.subarray(0,D),Y),Y+=D):(H.set(B.subarray(O,D),Y),Y+=D-O),H[Y++]=ENCODED_TAG_INT,H[Y++]=G,$<0?(H[Y++]=0,H.set(B.subarray(D),Y)):H.set(B.subarray(D+$),Y),H}ecdsaSigFormatter.joseToDer=joseToDer;var errors={};Object.defineProperty(errors,"__esModule",{value:!0});errors.InvalidTokenError=errors.MissingParametersError=void 0;class MissingParametersError extends Error{constructor(S){super(),this.name="MissingParametersError",this.message=S||""}}errors.MissingParametersError=MissingParametersError;class InvalidTokenError extends Error{constructor(S){super(),this.name="InvalidTokenError",this.message=S||""}}errors.InvalidTokenError=InvalidTokenError;Object.defineProperty(secp256k1$1,"__esModule",{value:!0});secp256k1$1.SECP256K1Client=void 0;const hmac_1=hmac$1,sha256_1$3=sha256$3,secp=lib,ecdsaSigFormatter_1=ecdsaSigFormatter,errors_1$2=errors,utils_1=utils$6;secp.utils.hmacSha256Sync=(B,...S)=>{const D=hmac_1.hmac.create(sha256_1$3.sha256,B);return S.forEach(q=>D.update(q)),D.digest()};class SECP256K1Client{static derivePublicKey(S,D=!0){return S.length===66&&(S=S.slice(0,64)),S.length<64&&(S=S.padStart(64,"0")),(0,utils_1.bytesToHex)(secp.getPublicKey(S,D))}static signHash(S,D,q="jose"){if(!S||!D)throw new errors_1$2.MissingParametersError("a signing input hash and private key are all required");const O=secp.signSync(S,D.slice(0,64),{der:!0,canonical:!1});if(q==="der")return(0,utils_1.bytesToHex)(O);if(q==="jose")return(0,ecdsaSigFormatter_1.derToJose)(O,"ES256");throw Error("Invalid signature format")}static loadSignature(S){return(0,ecdsaSigFormatter_1.joseToDer)(S,"ES256")}static verifyHash(S,D,q){if(!S||!D||!q)throw new errors_1$2.MissingParametersError("a signing input hash, der signature, and public key are all required");return secp.verify(D,S,q,{strict:!1})}}secp256k1$1.SECP256K1Client=SECP256K1Client;SECP256K1Client.algorithmName="ES256K";(function(B){Object.defineProperty(B,"__esModule",{value:!0}),B.cryptoClients=B.SECP256K1Client=void 0;const S=secp256k1$1;Object.defineProperty(B,"SECP256K1Client",{enumerable:!0,get:function(){return S.SECP256K1Client}});const D={ES256K:S.SECP256K1Client};B.cryptoClients=D})(cryptoClients);var sha256={},__awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(B,S,D,q){function O($){return $ instanceof D?$:new D(function(j){j($)})}return new(D||(D=Promise))(function($,j){function G(H){try{K(q.next(H))}catch(Y){j(Y)}}function V(H){try{K(q.throw(H))}catch(Y){j(Y)}}function K(H){H.done?$(H.value):O(H.value).then(G,V)}K((q=q.apply(B,S||[])).next())})};Object.defineProperty(sha256,"__esModule",{value:!0});sha256.hashSha256Async=sha256.hashSha256=void 0;const sha256_1$2=sha256$3;function hashSha256(B){return(0,sha256_1$2.sha256)(B)}sha256.hashSha256=hashSha256;function hashSha256Async(B){return __awaiter$1(this,void 0,void 0,function*(){try{if(typeof crypto<"u"&&typeof crypto.subtle<"u"){const D=typeof B=="string"?new TextEncoder().encode(B):B,q=yield crypto.subtle.digest("SHA-256",D);return new Uint8Array(q)}else{const D=requireCryptoBrowserify();if(!D.createHash)throw new Error("`crypto` module does not contain `createHash`");return Promise.resolve(D.createHash("sha256").update(B).digest())}}catch(S){return console.log(S),console.log('Crypto lib not found. Neither the global `crypto.subtle` Web Crypto API, nor the or the Node.js `require("crypto").createHash` module is available. Falling back to JS implementation.'),Promise.resolve(hashSha256(B))}})}sha256.hashSha256Async=hashSha256Async;var __awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(B,S,D,q){function O($){return $ instanceof D?$:new D(function(j){j($)})}return new(D||(D=Promise))(function($,j){function G(H){try{K(q.next(H))}catch(Y){j(Y)}}function V(H){try{K(q.throw(H))}catch(Y){j(Y)}}function K(H){H.done?$(H.value):O(H.value).then(G,V)}K((q=q.apply(B,S||[])).next())})};Object.defineProperty(signer,"__esModule",{value:!0});signer.TokenSigner=signer.createUnsecuredToken=void 0;const base64url$2=base64Url,cryptoClients_1$1=cryptoClients,errors_1$1=errors,sha256_1$1=sha256;function createSigningInput(B,S){const D=[],q=base64url$2.encode(JSON.stringify(S));D.push(q);const O=base64url$2.encode(JSON.stringify(B));return D.push(O),D.join(".")}function createUnsecuredToken(B){return createSigningInput(B,{typ:"JWT",alg:"none"})+"."}signer.createUnsecuredToken=createUnsecuredToken;class TokenSigner{constructor(S,D){if(!(S&&D))throw new errors_1$1.MissingParametersError("a signing algorithm and private key are required");if(typeof S!="string")throw new Error("signing algorithm parameter must be a string");if(S=S.toUpperCase(),!cryptoClients_1$1.cryptoClients.hasOwnProperty(S))throw new Error("invalid signing algorithm");this.tokenType="JWT",this.cryptoClient=cryptoClients_1$1.cryptoClients[S],this.rawPrivateKey=D}header(S={}){const D={typ:this.tokenType,alg:this.cryptoClient.algorithmName};return Object.assign({},D,S)}sign(S,D=!1,q={}){const O=this.header(q),$=createSigningInput(S,O),j=(0,sha256_1$1.hashSha256)($);return this.createWithSignedHash(S,D,O,$,j)}signAsync(S,D=!1,q={}){return __awaiter(this,void 0,void 0,function*(){const O=this.header(q),$=createSigningInput(S,O),j=yield(0,sha256_1$1.hashSha256Async)($);return this.createWithSignedHash(S,D,O,$,j)})}createWithSignedHash(S,D,q,O,$){const j=this.cryptoClient.signHash($,this.rawPrivateKey);return D?{header:[base64url$2.encode(JSON.stringify(q))],payload:JSON.stringify(S),signature:[j]}:[O,j].join(".")}}signer.TokenSigner=TokenSigner;var verifier={};Object.defineProperty(verifier,"__esModule",{value:!0});verifier.TokenVerifier=void 0;const base64url$1=base64Url,cryptoClients_1=cryptoClients,errors_1=errors,sha256_1=sha256;class TokenVerifier{constructor(S,D){if(!(S&&D))throw new errors_1.MissingParametersError("a signing algorithm and public key are required");if(typeof S!="string")throw"signing algorithm parameter must be a string";if(S=S.toUpperCase(),!cryptoClients_1.cryptoClients.hasOwnProperty(S))throw"invalid signing algorithm";this.tokenType="JWT",this.cryptoClient=cryptoClients_1.cryptoClients[S],this.rawPublicKey=D}verify(S){return typeof S=="string"?this.verifyCompact(S,!1):typeof S=="object"?this.verifyExpanded(S,!1):!1}verifyAsync(S){return typeof S=="string"?this.verifyCompact(S,!0):typeof S=="object"?this.verifyExpanded(S,!0):Promise.resolve(!1)}verifyCompact(S,D){const q=S.split("."),O=q[0]+"."+q[1],$=j=>{const G=this.cryptoClient.loadSignature(q[2]);return this.cryptoClient.verifyHash(j,G,this.rawPublicKey)};if(D)return(0,sha256_1.hashSha256Async)(O).then(j=>$(j));{const j=(0,sha256_1.hashSha256)(O);return $(j)}}verifyExpanded(S,D){const q=[S.header.join("."),base64url$1.encode(S.payload)].join(".");let O=!0;const $=j=>(S.signature.map(G=>{const V=this.cryptoClient.loadSignature(G);this.cryptoClient.verifyHash(j,V,this.rawPublicKey)||(O=!1)}),O);if(D)return(0,sha256_1.hashSha256Async)(q).then(j=>$(j));{const j=(0,sha256_1.hashSha256)(q);return $(j)}}}verifier.TokenVerifier=TokenVerifier;var decode={};Object.defineProperty(decode,"__esModule",{value:!0});decode.decodeToken=void 0;const base64url=base64Url;function decodeToken(B){if(typeof B=="string"){const S=B.split("."),D=JSON.parse(base64url.decode(S[0])),q=JSON.parse(base64url.decode(S[1])),O=S[2];return{header:D,payload:q,signature:O}}else if(typeof B=="object"){if(typeof B.payload!="string")throw new Error("Expected token payload to be a base64 or json string");let S=B.payload;B.payload[0]!=="{"&&(S=base64url.decode(S));const D=[];return B.header.map(q=>{const O=JSON.parse(base64url.decode(q));D.push(O)}),{header:D,payload:JSON.parse(S),signature:B.signature}}}decode.decodeToken=decodeToken;(function(B){var S=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(q,O,$,j){j===void 0&&(j=$);var G=Object.getOwnPropertyDescriptor(O,$);(!G||("get"in G?!O.__esModule:G.writable||G.configurable))&&(G={enumerable:!0,get:function(){return O[$]}}),Object.defineProperty(q,j,G)}:function(q,O,$,j){j===void 0&&(j=$),q[j]=O[$]}),D=commonjsGlobal&&commonjsGlobal.__exportStar||function(q,O){for(var $ in q)$!=="default"&&!Object.prototype.hasOwnProperty.call(O,$)&&S(O,q,$)};Object.defineProperty(B,"__esModule",{value:!0}),D(signer,B),D(verifier,B),D(decode,B),D(errors,B),D(cryptoClients,B)})(lib$1);function bind(B,S){return function(){return B.apply(S,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(B=>S=>{const D=toString.call(S);return B[D]||(B[D]=D.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=B=>(B=B.toLowerCase(),S=>kindOf(S)===B),typeOfTest=B=>S=>typeof S===B,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(B){return B!==null&&!isUndefined(B)&&B.constructor!==null&&!isUndefined(B.constructor)&&isFunction(B.constructor.isBuffer)&&B.constructor.isBuffer(B)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(B){let S;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?S=ArrayBuffer.isView(B):S=B&&B.buffer&&isArrayBuffer(B.buffer),S}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=B=>B!==null&&typeof B=="object",isBoolean=B=>B===!0||B===!1,isPlainObject=B=>{if(kindOf(B)!=="object")return!1;const S=getPrototypeOf(B);return(S===null||S===Object.prototype||Object.getPrototypeOf(S)===null)&&!(Symbol.toStringTag in B)&&!(Symbol.iterator in B)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=B=>isObject(B)&&isFunction(B.pipe),isFormData=B=>{let S;return B&&(typeof FormData=="function"&&B instanceof FormData||isFunction(B.append)&&((S=kindOf(B))==="formdata"||S==="object"&&isFunction(B.toString)&&B.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=B=>B.trim?B.trim():B.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(B,S,{allOwnKeys:D=!1}={}){if(B===null||typeof B>"u")return;let q,O;if(typeof B!="object"&&(B=[B]),isArray(B))for(q=0,O=B.length;q<O;q++)S.call(null,B[q],q,B);else{const $=D?Object.getOwnPropertyNames(B):Object.keys(B),j=$.length;let G;for(q=0;q<j;q++)G=$[q],S.call(null,B[G],G,B)}}function findKey(B,S){S=S.toLowerCase();const D=Object.keys(B);let q=D.length,O;for(;q-- >0;)if(O=D[q],S===O.toLowerCase())return O;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=B=>!isUndefined(B)&&B!==_global;function merge(){const{caseless:B}=isContextDefined(this)&&this||{},S={},D=(q,O)=>{const $=B&&findKey(S,O)||O;isPlainObject(S[$])&&isPlainObject(q)?S[$]=merge(S[$],q):isPlainObject(q)?S[$]=merge({},q):isArray(q)?S[$]=q.slice():S[$]=q};for(let q=0,O=arguments.length;q<O;q++)arguments[q]&&forEach(arguments[q],D);return S}const extend=(B,S,D,{allOwnKeys:q}={})=>(forEach(S,(O,$)=>{D&&isFunction(O)?B[$]=bind(O,D):B[$]=O},{allOwnKeys:q}),B),stripBOM=B=>(B.charCodeAt(0)===65279&&(B=B.slice(1)),B),inherits=(B,S,D,q)=>{B.prototype=Object.create(S.prototype,q),B.prototype.constructor=B,Object.defineProperty(B,"super",{value:S.prototype}),D&&Object.assign(B.prototype,D)},toFlatObject=(B,S,D,q)=>{let O,$,j;const G={};if(S=S||{},B==null)return S;do{for(O=Object.getOwnPropertyNames(B),$=O.length;$-- >0;)j=O[$],(!q||q(j,B,S))&&!G[j]&&(S[j]=B[j],G[j]=!0);B=D!==!1&&getPrototypeOf(B)}while(B&&(!D||D(B,S))&&B!==Object.prototype);return S},endsWith=(B,S,D)=>{B=String(B),(D===void 0||D>B.length)&&(D=B.length),D-=S.length;const q=B.indexOf(S,D);return q!==-1&&q===D},toArray=B=>{if(!B)return null;if(isArray(B))return B;let S=B.length;if(!isNumber(S))return null;const D=new Array(S);for(;S-- >0;)D[S]=B[S];return D},isTypedArray=(B=>S=>B&&S instanceof B)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(B,S)=>{const q=(B&&B[Symbol.iterator]).call(B);let O;for(;(O=q.next())&&!O.done;){const $=O.value;S.call(B,$[0],$[1])}},matchAll=(B,S)=>{let D;const q=[];for(;(D=B.exec(S))!==null;)q.push(D);return q},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=B=>B.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(D,q,O){return q.toUpperCase()+O}),hasOwnProperty=(({hasOwnProperty:B})=>(S,D)=>B.call(S,D))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(B,S)=>{const D=Object.getOwnPropertyDescriptors(B),q={};forEach(D,(O,$)=>{let j;(j=S(O,$,B))!==!1&&(q[$]=j||O)}),Object.defineProperties(B,q)},freezeMethods=B=>{reduceDescriptors(B,(S,D)=>{if(isFunction(B)&&["arguments","caller","callee"].indexOf(D)!==-1)return!1;const q=B[D];if(isFunction(q)){if(S.enumerable=!1,"writable"in S){S.writable=!1;return}S.set||(S.set=()=>{throw Error("Can not rewrite read-only method '"+D+"'")})}})},toObjectSet=(B,S)=>{const D={},q=O=>{O.forEach($=>{D[$]=!0})};return isArray(B)?q(B):q(String(B).split(S)),D},noop=()=>{},toFiniteNumber=(B,S)=>B!=null&&Number.isFinite(B=+B)?B:S,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(B=16,S=ALPHABET.ALPHA_DIGIT)=>{let D="";const{length:q}=S;for(;B--;)D+=S[Math.random()*q|0];return D};function isSpecCompliantForm(B){return!!(B&&isFunction(B.append)&&B[Symbol.toStringTag]==="FormData"&&B[Symbol.iterator])}const toJSONObject=B=>{const S=new Array(10),D=(q,O)=>{if(isObject(q)){if(S.indexOf(q)>=0)return;if(!("toJSON"in q)){S[O]=q;const $=isArray(q)?[]:{};return forEach(q,(j,G)=>{const V=D(j,O+1);!isUndefined(V)&&($[G]=V)}),S[O]=void 0,$}}return q};return D(B,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=B=>B&&(isObject(B)||isFunction(B))&&isFunction(B.then)&&isFunction(B.catch),_setImmediate=((B,S)=>B?setImmediate:S?((D,q)=>(_global.addEventListener("message",({source:O,data:$})=>{O===_global&&$===D&&q.length&&q.shift()()},!1),O=>{q.push(O),_global.postMessage(D,"*")}))(`axios@${Math.random()}`,[]):D=>setTimeout(D))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process$1<"u"&&process$1.nextTick||_setImmediate,utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError(B,S,D,q,O){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=B,this.name="AxiosError",S&&(this.code=S),D&&(this.config=D),q&&(this.request=q),O&&(this.response=O)}utils$1.inherits(AxiosError,Error,{toJSON:function B(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(B=>{descriptors[B]={value:B}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(B,S,D,q,O,$)=>{const j=Object.create(prototype$1);return utils$1.toFlatObject(B,j,function(V){return V!==Error.prototype},G=>G!=="isAxiosError"),AxiosError.call(j,B.message,S,D,q,O),j.cause=B,j.name=B.name,$&&Object.assign(j,$),j};const httpAdapter=null;function isVisitable(B){return utils$1.isPlainObject(B)||utils$1.isArray(B)}function removeBrackets(B){return utils$1.endsWith(B,"[]")?B.slice(0,-2):B}function renderKey(B,S,D){return B?B.concat(S).map(function(O,$){return O=removeBrackets(O),!D&&$?"["+O+"]":O}).join(D?".":""):S}function isFlatArray(B){return utils$1.isArray(B)&&!B.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function B(S){return/^is[A-Z]/.test(S)});function toFormData(B,S,D){if(!utils$1.isObject(B))throw new TypeError("target must be an object");S=S||new FormData,D=utils$1.toFlatObject(D,{metaTokens:!0,dots:!1,indexes:!1},!1,function(re,ne){return!utils$1.isUndefined(ne[re])});const q=D.metaTokens,O=D.visitor||H,$=D.dots,j=D.indexes,V=(D.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(S);if(!utils$1.isFunction(O))throw new TypeError("visitor must be a function");function K(ee){if(ee===null)return"";if(utils$1.isDate(ee))return ee.toISOString();if(!V&&utils$1.isBlob(ee))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(ee)||utils$1.isTypedArray(ee)?V&&typeof Blob=="function"?new Blob([ee]):Buffer.from(ee):ee}function H(ee,re,ne){let se=ee;if(ee&&!ne&&typeof ee=="object"){if(utils$1.endsWith(re,"{}"))re=q?re:re.slice(0,-2),ee=JSON.stringify(ee);else if(utils$1.isArray(ee)&&isFlatArray(ee)||(utils$1.isFileList(ee)||utils$1.endsWith(re,"[]"))&&(se=utils$1.toArray(ee)))return re=removeBrackets(re),se.forEach(function(fe,ue){!(utils$1.isUndefined(fe)||fe===null)&&S.append(j===!0?renderKey([re],ue,$):j===null?re:re+"[]",K(fe))}),!1}return isVisitable(ee)?!0:(S.append(renderKey(ne,re,$),K(ee)),!1)}const Y=[],X=Object.assign(predicates,{defaultVisitor:H,convertValue:K,isVisitable});function Q(ee,re){if(!utils$1.isUndefined(ee)){if(Y.indexOf(ee)!==-1)throw Error("Circular reference detected in "+re.join("."));Y.push(ee),utils$1.forEach(ee,function(se,ae){(!(utils$1.isUndefined(se)||se===null)&&O.call(S,se,utils$1.isString(ae)?ae.trim():ae,re,X))===!0&&Q(se,re?re.concat(ae):[ae])}),Y.pop()}}if(!utils$1.isObject(B))throw new TypeError("data must be an object");return Q(B),S}function encode$1(B){const S={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(B).replace(/[!'()~]|%20|%00/g,function(q){return S[q]})}function AxiosURLSearchParams(B,S){this._pairs=[],B&&toFormData(B,this,S)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function B(S,D){this._pairs.push([S,D])};prototype.toString=function B(S){const D=S?function(q){return S.call(this,q,encode$1)}:encode$1;return this._pairs.map(function(O){return D(O[0])+"="+D(O[1])},"").join("&")};function encode(B){return encodeURIComponent(B).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(B,S,D){if(!S)return B;const q=D&&D.encode||encode,O=D&&D.serialize;let $;if(O?$=O(S,D):$=utils$1.isURLSearchParams(S)?S.toString():new AxiosURLSearchParams(S,D).toString(q),$){const j=B.indexOf("#");j!==-1&&(B=B.slice(0,j)),B+=(B.indexOf("?")===-1?"?":"&")+$}return B}class InterceptorManager{constructor(){this.handlers=[]}use(S,D,q){return this.handlers.push({fulfilled:S,rejected:D,synchronous:q?q.synchronous:!1,runWhen:q?q.runWhen:null}),this.handlers.length-1}eject(S){this.handlers[S]&&(this.handlers[S]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(S){utils$1.forEach(this.handlers,function(q){q!==null&&S(q)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(B=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(B)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(B,S){return toFormData(B,new platform.classes.URLSearchParams,Object.assign({visitor:function(D,q,O,$){return platform.isNode&&utils$1.isBuffer(D)?(this.append(q,D.toString("base64")),!1):$.defaultVisitor.apply(this,arguments)}},S))}function parsePropPath(B){return utils$1.matchAll(/\w+|\[(\w*)]/g,B).map(S=>S[0]==="[]"?"":S[1]||S[0])}function arrayToObject(B){const S={},D=Object.keys(B);let q;const O=D.length;let $;for(q=0;q<O;q++)$=D[q],S[$]=B[$];return S}function formDataToJSON(B){function S(D,q,O,$){let j=D[$++];if(j==="__proto__")return!0;const G=Number.isFinite(+j),V=$>=D.length;return j=!j&&utils$1.isArray(O)?O.length:j,V?(utils$1.hasOwnProp(O,j)?O[j]=[O[j],q]:O[j]=q,!G):((!O[j]||!utils$1.isObject(O[j]))&&(O[j]=[]),S(D,q,O[j],$)&&utils$1.isArray(O[j])&&(O[j]=arrayToObject(O[j])),!G)}if(utils$1.isFormData(B)&&utils$1.isFunction(B.entries)){const D={};return utils$1.forEachEntry(B,(q,O)=>{S(parsePropPath(q),O,D,0)}),D}return null}function stringifySafely(B,S,D){if(utils$1.isString(B))try{return(S||JSON.parse)(B),utils$1.trim(B)}catch(q){if(q.name!=="SyntaxError")throw q}return(0,JSON.stringify)(B)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function B(S,D){const q=D.getContentType()||"",O=q.indexOf("application/json")>-1,$=utils$1.isObject(S);if($&&utils$1.isHTMLForm(S)&&(S=new FormData(S)),utils$1.isFormData(S))return O?JSON.stringify(formDataToJSON(S)):S;if(utils$1.isArrayBuffer(S)||utils$1.isBuffer(S)||utils$1.isStream(S)||utils$1.isFile(S)||utils$1.isBlob(S)||utils$1.isReadableStream(S))return S;if(utils$1.isArrayBufferView(S))return S.buffer;if(utils$1.isURLSearchParams(S))return D.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),S.toString();let G;if($){if(q.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(S,this.formSerializer).toString();if((G=utils$1.isFileList(S))||q.indexOf("multipart/form-data")>-1){const V=this.env&&this.env.FormData;return toFormData(G?{"files[]":S}:S,V&&new V,this.formSerializer)}}return $||O?(D.setContentType("application/json",!1),stringifySafely(S)):S}],transformResponse:[function B(S){const D=this.transitional||defaults.transitional,q=D&&D.forcedJSONParsing,O=this.responseType==="json";if(utils$1.isResponse(S)||utils$1.isReadableStream(S))return S;if(S&&utils$1.isString(S)&&(q&&!this.responseType||O)){const j=!(D&&D.silentJSONParsing)&&O;try{return JSON.parse(S)}catch(G){if(j)throw G.name==="SyntaxError"?AxiosError.from(G,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):G}}return S}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function B(S){return S>=200&&S<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],B=>{defaults.headers[B]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=B=>{const S={};let D,q,O;return B&&B.split(`
`).forEach(function(j){O=j.indexOf(":"),D=j.substring(0,O).trim().toLowerCase(),q=j.substring(O+1).trim(),!(!D||S[D]&&ignoreDuplicateOf[D])&&(D==="set-cookie"?S[D]?S[D].push(q):S[D]=[q]:S[D]=S[D]?S[D]+", "+q:q)}),S},$internals=Symbol("internals");function normalizeHeader(B){return B&&String(B).trim().toLowerCase()}function normalizeValue(B){return B===!1||B==null?B:utils$1.isArray(B)?B.map(normalizeValue):String(B)}function parseTokens(B){const S=Object.create(null),D=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let q;for(;q=D.exec(B);)S[q[1]]=q[2];return S}const isValidHeaderName=B=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(B.trim());function matchHeaderValue(B,S,D,q,O){if(utils$1.isFunction(q))return q.call(this,S,D);if(O&&(S=D),!!utils$1.isString(S)){if(utils$1.isString(q))return S.indexOf(q)!==-1;if(utils$1.isRegExp(q))return q.test(S)}}function formatHeader(B){return B.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(S,D,q)=>D.toUpperCase()+q)}function buildAccessors(B,S){const D=utils$1.toCamelCase(" "+S);["get","set","has"].forEach(q=>{Object.defineProperty(B,q+D,{value:function(O,$,j){return this[q].call(this,S,O,$,j)},configurable:!0})})}class AxiosHeaders{constructor(S){S&&this.set(S)}set(S,D,q){const O=this;function $(G,V,K){const H=normalizeHeader(V);if(!H)throw new Error("header name must be a non-empty string");const Y=utils$1.findKey(O,H);(!Y||O[Y]===void 0||K===!0||K===void 0&&O[Y]!==!1)&&(O[Y||V]=normalizeValue(G))}const j=(G,V)=>utils$1.forEach(G,(K,H)=>$(K,H,V));if(utils$1.isPlainObject(S)||S instanceof this.constructor)j(S,D);else if(utils$1.isString(S)&&(S=S.trim())&&!isValidHeaderName(S))j(parseHeaders(S),D);else if(utils$1.isHeaders(S))for(const[G,V]of S.entries())$(V,G,q);else S!=null&&$(D,S,q);return this}get(S,D){if(S=normalizeHeader(S),S){const q=utils$1.findKey(this,S);if(q){const O=this[q];if(!D)return O;if(D===!0)return parseTokens(O);if(utils$1.isFunction(D))return D.call(this,O,q);if(utils$1.isRegExp(D))return D.exec(O);throw new TypeError("parser must be boolean|regexp|function")}}}has(S,D){if(S=normalizeHeader(S),S){const q=utils$1.findKey(this,S);return!!(q&&this[q]!==void 0&&(!D||matchHeaderValue(this,this[q],q,D)))}return!1}delete(S,D){const q=this;let O=!1;function $(j){if(j=normalizeHeader(j),j){const G=utils$1.findKey(q,j);G&&(!D||matchHeaderValue(q,q[G],G,D))&&(delete q[G],O=!0)}}return utils$1.isArray(S)?S.forEach($):$(S),O}clear(S){const D=Object.keys(this);let q=D.length,O=!1;for(;q--;){const $=D[q];(!S||matchHeaderValue(this,this[$],$,S,!0))&&(delete this[$],O=!0)}return O}normalize(S){const D=this,q={};return utils$1.forEach(this,(O,$)=>{const j=utils$1.findKey(q,$);if(j){D[j]=normalizeValue(O),delete D[$];return}const G=S?formatHeader($):String($).trim();G!==$&&delete D[$],D[G]=normalizeValue(O),q[G]=!0}),this}concat(...S){return this.constructor.concat(this,...S)}toJSON(S){const D=Object.create(null);return utils$1.forEach(this,(q,O)=>{q!=null&&q!==!1&&(D[O]=S&&utils$1.isArray(q)?q.join(", "):q)}),D}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([S,D])=>S+": "+D).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(S){return S instanceof this?S:new this(S)}static concat(S,...D){const q=new this(S);return D.forEach(O=>q.set(O)),q}static accessor(S){const q=(this[$internals]=this[$internals]={accessors:{}}).accessors,O=this.prototype;function $(j){const G=normalizeHeader(j);q[G]||(buildAccessors(O,j),q[G]=!0)}return utils$1.isArray(S)?S.forEach($):$(S),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:B},S)=>{let D=S[0].toUpperCase()+S.slice(1);return{get:()=>B,set(q){this[D]=q}}});utils$1.freezeMethods(AxiosHeaders);function transformData(B,S){const D=this||defaults,q=S||D,O=AxiosHeaders.from(q.headers);let $=q.data;return utils$1.forEach(B,function(G){$=G.call(D,$,O.normalize(),S?S.status:void 0)}),O.normalize(),$}function isCancel(B){return!!(B&&B.__CANCEL__)}function CanceledError(B,S,D){AxiosError.call(this,B==null?"canceled":B,AxiosError.ERR_CANCELED,S,D),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(B,S,D){const q=D.config.validateStatus;!D.status||!q||q(D.status)?B(D):S(new AxiosError("Request failed with status code "+D.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(D.status/100)-4],D.config,D.request,D))}function parseProtocol(B){const S=/^([-+\w]{1,25})(:?\/\/|:)/.exec(B);return S&&S[1]||""}function speedometer(B,S){B=B||10;const D=new Array(B),q=new Array(B);let O=0,$=0,j;return S=S!==void 0?S:1e3,function(V){const K=Date.now(),H=q[$];j||(j=K),D[O]=V,q[O]=K;let Y=$,X=0;for(;Y!==O;)X+=D[Y++],Y=Y%B;if(O=(O+1)%B,O===$&&($=($+1)%B),K-j<S)return;const Q=H&&K-H;return Q?Math.round(X*1e3/Q):void 0}}function throttle(B,S){let D=0,q=1e3/S,O,$;const j=(K,H=Date.now())=>{D=H,O=null,$&&(clearTimeout($),$=null),B.apply(null,K)};return[(...K)=>{const H=Date.now(),Y=H-D;Y>=q?j(K,H):(O=K,$||($=setTimeout(()=>{$=null,j(O)},q-Y)))},()=>O&&j(O)]}const progressEventReducer=(B,S,D=3)=>{let q=0;const O=speedometer(50,250);return throttle($=>{const j=$.loaded,G=$.lengthComputable?$.total:void 0,V=j-q,K=O(V),H=j<=G;q=j;const Y={loaded:j,total:G,progress:G?j/G:void 0,bytes:V,rate:K||void 0,estimated:K&&G&&H?(G-j)/K:void 0,event:$,lengthComputable:G!=null,[S?"download":"upload"]:!0};B(Y)},D)},progressEventDecorator=(B,S)=>{const D=B!=null;return[q=>S[0]({lengthComputable:D,total:B,loaded:q}),S[1]]},asyncDecorator=B=>(...S)=>utils$1.asap(()=>B(...S)),isURLSameOrigin=platform.hasStandardBrowserEnv?function B(){const S=/(msie|trident)/i.test(navigator.userAgent),D=document.createElement("a");let q;function O($){let j=$;return S&&(D.setAttribute("href",j),j=D.href),D.setAttribute("href",j),{href:D.href,protocol:D.protocol?D.protocol.replace(/:$/,""):"",host:D.host,search:D.search?D.search.replace(/^\?/,""):"",hash:D.hash?D.hash.replace(/^#/,""):"",hostname:D.hostname,port:D.port,pathname:D.pathname.charAt(0)==="/"?D.pathname:"/"+D.pathname}}return q=O(window.location.href),function(j){const G=utils$1.isString(j)?O(j):j;return G.protocol===q.protocol&&G.host===q.host}}():function B(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(B,S,D,q,O,$){const j=[B+"="+encodeURIComponent(S)];utils$1.isNumber(D)&&j.push("expires="+new Date(D).toGMTString()),utils$1.isString(q)&&j.push("path="+q),utils$1.isString(O)&&j.push("domain="+O),$===!0&&j.push("secure"),document.cookie=j.join("; ")},read(B){const S=document.cookie.match(new RegExp("(^|;\\s*)("+B+")=([^;]*)"));return S?decodeURIComponent(S[3]):null},remove(B){this.write(B,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(B){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(B)}function combineURLs(B,S){return S?B.replace(/\/?\/$/,"")+"/"+S.replace(/^\/+/,""):B}function buildFullPath(B,S){return B&&!isAbsoluteURL(S)?combineURLs(B,S):S}const headersToObject=B=>B instanceof AxiosHeaders?{...B}:B;function mergeConfig(B,S){S=S||{};const D={};function q(K,H,Y){return utils$1.isPlainObject(K)&&utils$1.isPlainObject(H)?utils$1.merge.call({caseless:Y},K,H):utils$1.isPlainObject(H)?utils$1.merge({},H):utils$1.isArray(H)?H.slice():H}function O(K,H,Y){if(utils$1.isUndefined(H)){if(!utils$1.isUndefined(K))return q(void 0,K,Y)}else return q(K,H,Y)}function $(K,H){if(!utils$1.isUndefined(H))return q(void 0,H)}function j(K,H){if(utils$1.isUndefined(H)){if(!utils$1.isUndefined(K))return q(void 0,K)}else return q(void 0,H)}function G(K,H,Y){if(Y in S)return q(K,H);if(Y in B)return q(void 0,K)}const V={url:$,method:$,data:$,baseURL:j,transformRequest:j,transformResponse:j,paramsSerializer:j,timeout:j,timeoutMessage:j,withCredentials:j,withXSRFToken:j,adapter:j,responseType:j,xsrfCookieName:j,xsrfHeaderName:j,onUploadProgress:j,onDownloadProgress:j,decompress:j,maxContentLength:j,maxBodyLength:j,beforeRedirect:j,transport:j,httpAgent:j,httpsAgent:j,cancelToken:j,socketPath:j,responseEncoding:j,validateStatus:G,headers:(K,H)=>O(headersToObject(K),headersToObject(H),!0)};return utils$1.forEach(Object.keys(Object.assign({},B,S)),function(H){const Y=V[H]||O,X=Y(B[H],S[H],H);utils$1.isUndefined(X)&&Y!==G||(D[H]=X)}),D}const resolveConfig=B=>{const S=mergeConfig({},B);let{data:D,withXSRFToken:q,xsrfHeaderName:O,xsrfCookieName:$,headers:j,auth:G}=S;S.headers=j=AxiosHeaders.from(j),S.url=buildURL(buildFullPath(S.baseURL,S.url),B.params,B.paramsSerializer),G&&j.set("Authorization","Basic "+btoa((G.username||"")+":"+(G.password?unescape(encodeURIComponent(G.password)):"")));let V;if(utils$1.isFormData(D)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)j.setContentType(void 0);else if((V=j.getContentType())!==!1){const[K,...H]=V?V.split(";").map(Y=>Y.trim()).filter(Boolean):[];j.setContentType([K||"multipart/form-data",...H].join("; "))}}if(platform.hasStandardBrowserEnv&&(q&&utils$1.isFunction(q)&&(q=q(S)),q||q!==!1&&isURLSameOrigin(S.url))){const K=O&&$&&cookies.read($);K&&j.set(O,K)}return S},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(B){return new Promise(function(D,q){const O=resolveConfig(B);let $=O.data;const j=AxiosHeaders.from(O.headers).normalize();let{responseType:G,onUploadProgress:V,onDownloadProgress:K}=O,H,Y,X,Q,ee;function re(){Q&&Q(),ee&&ee(),O.cancelToken&&O.cancelToken.unsubscribe(H),O.signal&&O.signal.removeEventListener("abort",H)}let ne=new XMLHttpRequest;ne.open(O.method.toUpperCase(),O.url,!0),ne.timeout=O.timeout;function se(){if(!ne)return;const fe=AxiosHeaders.from("getAllResponseHeaders"in ne&&ne.getAllResponseHeaders()),_e={data:!G||G==="text"||G==="json"?ne.responseText:ne.response,status:ne.status,statusText:ne.statusText,headers:fe,config:B,request:ne};settle(function(Ae){D(Ae),re()},function(Ae){q(Ae),re()},_e),ne=null}"onloadend"in ne?ne.onloadend=se:ne.onreadystatechange=function(){!ne||ne.readyState!==4||ne.status===0&&!(ne.responseURL&&ne.responseURL.indexOf("file:")===0)||setTimeout(se)},ne.onabort=function(){ne&&(q(new AxiosError("Request aborted",AxiosError.ECONNABORTED,B,ne)),ne=null)},ne.onerror=function(){q(new AxiosError("Network Error",AxiosError.ERR_NETWORK,B,ne)),ne=null},ne.ontimeout=function(){let ue=O.timeout?"timeout of "+O.timeout+"ms exceeded":"timeout exceeded";const _e=O.transitional||transitionalDefaults;O.timeoutErrorMessage&&(ue=O.timeoutErrorMessage),q(new AxiosError(ue,_e.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,B,ne)),ne=null},$===void 0&&j.setContentType(null),"setRequestHeader"in ne&&utils$1.forEach(j.toJSON(),function(ue,_e){ne.setRequestHeader(_e,ue)}),utils$1.isUndefined(O.withCredentials)||(ne.withCredentials=!!O.withCredentials),G&&G!=="json"&&(ne.responseType=O.responseType),K&&([X,ee]=progressEventReducer(K,!0),ne.addEventListener("progress",X)),V&&ne.upload&&([Y,Q]=progressEventReducer(V),ne.upload.addEventListener("progress",Y),ne.upload.addEventListener("loadend",Q)),(O.cancelToken||O.signal)&&(H=fe=>{ne&&(q(!fe||fe.type?new CanceledError(null,B,ne):fe),ne.abort(),ne=null)},O.cancelToken&&O.cancelToken.subscribe(H),O.signal&&(O.signal.aborted?H():O.signal.addEventListener("abort",H)));const ae=parseProtocol(O.url);if(ae&&platform.protocols.indexOf(ae)===-1){q(new AxiosError("Unsupported protocol "+ae+":",AxiosError.ERR_BAD_REQUEST,B));return}ne.send($||null)})},composeSignals=(B,S)=>{let D=new AbortController,q;const O=function(V){if(!q){q=!0,j();const K=V instanceof Error?V:this.reason;D.abort(K instanceof AxiosError?K:new CanceledError(K instanceof Error?K.message:K))}};let $=S&&setTimeout(()=>{O(new AxiosError(`timeout ${S} of ms exceeded`,AxiosError.ETIMEDOUT))},S);const j=()=>{B&&($&&clearTimeout($),$=null,B.forEach(V=>{V&&(V.removeEventListener?V.removeEventListener("abort",O):V.unsubscribe(O))}),B=null)};B.forEach(V=>V&&V.addEventListener&&V.addEventListener("abort",O));const{signal:G}=D;return G.unsubscribe=j,[G,()=>{$&&clearTimeout($),$=null}]},streamChunk=function*(B,S){let D=B.byteLength;if(D<S){yield B;return}let q=0,O;for(;q<D;)O=q+S,yield B.slice(q,O),q=O},readBytes=async function*(B,S,D){for await(const q of B)yield*streamChunk(ArrayBuffer.isView(q)?q:await D(String(q)),S)},trackStream=(B,S,D,q,O)=>{const $=readBytes(B,S,O);let j=0,G,V=K=>{G||(G=!0,q&&q(K))};return new ReadableStream({async pull(K){try{const{done:H,value:Y}=await $.next();if(H){V(),K.close();return}let X=Y.byteLength;if(D){let Q=j+=X;D(Q)}K.enqueue(new Uint8Array(Y))}catch(H){throw V(H),H}},cancel(K){return V(K),$.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(B=>S=>B.encode(S))(new TextEncoder):async B=>new Uint8Array(await new Response(B).arrayBuffer())),test=(B,...S)=>{try{return!!B(...S)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let B=!1;const S=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return B=!0,"half"}}).headers.has("Content-Type");return B&&!S}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(B=>B.body)};isFetchSupported&&(B=>{["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!resolvers[S]&&(resolvers[S]=utils$1.isFunction(B[S])?D=>D[S]():(D,q)=>{throw new AxiosError(`Response type '${S}' is not supported`,AxiosError.ERR_NOT_SUPPORT,q)})})})(new Response);const getBodyLength=async B=>{if(B==null)return 0;if(utils$1.isBlob(B))return B.size;if(utils$1.isSpecCompliantForm(B))return(await new Request(B).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(B)||utils$1.isArrayBuffer(B))return B.byteLength;if(utils$1.isURLSearchParams(B)&&(B=B+""),utils$1.isString(B))return(await encodeText(B)).byteLength},resolveBodyLength=async(B,S)=>{const D=utils$1.toFiniteNumber(B.getContentLength());return D==null?getBodyLength(S):D},fetchAdapter=isFetchSupported&&(async B=>{let{url:S,method:D,data:q,signal:O,cancelToken:$,timeout:j,onDownloadProgress:G,onUploadProgress:V,responseType:K,headers:H,withCredentials:Y="same-origin",fetchOptions:X}=resolveConfig(B);K=K?(K+"").toLowerCase():"text";let[Q,ee]=O||$||j?composeSignals([O,$],j):[],re,ne;const se=()=>{!re&&setTimeout(()=>{Q&&Q.unsubscribe()}),re=!0};let ae;try{if(V&&supportsRequestStream&&D!=="get"&&D!=="head"&&(ae=await resolveBodyLength(H,q))!==0){let ge=new Request(S,{method:"POST",body:q,duplex:"half"}),Ae;if(utils$1.isFormData(q)&&(Ae=ge.headers.get("content-type"))&&H.setContentType(Ae),ge.body){const[Te,be]=progressEventDecorator(ae,progressEventReducer(asyncDecorator(V)));q=trackStream(ge.body,DEFAULT_CHUNK_SIZE,Te,be,encodeText)}}utils$1.isString(Y)||(Y=Y?"include":"omit"),ne=new Request(S,{...X,signal:Q,method:D.toUpperCase(),headers:H.normalize().toJSON(),body:q,duplex:"half",credentials:Y});let fe=await fetch(ne);const ue=supportsResponseStream&&(K==="stream"||K==="response");if(supportsResponseStream&&(G||ue)){const ge={};["status","statusText","headers"].forEach(Pe=>{ge[Pe]=fe[Pe]});const Ae=utils$1.toFiniteNumber(fe.headers.get("content-length")),[Te,be]=G&&progressEventDecorator(Ae,progressEventReducer(asyncDecorator(G),!0))||[];fe=new Response(trackStream(fe.body,DEFAULT_CHUNK_SIZE,Te,()=>{be&&be(),ue&&se()},encodeText),ge)}K=K||"text";let _e=await resolvers[utils$1.findKey(resolvers,K)||"text"](fe,B);return!ue&&se(),ee&&ee(),await new Promise((ge,Ae)=>{settle(ge,Ae,{data:_e,headers:AxiosHeaders.from(fe.headers),status:fe.status,statusText:fe.statusText,config:B,request:ne})})}catch(fe){throw se(),fe&&fe.name==="TypeError"&&/fetch/i.test(fe.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,B,ne),{cause:fe.cause||fe}):AxiosError.from(fe,fe&&fe.code,B,ne)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(B,S)=>{if(B){try{Object.defineProperty(B,"name",{value:S})}catch{}Object.defineProperty(B,"adapterName",{value:S})}});const renderReason=B=>`- ${B}`,isResolvedHandle=B=>utils$1.isFunction(B)||B===null||B===!1,adapters={getAdapter:B=>{B=utils$1.isArray(B)?B:[B];const{length:S}=B;let D,q;const O={};for(let $=0;$<S;$++){D=B[$];let j;if(q=D,!isResolvedHandle(D)&&(q=knownAdapters[(j=String(D)).toLowerCase()],q===void 0))throw new AxiosError(`Unknown adapter '${j}'`);if(q)break;O[j||"#"+$]=q}if(!q){const $=Object.entries(O).map(([G,V])=>`adapter ${G} `+(V===!1?"is not supported by the environment":"is not available in the build"));let j=S?$.length>1?`since :
`+$.map(renderReason).join(`
`):" "+renderReason($[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+j,"ERR_NOT_SUPPORT")}return q},adapters:knownAdapters};function throwIfCancellationRequested(B){if(B.cancelToken&&B.cancelToken.throwIfRequested(),B.signal&&B.signal.aborted)throw new CanceledError(null,B)}function dispatchRequest(B){return throwIfCancellationRequested(B),B.headers=AxiosHeaders.from(B.headers),B.data=transformData.call(B,B.transformRequest),["post","put","patch"].indexOf(B.method)!==-1&&B.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(B.adapter||defaults.adapter)(B).then(function(q){return throwIfCancellationRequested(B),q.data=transformData.call(B,B.transformResponse,q),q.headers=AxiosHeaders.from(q.headers),q},function(q){return isCancel(q)||(throwIfCancellationRequested(B),q&&q.response&&(q.response.data=transformData.call(B,B.transformResponse,q.response),q.response.headers=AxiosHeaders.from(q.response.headers))),Promise.reject(q)})}const VERSION="1.7.4",validators$1={};["object","boolean","number","function","string","symbol"].forEach((B,S)=>{validators$1[B]=function(q){return typeof q===B||"a"+(S<1?"n ":" ")+B}});const deprecatedWarnings={};validators$1.transitional=function B(S,D,q){function O($,j){return"[Axios v"+VERSION+"] Transitional option '"+$+"'"+j+(q?". "+q:"")}return($,j,G)=>{if(S===!1)throw new AxiosError(O(j," has been removed"+(D?" in "+D:"")),AxiosError.ERR_DEPRECATED);return D&&!deprecatedWarnings[j]&&(deprecatedWarnings[j]=!0,console.warn(O(j," has been deprecated since v"+D+" and will be removed in the near future"))),S?S($,j,G):!0}};function assertOptions(B,S,D){if(typeof B!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const q=Object.keys(B);let O=q.length;for(;O-- >0;){const $=q[O],j=S[$];if(j){const G=B[$],V=G===void 0||j(G,$,B);if(V!==!0)throw new AxiosError("option "+$+" must be "+V,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(D!==!0)throw new AxiosError("Unknown option "+$,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(S){this.defaults=S,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(S,D){try{return await this._request(S,D)}catch(q){if(q instanceof Error){let O;Error.captureStackTrace?Error.captureStackTrace(O={}):O=new Error;const $=O.stack?O.stack.replace(/^.+\n/,""):"";try{q.stack?$&&!String(q.stack).endsWith($.replace(/^.+\n.+\n/,""))&&(q.stack+=`
`+$):q.stack=$}catch{}}throw q}}_request(S,D){typeof S=="string"?(D=D||{},D.url=S):D=S||{},D=mergeConfig(this.defaults,D);const{transitional:q,paramsSerializer:O,headers:$}=D;q!==void 0&&validator.assertOptions(q,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),O!=null&&(utils$1.isFunction(O)?D.paramsSerializer={serialize:O}:validator.assertOptions(O,{encode:validators.function,serialize:validators.function},!0)),D.method=(D.method||this.defaults.method||"get").toLowerCase();let j=$&&utils$1.merge($.common,$[D.method]);$&&utils$1.forEach(["delete","get","head","post","put","patch","common"],ee=>{delete $[ee]}),D.headers=AxiosHeaders.concat(j,$);const G=[];let V=!0;this.interceptors.request.forEach(function(re){typeof re.runWhen=="function"&&re.runWhen(D)===!1||(V=V&&re.synchronous,G.unshift(re.fulfilled,re.rejected))});const K=[];this.interceptors.response.forEach(function(re){K.push(re.fulfilled,re.rejected)});let H,Y=0,X;if(!V){const ee=[dispatchRequest.bind(this),void 0];for(ee.unshift.apply(ee,G),ee.push.apply(ee,K),X=ee.length,H=Promise.resolve(D);Y<X;)H=H.then(ee[Y++],ee[Y++]);return H}X=G.length;let Q=D;for(Y=0;Y<X;){const ee=G[Y++],re=G[Y++];try{Q=ee(Q)}catch(ne){re.call(this,ne);break}}try{H=dispatchRequest.call(this,Q)}catch(ee){return Promise.reject(ee)}for(Y=0,X=K.length;Y<X;)H=H.then(K[Y++],K[Y++]);return H}getUri(S){S=mergeConfig(this.defaults,S);const D=buildFullPath(S.baseURL,S.url);return buildURL(D,S.params,S.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function B(S){Axios.prototype[S]=function(D,q){return this.request(mergeConfig(q||{},{method:S,url:D,data:(q||{}).data}))}});utils$1.forEach(["post","put","patch"],function B(S){function D(q){return function($,j,G){return this.request(mergeConfig(G||{},{method:S,headers:q?{"Content-Type":"multipart/form-data"}:{},url:$,data:j}))}}Axios.prototype[S]=D(),Axios.prototype[S+"Form"]=D(!0)});class CancelToken{constructor(S){if(typeof S!="function")throw new TypeError("executor must be a function.");let D;this.promise=new Promise(function($){D=$});const q=this;this.promise.then(O=>{if(!q._listeners)return;let $=q._listeners.length;for(;$-- >0;)q._listeners[$](O);q._listeners=null}),this.promise.then=O=>{let $;const j=new Promise(G=>{q.subscribe(G),$=G}).then(O);return j.cancel=function(){q.unsubscribe($)},j},S(function($,j,G){q.reason||(q.reason=new CanceledError($,j,G),D(q.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(S){if(this.reason){S(this.reason);return}this._listeners?this._listeners.push(S):this._listeners=[S]}unsubscribe(S){if(!this._listeners)return;const D=this._listeners.indexOf(S);D!==-1&&this._listeners.splice(D,1)}static source(){let S;return{token:new CancelToken(function(O){S=O}),cancel:S}}}function spread(B){return function(D){return B.apply(null,D)}}function isAxiosError(B){return utils$1.isObject(B)&&B.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([B,S])=>{HttpStatusCode[S]=B});function createInstance(B){const S=new Axios(B),D=bind(Axios.prototype.request,S);return utils$1.extend(D,Axios.prototype,S,{allOwnKeys:!0}),utils$1.extend(D,S,null,{allOwnKeys:!0}),D.create=function(O){return createInstance(mergeConfig(B,O))},D}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function B(S){return Promise.all(S)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=B=>formDataToJSON(utils$1.isHTMLForm(B)?new FormData(B):B);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var t=function(){return t=Object.assign||function(B){for(var S,D=1,q=arguments.length;D<q;D++)for(var O in S=arguments[D])Object.prototype.hasOwnProperty.call(S,O)&&(B[O]=S[O]);return B},t.apply(this,arguments)},r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",e=B=>{if(!B||typeof B!="string")throw new Error(`Expected base58 string but got “${B}”`);if(B.match(/[IOl0]/gmu))throw new Error(`Invalid base58 character “${B.match(/[IOl0]/gmu)}”`);const S=B.match(/^1+/gmu),D=S?S[0].length:0,q=(B.length-D)*(Math.log(58)/Math.log(256))+1>>>0;return new Uint8Array([...new Uint8Array(D),...B.match(/.{1}/gmu).map($=>r.indexOf($)).reduce(($,j)=>$=$.map(G=>{const V=58*G+j;return j=V>>8,V}),new Uint8Array(q)).reverse().filter((O=!1,$=>O=O||$))]);var O};(()=>{const B=Array(256).fill(-1);for(let S=0;S<r.length;++S)B[r.charCodeAt(S)]=S})();var n=e,s,i,o,h=(s=function(B,S){Object.defineProperty(S,"__esModule",{value:!0}),S.bech32m=S.bech32=void 0;const D="qpzry9x8gf2tvdw0s3jn54khce6mua7l",q={};for(let Y=0;Y<32;Y++){const X=D.charAt(Y);q[X]=Y}function O(Y){const X=Y>>25;return(33554431&Y)<<5^996825010&-(X>>0&1)^642813549&-(X>>1&1)^513874426&-(X>>2&1)^1027748829&-(X>>3&1)^705979059&-(X>>4&1)}function $(Y){let X=1;for(let Q=0;Q<Y.length;++Q){const ee=Y.charCodeAt(Q);if(ee<33||ee>126)return"Invalid prefix ("+Y+")";X=O(X)^ee>>5}X=O(X);for(let Q=0;Q<Y.length;++Q){const ee=Y.charCodeAt(Q);X=O(X)^31&ee}return X}function j(Y,X,Q,ee){let re=0,ne=0;const se=(1<<Q)-1,ae=[];for(let fe=0;fe<Y.length;++fe)for(re=re<<X|Y[fe],ne+=X;ne>=Q;)ne-=Q,ae.push(re>>ne&se);if(ee)ne>0&&ae.push(re<<Q-ne&se);else{if(ne>=X)return"Excess padding";if(re<<Q-ne&se)return"Non-zero padding"}return ae}function G(Y){return j(Y,8,5,!0)}function V(Y){const X=j(Y,5,8,!1);if(Array.isArray(X))return X}function K(Y){const X=j(Y,5,8,!1);if(Array.isArray(X))return X;throw new Error(X)}function H(Y){let X;function Q(ee,re){if(re=re||90,ee.length<8)return ee+" too short";if(ee.length>re)return"Exceeds length limit";const ne=ee.toLowerCase(),se=ee.toUpperCase();if(ee!==ne&&ee!==se)return"Mixed-case string "+ee;const ae=(ee=ne).lastIndexOf("1");if(ae===-1)return"No separator character for "+ee;if(ae===0)return"Missing prefix for "+ee;const fe=ee.slice(0,ae),ue=ee.slice(ae+1);if(ue.length<6)return"Data too short";let _e=$(fe);if(typeof _e=="string")return _e;const ge=[];for(let Ae=0;Ae<ue.length;++Ae){const Te=ue.charAt(Ae),be=q[Te];if(be===void 0)return"Unknown character "+Te;_e=O(_e)^be,Ae+6>=ue.length||ge.push(be)}return _e!==X?"Invalid checksum for "+ee:{prefix:fe,words:ge}}return X=Y==="bech32"?1:734539939,{decodeUnsafe:function(ee,re){const ne=Q(ee,re);if(typeof ne=="object")return ne},decode:function(ee,re){const ne=Q(ee,re);if(typeof ne=="object")return ne;throw new Error(ne)},encode:function(ee,re,ne){if(ne=ne||90,ee.length+7+re.length>ne)throw new TypeError("Exceeds length limit");let se=$(ee=ee.toLowerCase());if(typeof se=="string")throw new Error(se);let ae=ee+"1";for(let fe=0;fe<re.length;++fe){const ue=re[fe];if(ue>>5)throw new Error("Non 5-bit word");se=O(se)^ue,ae+=D.charAt(ue)}for(let fe=0;fe<6;++fe)se=O(se);se^=X;for(let fe=0;fe<6;++fe)ae+=D.charAt(se>>5*(5-fe)&31);return ae},toWords:G,fromWordsUnsafe:V,fromWords:K}}S.bech32=H("bech32"),S.bech32m=H("bech32m")},s(i={exports:{}},i.exports),i.exports);(o=h)&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")&&o.default;var c=h.bech32m,a=h.bech32;const f=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];class l{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!p||w>=8e3)&&(p=new ArrayBuffer(8e3),w=0),this._byte=new Uint8Array(p,w,80),this._word=new Int32Array(p,w,20),w+=80}update(S){if(typeof S=="string")return this._utf8(S);if(S==null)throw new TypeError("Invalid type: "+typeof S);const D=S.byteOffset,q=S.byteLength;let O=q/64|0,$=0;if(O&&!(3&D)&&!(this._size%64)){const j=new Int32Array(S.buffer,D,16*O);for(;O--;)this._int32(j,$>>2),$+=64;this._size+=$}if(S.BYTES_PER_ELEMENT!==1&&S.buffer){const j=new Uint8Array(S.buffer,D+$,q-$);return this._uint8(j)}return $===q?this:this._uint8(S,$)}_uint8(S,D){const{_byte:q,_word:O}=this,$=S.length;for(D|=0;D<$;){const j=this._size%64;let G=j;for(;D<$&&G<64;)q[G++]=S[D++];G>=64&&this._int32(O),this._size+=G-j}return this}_utf8(S){const{_byte:D,_word:q}=this,O=S.length;let $=this._sp;for(let j=0;j<O;){const G=this._size%64;let V=G;for(;j<O&&V<64;){let K=0|S.charCodeAt(j++);K<128?D[V++]=K:K<2048?(D[V++]=192|K>>>6,D[V++]=128|63&K):K<55296||K>57343?(D[V++]=224|K>>>12,D[V++]=128|K>>>6&63,D[V++]=128|63&K):$?(K=((1023&$)<<10)+(1023&K)+65536,D[V++]=240|K>>>18,D[V++]=128|K>>>12&63,D[V++]=128|K>>>6&63,D[V++]=128|63&K,$=0):$=K}V>=64&&(this._int32(q),q[0]=q[16]),this._size+=V-G}return this._sp=$,this}_int32(S,D){let{A:q,B:O,C:$,D:j,E:G,F:V,G:K,H}=this,Y=0;for(D|=0;Y<16;)d[Y++]=g(S[D++]);for(Y=16;Y<64;Y++)d[Y]=A(d[Y-2])+d[Y-7]+m(d[Y-15])+d[Y-16]|0;for(Y=0;Y<64;Y++){const X=H+E(G)+b(G,V,K)+f[Y]+d[Y]|0,Q=v(q)+_(q,O,$)|0;H=K,K=V,V=G,G=j+X|0,j=$,$=O,O=q,q=X+Q|0}this.A=q+this.A|0,this.B=O+this.B|0,this.C=$+this.C|0,this.D=j+this.D|0,this.E=G+this.E|0,this.F=V+this.F|0,this.G=K+this.G|0,this.H=H+this.H|0}digest(S){const{_byte:D,_word:q}=this;let O=this._size%64|0;for(D[O++]=128;3&O;)D[O++]=0;if(O>>=2,O>14){for(;O<16;)q[O++]=0;O=0,this._int32(q)}for(;O<16;)q[O++]=0;const $=8*this._size,j=(4294967295&$)>>>0,G=($-j)/4294967296;return G&&(q[14]=g(G)),j&&(q[15]=g(j)),this._int32(q),S==="hex"?this._hex():this._bin()}_hex(){const{A:S,B:D,C:q,D:O,E:$,F:j,G,H:V}=this;return y(S)+y(D)+y(q)+y(O)+y($)+y(j)+y(G)+y(V)}_bin(){const{A:S,B:D,C:q,D:O,E:$,F:j,G,H:V,_byte:K,_word:H}=this;return H[0]=g(S),H[1]=g(D),H[2]=g(q),H[3]=g(O),H[4]=g($),H[5]=g(j),H[6]=g(G),H[7]=g(V),K.slice(0,32)}}const d=new Int32Array(64);let p,w=0;const y=B=>(B+4294967296).toString(16).substr(-8),g=new Uint8Array(new Uint16Array([65279]).buffer)[0]===254?B=>B:B=>B<<24&4278190080|B<<8&16711680|B>>8&65280|B>>24&255,b=(B,S,D)=>D^B&(S^D),_=(B,S,D)=>B&S|D&(B|S),v=B=>(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),E=B=>(B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7),m=B=>(B>>>7|B<<25)^(B>>>18|B<<14)^B>>>3,A=B=>(B>>>17|B<<15)^(B>>>19|B<<13)^B>>>10;var x,k,I=function(B){return function(S){return new l}().update(B).digest()};(function(B){B.mainnet="mainnet",B.testnet="testnet",B.regtest="regtest"})(x||(x={})),function(B){B.p2pkh="p2pkh",B.p2sh="p2sh",B.p2wpkh="p2wpkh",B.p2wsh="p2wsh",B.p2tr="p2tr"}(k||(k={}));var C={0:{type:k.p2pkh,network:x.mainnet},111:{type:k.p2pkh,network:x.testnet},5:{type:k.p2sh,network:x.mainnet},196:{type:k.p2sh,network:x.testnet}},z=function(B){var S,D=B.substr(0,2).toLowerCase();if(D==="bc"||D==="tb")return function(V){var K;try{K=V.startsWith("bc1p")||V.startsWith("tb1p")||V.startsWith("bcrt1p")?c.decode(V):a.decode(V)}catch{throw new Error("Invalid address")}var H={bc:x.mainnet,tb:x.testnet,bcrt:x.regtest}[K.prefix];if(H===void 0)throw new Error("Invalid address");var Y=K.words[0];if(Y<0||Y>16)throw new Error("Invalid address");return{bech32:!0,network:H,address:V,type:a.fromWords(K.words.slice(1)).length===20?k.p2wpkh:Y===1?k.p2tr:k.p2wsh}}(B);try{S=n(B)}catch{throw new Error("Invalid address")}var q=S.length;if(q!==25)throw new Error("Invalid address");var O=S[0],$=S.slice(q-4,q),j=S.slice(0,q-4),G=I(I(j)).slice(0,4);if($.some(function(V,K){return V!==G[K]}))throw new Error("Invalid address");if(!Object.keys(C).map(Number).includes(O))throw new Error("Invalid address");return t(t({},C[O]),{address:B,bech32:!1})},accountChangeEventName="accountChange";object({type:literal(accountChangeEventName)});var networkChangeEventName="networkChange";object({type:literal(networkChangeEventName)});var disconnectEventName="disconnect";object({type:literal(disconnectEventName)});function getProviderById(B){return B==null?void 0:B.split(".").reduce((S,D)=>S==null?void 0:S[D],window)}function isProviderInstalled(B){return!!getProviderById(B)}function setDefaultProvider(B){localStorage.setItem("sats-connect_defaultProvider",B)}function getDefaultProvider(){return localStorage.getItem("sats-connect_defaultProvider")}function removeDefaultProvider(){localStorage.removeItem("sats-connect_defaultProvider")}function getSupportedWallets(){return Object.values(DefaultAdaptersInfo).map(S=>({...S,isInstalled:isProviderInstalled(S.id)}))}var RpcIdSchema=optional(union([string(),number$1(),null_()])),rpcRequestMessageSchema=object({jsonrpc:literal("2.0"),method:string(),params:optional(union([array(unknown()),looseObject({}),null_()])),id:RpcIdSchema}),RpcErrorCode=(B=>(B[B.PARSE_ERROR=-32700]="PARSE_ERROR",B[B.INVALID_REQUEST=-32600]="INVALID_REQUEST",B[B.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",B[B.INVALID_PARAMS=-32602]="INVALID_PARAMS",B[B.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",B[B.USER_REJECTION=-32e3]="USER_REJECTION",B[B.METHOD_NOT_SUPPORTED=-32001]="METHOD_NOT_SUPPORTED",B[B.ACCESS_DENIED=-32002]="ACCESS_DENIED",B))(RpcErrorCode||{}),rpcSuccessResponseMessageSchema=object({jsonrpc:literal("2.0"),result:nonOptional(unknown()),id:RpcIdSchema}),rpcErrorResponseMessageSchema=object({jsonrpc:literal("2.0"),error:nonOptional(unknown()),id:RpcIdSchema});union([rpcSuccessResponseMessageSchema,rpcErrorResponseMessageSchema]);var AddressPurpose=(B=>(B.Ordinals="ordinals",B.Payment="payment",B.Stacks="stacks",B))(AddressPurpose||{}),AddressType=(B=>(B.p2pkh="p2pkh",B.p2sh="p2sh",B.p2wpkh="p2wpkh",B.p2wsh="p2wsh",B.p2tr="p2tr",B.stacks="stacks",B))(AddressType||{}),addressSchema=object({address:string(),publicKey:string(),purpose:enum_(AddressPurpose),addressType:enum_(AddressType)}),stxGetAddressesMethodName="stx_getAddresses",stxGetAddressesParamsSchema=nullish(object({message:optional(string())}));object({...rpcRequestMessageSchema.entries,...object({method:literal(stxGetAddressesMethodName),params:stxGetAddressesParamsSchema,id:string()}).entries});var stxSignTransactionMethodName="stx_signTransaction",stxSignTransactionParamsSchema=object({transaction:string(),pubkey:optional(string()),broadcast:optional(boolean())});object({...rpcRequestMessageSchema.entries,...object({method:literal(stxSignTransactionMethodName),params:stxSignTransactionParamsSchema,id:string()}).entries});var walletTypes=["software","ledger"],walletTypeSchema=picklist(walletTypes),getInfoMethodName="getInfo",getInfoParamsSchema=nullish(null_());object({version:string(),methods:optional(array(string())),supports:array(string())});object({...rpcRequestMessageSchema.entries,...object({method:literal(getInfoMethodName),params:getInfoParamsSchema,id:string()}).entries});var getAddressesMethodName="getAddresses",getAddressesParamsSchema=object({purposes:array(enum_(AddressPurpose)),message:optional(string())});object({...rpcRequestMessageSchema.entries,...object({method:literal(getAddressesMethodName),params:getAddressesParamsSchema,id:string()}).entries});var signMessageMethodName="signMessage",MessageSigningProtocols=(B=>(B.ECDSA="ECDSA",B.BIP322="BIP322",B))(MessageSigningProtocols||{}),signMessageParamsSchema=object({address:string(),message:string(),protocol:optional(enum_(MessageSigningProtocols))});object({signature:string(),messageHash:string(),address:string(),protocol:enum_(MessageSigningProtocols)});object({...rpcRequestMessageSchema.entries,...object({method:literal(signMessageMethodName),params:signMessageParamsSchema,id:string()}).entries});var getAccountsMethodName="getAccounts",getAccountsParamsSchema=object({purposes:array(enum_(AddressPurpose)),message:optional(string())});array(object({...addressSchema.entries,...object({walletType:walletTypeSchema}).entries}));object({...rpcRequestMessageSchema.entries,...object({method:literal(getAccountsMethodName),params:getAccountsParamsSchema,id:string()}).entries});var getBalanceMethodName="getBalance";nullish(null_());object({...rpcRequestMessageSchema.entries,...object({method:literal(getBalanceMethodName),id:string()}).entries});var requestPermissionsMethodName="wallet_requestPermissions",requestPermissionsParamsSchema=undefined_();literal(!0);object({...rpcRequestMessageSchema.entries,...object({method:literal(requestPermissionsMethodName),params:requestPermissionsParamsSchema,id:string()}).entries});var renouncePermissionsMethodName="wallet_renouncePermissions",renouncePermissionsParamsSchema=undefined_();literal(!0);object({...rpcRequestMessageSchema.entries,...object({method:literal(renouncePermissionsMethodName),params:renouncePermissionsParamsSchema,id:string()}).entries});var getWalletTypeMethodName="wallet_getWalletType";nullish(null_());object({...rpcRequestMessageSchema.entries,...object({method:literal(getWalletTypeMethodName),id:string()}).entries});var getRunesBalanceMethodName="runes_getBalance",getRunesBalanceParamsSchema=nullish(null_());object({balances:array(object({runeName:string(),amount:string(),divisibility:number$1(),symbol:string(),inscriptionId:nullish(string())}))});object({...rpcRequestMessageSchema.entries,...object({method:literal(getRunesBalanceMethodName),params:getRunesBalanceParamsSchema,id:string()}).entries});var transferRunesMethodName="runes_transfer",transferRunesParamsSchema=object({recipients:array(object({runeName:string(),amount:string(),address:string()}))});object({...rpcRequestMessageSchema.entries,...object({method:literal(transferRunesMethodName),params:transferRunesParamsSchema,id:string()}).entries});var getInscriptionsMethodName="ord_getInscriptions",getInscriptionsParamsSchema=object({offset:number$1(),limit:number$1()});object({total:number$1(),limit:number$1(),offset:number$1(),inscriptions:array(object({inscriptionId:string(),inscriptionNumber:string(),address:string(),collectionName:optional(string()),postage:string(),contentLength:string(),contentType:string(),timestamp:number$1(),offset:number$1(),genesisTransaction:string(),output:string()}))});object({...rpcRequestMessageSchema.entries,...object({method:literal(getInscriptionsMethodName),params:getInscriptionsParamsSchema,id:string()}).entries});var sendInscriptionsMethodName="ord_sendInscriptions",sendInscriptionsParamsSchema=object({transfers:array(object({address:string(),inscriptionId:string()}))});object({...rpcRequestMessageSchema.entries,...object({method:literal(sendInscriptionsMethodName),params:sendInscriptionsParamsSchema,id:string()}).entries});var request=async(B,S,D)=>{var $;let q=(($=window.XverseProviders)==null?void 0:$.BitcoinProvider)||window.BitcoinProvider;if(D&&(q=await getProviderById(D)),!q)throw new Error("no wallet provider was found");if(!B)throw new Error("A wallet method is required");const O=await q.request(B,S);return is(rpcErrorResponseMessageSchema,O)?{status:"error",error:O.error}:is(rpcSuccessResponseMessageSchema,O)?{status:"success",result:O.result}:{status:"error",error:{code:-32603,message:"Received unknown response from provider.",data:O}}},addListener=(B,S,D)=>{var O;let q=((O=window.XverseProviders)==null?void 0:O.BitcoinProvider)||window.BitcoinProvider;if(D&&(q=getProviderById(D)),!q)throw new Error("no wallet provider was found");return q.addListener?q.addListener(B,S):(console.error("The wallet provider you are using does not support the addListener method. Please update your wallet provider."),()=>{})},urlNetworkSuffix={Mainnet:"",Testnet:"-testnet",Signet:"-signet"},ORDINALS_API_BASE_URL=(B="Mainnet")=>`https://ordinals${urlNetworkSuffix[B]}.xverse.app/v1`,RunesApi=class{constructor(B){Lt(this,"client");Lt(this,"parseError",B=>{var S,D;return{code:(S=B.response)==null?void 0:S.status,message:JSON.stringify((D=B.response)==null?void 0:D.data)}});Lt(this,"estimateMintCost",async B=>{try{return{data:(await this.client.post("/runes/mint/estimate",{...B})).data}}catch(S){const D=S;return{error:this.parseError(D)}}});Lt(this,"estimateEtchCost",async B=>{try{return{data:(await this.client.post("/runes/etch/estimate",{...B})).data}}catch(S){const D=S;return{error:this.parseError(D)}}});Lt(this,"createMintOrder",async B=>{try{return{data:(await this.client.post("/runes/mint/orders",{...B})).data}}catch(S){const D=S;return{error:this.parseError(D)}}});Lt(this,"createEtchOrder",async B=>{try{return{data:(await this.client.post("/runes/etch/orders",{...B})).data}}catch(S){const D=S;return{error:this.parseError(D)}}});Lt(this,"executeMint",async(B,S)=>{try{return{data:(await this.client.post(`/runes/mint/orders/${B}/execute`,{fundTransactionId:S})).data}}catch(D){const q=D;return{error:this.parseError(q)}}});Lt(this,"executeEtch",async(B,S)=>{try{return{data:(await this.client.post(`/runes/etch/orders/${B}/execute`,{fundTransactionId:S})).data}}catch(D){const q=D;return{error:this.parseError(q)}}});Lt(this,"getOrder",async B=>{try{return{data:(await this.client.get(`/orders/${B}`)).data}}catch(S){const D=S;return{error:this.parseError(D)}}});Lt(this,"rbfOrder",async B=>{const{orderId:S,newFeeRate:D}=B;try{return{data:(await this.client.post(`/orders/${S}/rbf-estimate`,{newFeeRate:D})).data}}catch(q){const O=q;return{error:this.parseError(O)}}});this.client=axios.create({baseURL:ORDINALS_API_BASE_URL(B)})}},clients={},getRunesApiClient=(B="Mainnet")=>(clients[B]||(clients[B]=new RunesApi(B)),clients[B]),SatsConnectAdapter=class{async mintRunes(B){var S;try{const D=await this.requestInternal("getInfo",null).catch(()=>null);if(D&&D.status==="success"&&((S=D.result.methods)==null?void 0:S.includes("runes_mint"))){const G=await this.requestInternal("runes_mint",B);if(G&&(G.status==="success"||G.status==="error"&&G.error.code!==-32601))return G}const q={destinationAddress:B.destinationAddress,feeRate:B.feeRate,refundAddress:B.refundAddress,repeats:B.repeats,runeName:B.runeName,appServiceFee:B.appServiceFee,appServiceFeeAddress:B.appServiceFeeAddress},O=await new RunesApi(B.network).createMintOrder(q);if(!O.data)return{status:"error",error:{code:O.error.code===400?-32600:-32603,message:O.error.message}};const $=await this.requestInternal("sendTransfer",{recipients:[{address:O.data.fundAddress,amount:O.data.fundAmount}]});return $.status!=="success"?$:(await new RunesApi(B.network).executeMint(O.data.orderId,$.result.txid),{status:"success",result:{orderId:O.data.orderId,fundTransactionId:$.result.txid,fundingAddress:O.data.fundAddress}})}catch(D){return{status:"error",error:{code:-32603,message:D.message}}}}async etchRunes(B){var D;const S={destinationAddress:B.destinationAddress,refundAddress:B.refundAddress,feeRate:B.feeRate,runeName:B.runeName,divisibility:B.divisibility,symbol:B.symbol,premine:B.premine,isMintable:B.isMintable,terms:B.terms,inscriptionDetails:B.inscriptionDetails,delegateInscriptionId:B.delegateInscriptionId,appServiceFee:B.appServiceFee,appServiceFeeAddress:B.appServiceFeeAddress};try{const q=await this.requestInternal("getInfo",null).catch(()=>null);if(q&&q.status==="success"&&((D=q.result.methods)==null?void 0:D.includes("runes_etch"))){const G=await this.requestInternal("runes_etch",B);if(G&&(G.status==="success"||G.status==="error"&&G.error.code!==-32601))return G}const O=await new RunesApi(B.network).createEtchOrder(S);if(!O.data)return{status:"error",error:{code:O.error.code===400?-32600:-32603,message:O.error.message}};const $=await this.requestInternal("sendTransfer",{recipients:[{address:O.data.fundAddress,amount:O.data.fundAmount}]});return $.status!=="success"?$:(await new RunesApi(B.network).executeEtch(O.data.orderId,$.result.txid),{status:"success",result:{orderId:O.data.orderId,fundTransactionId:$.result.txid,fundingAddress:O.data.fundAddress}})}catch(q){return{status:"error",error:{code:-32603,message:q.message}}}}async estimateMint(B){const S={destinationAddress:B.destinationAddress,feeRate:B.feeRate,repeats:B.repeats,runeName:B.runeName,appServiceFee:B.appServiceFee,appServiceFeeAddress:B.appServiceFeeAddress},D=await getRunesApiClient(B.network).estimateMintCost(S);return D.data?{status:"success",result:D.data}:{status:"error",error:{code:D.error.code===400?-32600:-32603,message:D.error.message}}}async estimateEtch(B){const S={destinationAddress:B.destinationAddress,feeRate:B.feeRate,runeName:B.runeName,divisibility:B.divisibility,symbol:B.symbol,premine:B.premine,isMintable:B.isMintable,terms:B.terms,inscriptionDetails:B.inscriptionDetails,delegateInscriptionId:B.delegateInscriptionId,appServiceFee:B.appServiceFee,appServiceFeeAddress:B.appServiceFeeAddress},D=await getRunesApiClient(B.network).estimateEtchCost(S);return D.data?{status:"success",result:D.data}:{status:"error",error:{code:D.error.code===400?-32600:-32603,message:D.error.message}}}async getOrder(B){const S=await getRunesApiClient(B.network).getOrder(B.id);return S.data?{status:"success",result:S.data}:{status:"error",error:{code:S.error.code===400||S.error.code===404?-32600:-32603,message:S.error.message}}}async estimateRbfOrder(B){const S={newFeeRate:B.newFeeRate,orderId:B.orderId},D=await getRunesApiClient(B.network).rbfOrder(S);return D.data?{status:"success",result:{fundingAddress:D.data.fundingAddress,rbfCost:D.data.rbfCost}}:{status:"error",error:{code:D.error.code===400||D.error.code===404?-32600:-32603,message:D.error.message}}}async rbfOrder(B){try{const S={newFeeRate:B.newFeeRate,orderId:B.orderId},D=await getRunesApiClient(B.network).rbfOrder(S);if(!D.data)return{status:"error",error:{code:D.error.code===400||D.error.code===404?-32600:-32603,message:D.error.message}};const q=await this.requestInternal("sendTransfer",{recipients:[{address:D.data.fundingAddress,amount:D.data.rbfCost}]});return q.status!=="success"?q:{status:"success",result:{fundingAddress:D.data.fundingAddress,orderId:S.orderId,fundRBFTransactionId:q.result.txid}}}catch(S){return{status:"error",error:{code:-32603,message:S.message}}}}async request(B,S){switch(B){case"runes_mint":return this.mintRunes(S);case"runes_etch":return this.etchRunes(S);case"runes_estimateMint":return this.estimateMint(S);case"runes_estimateEtch":return this.estimateEtch(S);case"runes_getOrder":return this.getOrder(S);case"runes_estimateRbfOrder":return this.estimateRbfOrder(S);case"runes_rbfOrder":return this.rbfOrder(S);default:return this.requestInternal(B,S)}}},XverseAdapter=class extends SatsConnectAdapter{constructor(){super(...arguments);Lt(this,"id",DefaultAdaptersInfo.xverse.id);Lt(this,"requestInternal",async(S,D)=>request(S,D,this.id));Lt(this,"addListener",(S,D)=>addListener(S,D,this.id))}};function convertSignInputsToInputType(B){let S=[];for(let D in B){let q=B[D];for(let O of q)S.push({index:O,address:D})}return S}var UnisatAdapter=class extends SatsConnectAdapter{constructor(){super(...arguments);Lt(this,"id",DefaultAdaptersInfo.unisat.id);Lt(this,"requestInternal",async(S,D)=>{try{switch(S){case"getAccounts":return{status:"success",result:await this.getAccounts(D)};case"sendTransfer":return{status:"success",result:await this.sendTransfer(D)};case"signMessage":return{status:"success",result:await this.signMessage(D)};case"signPsbt":return{status:"success",result:await this.signPsbt(D)};default:{const q={code:-32001,message:"Method not supported by the selected wallet"};return console.error("Error calling the method",q),{status:"error",error:q}}}}catch(q){return console.error("Error calling the method",q),{status:"error",error:{code:q.code===4001?-32e3:-32603,message:q.message?q.message:"Wallet method call error",data:q}}}});Lt(this,"addListener",(S,D)=>{switch(S){case"accountChange":{const q=()=>{D({type:"accountChange"})};return window.unisat.on("accountsChanged",q),()=>{window.unisat.removeListener("accountsChanged",q)}}case"networkChange":{const q=()=>{D({type:"networkChange"})};return window.unisat.on("networkChanged",q),()=>{window.unisat.removeListener("networkChanged",q)}}default:return console.error("Event not supported by the selected wallet"),()=>{}}})}async getAccounts(S){const{purposes:D}=S;if(D.includes("stacks"))throw new Error("Only bitcoin addresses are supported");const q=await window.unisat.requestAccounts(),O=await window.unisat.getPublicKey(),$=q[0],j=z(q[0]).type,G=j===k.p2tr?O.slice(2):O,V={address:$,publicKey:G,addressType:j,purpose:"payment"},K={address:$,publicKey:G,addressType:j,purpose:"ordinals"},H=[];return D.includes("payment")&&H.push({...V,walletType:"software"}),D.includes("ordinals")&&H.push({...K,walletType:"software"}),H}async signMessage(S){const{message:D,address:q}=S,O=z(q).type;if([k.p2wpkh,k.p2tr].includes(O)){const G=await window.unisat.signMessage(D,"bip322-simple");return{address:q,messageHash:"",signature:G,protocol:"BIP322"}}const j=await window.unisat.signMessage(D,"ecdsa");return{address:q,messageHash:"",signature:j,protocol:"ECDSA"}}async sendTransfer(S){const{recipients:D}=S;if(D.length>1)throw new Error("Only one recipient is supported by this wallet provider");return{txid:await window.unisat.sendBitcoin(D[0].address,D[0].amount)}}async signPsbt(S){const{psbt:D,signInputs:q,broadcast:O}=S,$=Buffer$1.from(D,"base64").toString("hex"),j=await window.unisat.signPsbt($,{autoFinalized:O,toSignInputs:convertSignInputsToInputType(q)});if(O){const G=await window.unisat.pushPsbt($);return{psbt:j,txid:G}}return{psbt:$}}},BaseAdapter=class extends SatsConnectAdapter{constructor(S){super();Lt(this,"id","");Lt(this,"requestInternal",async(S,D)=>request(S,D,this.id));Lt(this,"addListener",(...S)=>{throw new Error("Method not supported for `BaseAdapter`.")});this.id=S}},DefaultAdaptersInfo={xverse:{id:"XverseProviders.BitcoinProvider",name:"Xverse",webUrl:"https://www.xverse.app/",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513",chromeWebStoreUrl:"https://chromewebstore.google.com/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyIiBoZWlnaHQ9IjEwMiIgdmlld0JveD0iMCAwIDEwMiAxMDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGlkPSJJY29uX0FydCAoRWRpdCBNZSkiPgo8cmVjdCB3aWR0aD0iMTAyIiBoZWlnaHQ9IjEwMiIgZmlsbD0iIzE4MTgxOCIvPgo8ZyBpZD0iTG9nby9FbWJsZW0iIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8yMF8xMjIzKSI+CjxwYXRoIGlkPSJWZWN0b3IiIGQ9Ik03NC42NTQyIDczLjg4ODNWNjUuMjMxMkM3NC42NTQyIDY0Ljg4OCA3NC41MTc3IDY0LjU2MDYgNzQuMjc0NSA2NC4zMTc0TDM3LjQzOTcgMjcuNDgyNUMzNy4xOTY1IDI3LjIzOTIgMzYuODY5MSAyNy4xMDI4IDM2LjUyNTggMjcuMTAyOEgyNy44NjlDMjcuNDQxNiAyNy4xMDI4IDI3LjA5MzggMjcuNDUwNiAyNy4wOTM4IDI3Ljg3OFYzNS45MjExQzI3LjA5MzggMzYuMjY0NCAyNy4yMzAyIDM2LjU5MTcgMjcuNDczNCAzNi44MzVMNDAuNjk1MiA1MC4wNTY3QzQwLjk5NzUgNTAuMzU5MSA0MC45OTc1IDUwLjg1MDEgNDAuNjk1MiA1MS4xNTI0TDI3LjMyMTEgNjQuNTI2NUMyNy4xNzU2IDY0LjY3MiAyNy4wOTM4IDY0Ljg2OTggMjcuMDkzOCA2NS4wNzQ0VjczLjg4ODNDMjcuMDkzOCA3NC4zMTUzIDI3LjQ0MTYgNzQuNjYzNSAyNy44NjkgNzQuNjYzNUg0Mi4zMzQyQzQyLjc2MTYgNzQuNjYzNSA0My4xMDk0IDc0LjMxNTMgNDMuMTA5NCA3My44ODgzVjY4LjY5NThDNDMuMTA5NCA2OC40OTEyIDQzLjE5MTIgNjguMjkzNSA0My4zMzY4IDY4LjE0NzlMNTAuNTExNCA2MC45NzMzQzUwLjgxMzggNjAuNjcwOSA1MS4zMDQ4IDYwLjY3MDkgNTEuNjA3MiA2MC45NzMzTDY0LjkxOTggNzQuMjg2MUM2NS4xNjMxIDc0LjUyOTMgNjUuNDkwNCA3NC42NjU4IDY1LjgzMzcgNzQuNjY1OEg3My44NzY3Qzc0LjMwNDIgNzQuNjY1OCA3NC42NTE5IDc0LjMxNzYgNzQuNjUxOSA3My44OTA2TDc0LjY1NDIgNzMuODg4M1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGlkPSJWZWN0b3JfMiIgZD0iTTU1LjM1OCAzOC41NjcySDYyLjYwMzFDNjMuMDMyOCAzOC41NjcyIDYzLjM4MjkgMzguOTE3MyA2My4zODI5IDM5LjM0NjlWNDYuNTkyMUM2My4zODI5IDQ3LjI4NzcgNjQuMjI0IDQ3LjYzNTUgNjQuNzE1MSA0Ny4xNDIyTDc0LjY1NDEgMzcuMTg3M0M3NC43OTk0IDM3LjA0MTggNzQuODgxNiAzNi44NDQgNzQuODgxNiAzNi42MzcxVjI3LjkxODlDNzQuODgxNiAyNy40ODkyIDc0LjUzMzQgMjcuMTM5MSA3NC4xMDE3IDI3LjEzOTFMNjUuMjUzOCAyNy4xMjc3QzY1LjA0NyAyNy4xMjc3IDY0Ljg0OTIgMjcuMjA5NiA2NC43MDE0IDI3LjM1NTFMNTQuODA1NiAzNy4yMzVDNTQuMzE0NSAzNy43MjYgNTQuNjYyMyAzOC41NjcyIDU1LjM1NTcgMzguNTY3Mkg1NS4zNThaIiBmaWxsPSIjRUU3QTMwIi8+CjwvZz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8yMF8xMjIzIj4KPHJlY3Qgd2lkdGg9IjQ3LjgxMjUiIGhlaWdodD0iNDcuODEyNSIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3LjA5MzggMjcuMDkzOCkiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K"},unisat:{id:"unisat",name:"Unisat",webUrl:"https://unisat.io/",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIiBmaWxsPSJibGFjayIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMTAwNTBfNDE3MSkiPgo8cGF0aCBkPSJNMTEzLjY2IDI5LjI4OTdMMTQzLjk3IDU5LjMwOTdDMTQ2LjU1IDYxLjg1OTcgMTQ3LjgyIDY0LjQzOTcgMTQ3Ljc4IDY3LjAzOTdDMTQ3Ljc0IDY5LjYzOTcgMTQ2LjYzIDcyLjAwOTcgMTQ0LjQ2IDc0LjE1OTdDMTQyLjE5IDc2LjQwOTcgMTM5Ljc0IDc3LjU0OTcgMTM3LjEyIDc3LjU5OTdDMTM0LjUgNzcuNjM5NyAxMzEuOSA3Ni4zNzk3IDEyOS4zMiA3My44Mjk3TDk4LjMxOTkgNDMuMTI5N0M5NC43OTk5IDM5LjYzOTcgOTEuMzk5OSAzNy4xNjk3IDg4LjEyOTkgMzUuNzE5N0M4NC44NTk5IDM0LjI2OTcgODEuNDE5OSAzNC4wMzk3IDc3LjgxOTkgMzUuMDM5N0M3NC4yMDk5IDM2LjAyOTcgNzAuMzM5OSAzOC41Nzk3IDY2LjE4OTkgNDIuNjc5N0M2MC40Njk5IDQ4LjM0OTcgNTcuNzM5OSA1My42Njk3IDU4LjAxOTkgNTguNjM5N0M1OC4yOTk5IDYzLjYwOTcgNjEuMTM5OSA2OC43Njk3IDY2LjUyOTkgNzQuMDk5N0w5Ny43Nzk5IDEwNS4wNkMxMDAuMzkgMTA3LjY0IDEwMS42NyAxMTAuMjIgMTAxLjYzIDExMi43OEMxMDEuNTkgMTE1LjM1IDEwMC40NyAxMTcuNzIgOTguMjU5OSAxMTkuOTFDOTYuMDU5OSAxMjIuMDkgOTMuNjI5OSAxMjMuMjMgOTAuOTg5OSAxMjMuMzJDODguMzQ5OSAxMjMuNDEgODUuNzE5OSAxMjIuMTYgODMuMTE5OSAxMTkuNThMNTIuODA5OSA4OS41NTk3QzQ3Ljg3OTkgODQuNjc5NyA0NC4zMTk5IDgwLjA1OTcgNDIuMTI5OSA3NS42OTk3QzM5LjkzOTkgNzEuMzM5NyAzOS4xMTk5IDY2LjQwOTcgMzkuNjg5OSA2MC45MDk3QzQwLjE5OTkgNTYuMTk5NyA0MS43MDk5IDUxLjYzOTcgNDQuMjI5OSA0Ny4yMTk3QzQ2LjczOTkgNDIuNzk5NyA1MC4zMzk5IDM4LjI3OTcgNTUuMDA5OSAzMy42NDk3QzYwLjU2OTkgMjguMTM5NyA2NS44Nzk5IDIzLjkxOTcgNzAuOTM5OSAyMC45Nzk3Qzc1Ljk4OTkgMTguMDM5NyA4MC44Nzk5IDE2LjQwOTcgODUuNTk5OSAxNi4wNjk3QzkwLjMyOTkgMTUuNzI5NyA5NC45ODk5IDE2LjY2OTcgOTkuNTk5OSAxOC44ODk3QzEwNC4yMSAyMS4xMDk3IDEwOC44OSAyNC41Njk3IDExMy42NSAyOS4yODk3SDExMy42NloiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8xMDA1MF80MTcxKSIvPgo8cGF0aCBkPSJNNjYuMTA5OSAxNTAuNDJMMzUuODA5OSAxMjAuNEMzMy4yMjk5IDExNy44NCAzMS45NTk5IDExNS4yNyAzMS45OTk5IDExMi42N0MzMi4wMzk5IDExMC4wNyAzMy4xNDk5IDEwNy43IDM1LjMxOTkgMTA1LjU1QzM3LjU4OTkgMTAzLjMgNDAuMDM5OSAxMDIuMTYgNDIuNjU5OSAxMDIuMTFDNDUuMjc5OSAxMDIuMDcgNDcuODc5OSAxMDMuMzIgNTAuNDU5OSAxMDUuODhMODEuNDQ5OSAxMzYuNThDODQuOTc5OSAxNDAuMDcgODguMzY5OSAxNDIuNTQgOTEuNjM5OSAxNDMuOTlDOTQuOTA5OSAxNDUuNDQgOTguMzQ5OSAxNDUuNjYgMTAxLjk2IDE0NC42N0MxMDUuNTcgMTQzLjY4IDEwOS40NCAxNDEuMTMgMTEzLjU5IDEzNy4wMkMxMTkuMzEgMTMxLjM1IDEyMi4wNCAxMjYuMDMgMTIxLjc2IDEyMS4wNkMxMjEuNDggMTE2LjA5IDExOC42NCAxMTAuOTMgMTEzLjI1IDEwNS41OUw5Ni41OTk5IDg5LjI0MDFDOTMuOTg5OSA4Ni42NjAxIDkyLjcwOTkgODQuMDgwMSA5Mi43NDk5IDgxLjUyMDFDOTIuNzg5OSA3OC45NTAxIDkzLjkwOTkgNzYuNTgwMSA5Ni4xMTk5IDc0LjM5MDFDOTguMzE5OSA3Mi4yMTAxIDEwMC43NSA3MS4wNzAxIDEwMy4zOSA3MC45ODAxQzEwNi4wMyA3MC44OTAxIDEwOC42NiA3Mi4xNDAxIDExMS4yNiA3NC43MjAxTDEyNi45NiA5MC4xMzAxQzEzMS44OSA5NS4wMTAxIDEzNS40NSA5OS42MzAxIDEzNy42NCAxMDMuOTlDMTM5LjgzIDEwOC4zNSAxNDAuNjUgMTEzLjI4IDE0MC4wOCAxMTguNzhDMTM5LjU3IDEyMy40OSAxMzguMDYgMTI4LjA1IDEzNS41NCAxMzIuNDdDMTMzLjAzIDEzNi44OSAxMjkuNDMgMTQxLjQxIDEyNC43NiAxNDYuMDRDMTE5LjIgMTUxLjU1IDExMy44OSAxNTUuNzcgMTA4LjgzIDE1OC43MUMxMDMuNzcgMTYxLjY1IDk4Ljg3OTkgMTYzLjI5IDk0LjE0OTkgMTYzLjYzQzg5LjQxOTkgMTYzLjk3IDg0Ljc1OTkgMTYzLjAzIDgwLjE0OTkgMTYwLjgxQzc1LjUzOTkgMTU4LjU5IDcwLjg1OTkgMTU1LjEzIDY2LjA5OTkgMTUwLjQxTDY2LjEwOTkgMTUwLjQyWiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzEwMDUwXzQxNzEpIi8+CjxwYXRoIGQ9Ik04NS4wMDk5IDcyLjk1OTJDOTEuMTU2OCA3Mi45NTkyIDk2LjEzOTkgNjcuOTc2MSA5Ni4xMzk5IDYxLjgyOTJDOTYuMTM5OSA1NS42ODIzIDkxLjE1NjggNTAuNjk5MiA4NS4wMDk5IDUwLjY5OTJDNzguODYzIDUwLjY5OTIgNzMuODc5OSA1NS42ODIzIDczLjg3OTkgNjEuODI5MkM3My44Nzk5IDY3Ljk3NjEgNzguODYzIDcyLjk1OTIgODUuMDA5OSA3Mi45NTkyWiIgZmlsbD0idXJsKCNwYWludDJfcmFkaWFsXzEwMDUwXzQxNzEpIi8+CjwvZz4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl8xMDA1MF80MTcxIiB4MT0iMTM4Ljk4NSIgeTE9IjQ2Ljc3OTUiIHgyPSI0NS4wNTI5IiB5Mj0iODguNTIzMyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjMjAxQzFCIi8+CjxzdG9wIG9mZnNldD0iMC4zNiIgc3RvcC1jb2xvcj0iIzc3MzkwRCIvPgo8c3RvcCBvZmZzZXQ9IjAuNjciIHN0b3AtY29sb3I9IiNFQTgxMDEiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRjRCODUyIi8+CjwvbGluZWFyR3JhZGllbnQ+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQxX2xpbmVhcl8xMDA1MF80MTcxIiB4MT0iNDMuMzgxMiIgeTE9IjEzNC4xNjciIHgyPSIxNTIuMjMxIiB5Mj0iMTAxLjc3MSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjMUYxRDFDIi8+CjxzdG9wIG9mZnNldD0iMC4zNyIgc3RvcC1jb2xvcj0iIzc3MzkwRCIvPgo8c3RvcCBvZmZzZXQ9IjAuNjciIHN0b3AtY29sb3I9IiNFQTgxMDEiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRjRGQjUyIi8+CjwvbGluZWFyR3JhZGllbnQ+CjxyYWRpYWxHcmFkaWVudCBpZD0icGFpbnQyX3JhZGlhbF8xMDA1MF80MTcxIiBjeD0iMCIgY3k9IjAiIHI9IjEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDg1LjAwOTkgNjEuODM5Mikgc2NhbGUoMTEuMTMpIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y0Qjg1MiIvPgo8c3RvcCBvZmZzZXQ9IjAuMzMiIHN0b3AtY29sb3I9IiNFQTgxMDEiLz4KPHN0b3Agb2Zmc2V0PSIwLjY0IiBzdG9wLWNvbG9yPSIjNzczOTBEIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzIxMUMxRCIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzEwMDUwXzQxNzEiPgo8cmVjdCB3aWR0aD0iMTE1Ljc3IiBoZWlnaHQ9IjE0Ny43IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzIgMTYpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="}},defaultAdapters={[DefaultAdaptersInfo.xverse.id]:XverseAdapter,[DefaultAdaptersInfo.unisat.id]:UnisatAdapter};let routes=[{to:Route.Files,icon:Shape.Folder,name:"Files"},{to:Route.Chat,icon:Shape.ChatBubble,name:"Chat"},{to:Route.Friends,icon:Shape.Users,name:"Friends"},{to:Route.Settings,icon:Shape.Cog,name:"Settings"}];var PermissionState=(B=>(B.Allowed="allowed",B.Denied="denied",B.Unset="unset",B))(PermissionState||{}),PermissionCategory=(B=>(B.Administration="administration",B.Channels="channels",B.Messages="messages",B.Files="files",B.Media="media",B.Members="members",B.Forums="forums",B.Bots="bots",B.Announcements="announcements",B))(PermissionCategory||{});const corePermissions=[{id:"send-messages",category:PermissionCategory.Messages,description:"Send messages in the community",state:PermissionState.Unset},{id:"edit-messages",category:PermissionCategory.Messages,description:"Edit messages in the community",state:PermissionState.Unset},{id:"delete-messages",category:PermissionCategory.Messages,description:"Delete messages in the community",state:PermissionState.Unset},{id:"send-gifs",category:PermissionCategory.Media,description:"Send GIFs in the community",state:PermissionState.Unset},{id:"send-stickers",category:PermissionCategory.Media,description:"Send stickers in the community",state:PermissionState.Unset},{id:"send-reactions",category:PermissionCategory.Messages,description:"Send reactions in the community",state:PermissionState.Unset},{id:"kick-members",category:PermissionCategory.Members,description:"Kick members from the community",state:PermissionState.Unset},{id:"ban-members",category:PermissionCategory.Members,description:"Ban members from the community",state:PermissionState.Unset},{id:"edit-roles",category:PermissionCategory.Administration,description:"Edit roles in the community",state:PermissionState.Unset},{id:"edit-permissions",category:PermissionCategory.Administration,description:"Edit permissions in the community",state:PermissionState.Unset},{id:"edit-community",category:PermissionCategory.Administration,description:"Edit the community",state:PermissionState.Unset},{id:"delete-community",category:PermissionCategory.Administration,description:"Delete the community",state:PermissionState.Unset},{id:"edit-picture",category:PermissionCategory.Administration,description:"Change the community picture",state:PermissionState.Unset},{id:"edit-name",category:PermissionCategory.Administration,description:"Change the community name",state:PermissionState.Unset},{id:"eidt-motd",category:PermissionCategory.Administration,description:"Change the community message of the day",state:PermissionState.Unset},{id:"edit-graphics",category:PermissionCategory.Administration,description:"Change the community graphics",state:PermissionState.Unset},{id:"timeout-members",category:PermissionCategory.Members,description:"Timeout members from the community",state:PermissionState.Unset},{id:"nickname-members",category:PermissionCategory.Members,description:"Nickname members in the community",state:PermissionState.Unset},{id:"alert-members",category:PermissionCategory.Members,description:"Alert members in the community",state:PermissionState.Unset},{id:"view-channels",category:PermissionCategory.Channels,description:"View channels in the community",state:PermissionState.Unset},{id:"create-channels",category:PermissionCategory.Channels,description:"Create channels in the community",state:PermissionState.Unset},{id:"edit-channels",category:PermissionCategory.Channels,description:"Edit channels in the community",state:PermissionState.Unset},{id:"delete-channels",category:PermissionCategory.Channels,description:"Delete channels in the community",state:PermissionState.Unset},{id:"sort-channels",category:PermissionCategory.Channels,description:"Sort channels in the community",state:PermissionState.Unset},{id:"voice-chat",category:PermissionCategory.Channels,description:"Voice chat in the community",state:PermissionState.Unset},{id:"stream-webcam",category:PermissionCategory.Channels,description:"Stream webcam in the community",state:PermissionState.Unset},{id:"mute-members",category:PermissionCategory.Channels,description:"Mute members in the community",state:PermissionState.Unset},{id:"deafen-members",category:PermissionCategory.Channels,description:"Deafen members in the community",state:PermissionState.Unset},{id:"disconnect-members",category:PermissionCategory.Channels,description:"Disconnect members from voice chat",state:PermissionState.Unset},{id:"send-files",category:PermissionCategory.Files,description:"Send files in the community",state:PermissionState.Unset},{id:"edit-files",category:PermissionCategory.Files,description:"Edit files in the community",state:PermissionState.Unset},{id:"delete-files",category:PermissionCategory.Files,description:"Delete files in the community",state:PermissionState.Unset},{id:"sync-to-local",category:PermissionCategory.Files,description:"Sync community files to local machine",state:PermissionState.Unset},{id:"view-terminal",category:PermissionCategory.Bots,description:"View the bot terminal in the community",state:PermissionState.Unset},{id:"view-logs",category:PermissionCategory.Bots,description:"View the bot logs in the community",state:PermissionState.Unset},{id:"manage-commands",category:PermissionCategory.Bots,description:"Manage bot commands in the community",state:PermissionState.Unset},{id:"manage-bots",category:PermissionCategory.Bots,description:"Manage adding and removing bots in the community",state:PermissionState.Unset},{id:"view-announcements",category:PermissionCategory.Announcements,description:"View announcements in the community",state:PermissionState.Unset},{id:"create-announcements",category:PermissionCategory.Announcements,description:"Create announcements in the community",state:PermissionState.Unset},{id:"view-announcement-history",category:PermissionCategory.Announcements,description:"View announcement history in the community",state:PermissionState.Unset},{id:"create-forum",category:PermissionCategory.Forums,description:"Create forums in the community",state:PermissionState.Unset},{id:"make-posts",category:PermissionCategory.Forums,description:"Make posts in the community forum",state:PermissionState.Unset},{id:"send-forum-replies",category:PermissionCategory.Forums,description:"Send replies to forum posts",state:PermissionState.Unset},{id:"send-forum-reactions",category:PermissionCategory.Forums,description:"Send reactions to forum posts",state:PermissionState.Unset},{id:"delete-forum-posts",category:PermissionCategory.Forums,description:"Delete forum posts",state:PermissionState.Unset},{id:"delete-forum-replies",category:PermissionCategory.Forums,description:"Delete forum replies",state:PermissionState.Unset},{id:"edit-forum-posts",category:PermissionCategory.Forums,description:"Edit forum posts",state:PermissionState.Unset},{id:"edit-forum-replies",category:PermissionCategory.Forums,description:"Edit forum replies",state:PermissionState.Unset},{id:"edit-forum",category:PermissionCategory.Forums,description:"Edit forum settings",state:PermissionState.Unset},{id:"delete-forum",category:PermissionCategory.Forums,description:"Delete forums",state:PermissionState.Unset},{id:"edit-forum-settings",category:PermissionCategory.Forums,description:"Edit forum settings",state:PermissionState.Unset}];let communityChannelGroups=[{name:"Text",channels:[{icon:Shape.Hashtag,name:"General",kind:CommunityChannelKind.Text},{icon:Shape.Hashtag,name:"Story Time",kind:CommunityChannelKind.Text},{icon:Shape.Hashtag,name:"Dev Updates",kind:CommunityChannelKind.Text}]},{name:"Voice Chats",channels:[{icon:Shape.SpeakerWaveMax,name:"Voice 1",kind:CommunityChannelKind.Voice}]},{name:"Misc",channels:[{icon:Shape.Folder,name:"Pic Dump",kind:CommunityChannelKind.Files},{icon:Shape.Folder,name:"Game Mods",kind:CommunityChannelKind.Files}]}],mockTags=[{name:"Programming",color:"#706fd3"},{name:"Design",color:"#b33939"},{name:"Music",color:"#cd6133"},{name:"Art",color:"#01a3a4"},{name:"Photography",color:"#c44569"},{name:"Writing",color:"#3ae374"},{name:"Gaming",color:"#ff6b6b"},{name:"Movies",color:"#EAB543"},{name:"Books",color:"#6F1E51"},{name:"Sports",color:"#10ac84"}];const mockRoles=[{id:"admin",name:"Administrator",level:5,description:"Admins have access to all permissions in the community.",color:"#ffd32a",permissions:corePermissions.map(B=>({...B,state:PermissionState.Allowed}))},{id:"mod",name:"Moderator",level:4,description:"Moderators have access to kick users, timeout users, and delete messages.",color:"#B53471",permissions:[{id:"delete-messages",category:PermissionCategory.Messages,description:"Delete messages in the community",state:PermissionState.Allowed},{id:"kick-members",category:PermissionCategory.Members,description:"Kick members from the community",state:PermissionState.Allowed},{id:"ban-members",category:PermissionCategory.Members,description:"Ban members from the community",state:PermissionState.Allowed},{id:"timeout-members",category:PermissionCategory.Members,description:"Timeout members from the community",state:PermissionState.Allowed},{id:"nickname-members",category:PermissionCategory.Members,description:"Nickname members in the community",state:PermissionState.Allowed},{id:"mute-members",category:PermissionCategory.Channels,description:"Mute members in the community",state:PermissionState.Allowed},{id:"deafen-members",category:PermissionCategory.Channels,description:"Deafen members in the community",state:PermissionState.Allowed},{id:"disconnect-members",category:PermissionCategory.Channels,description:"Disconnect members from voice chat",state:PermissionState.Allowed}]}],mockCommunityMembers=[{user:mock_users[0],roles:[mockRoles[0]],permissions:[],tags:[mockTags[0],mockTags[1]],meta:{join:new Date}},{user:mock_users[1],roles:[mockRoles[1]],permissions:[],tags:[mockTags[2],mockTags[3],mockTags[4],mockTags[5]],meta:{join:new Date}}];export{AddressPurpose as A,BaseAdapter as B,DefaultAdaptersInfo as D,PermissionState as P,RpcErrorCode as R,TIME_TO_SHOW_CONNECTING as T,VoiceRTCInstance as V,communityChannelGroups as a,PermissionCategory as b,callInProgress as c,corePermissions as d,mockCommunityMembers as e,mockTags as f,connectionOpened as g,callScreenVisible as h,defaultAdapters as i,getSupportedWallets as j,removeDefaultProvider as k,getDefaultProvider as l,mockRoles as m,sha256_1$4 as n,hmac$1 as o,VoiceRTCMessageType as p,makeCallSound as q,routes as r,setDefaultProvider as s,timeCallStarted as t,utils$6 as u,usersDeniedTheCall as v,usersAcceptedTheCall as w,callTimeout as x,TIME_TO_SHOW_END_CALL_FEEDBACK as y};
