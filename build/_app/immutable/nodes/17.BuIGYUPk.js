import{s as K,e as V,a as L,c as E,b as F,g as D,E as j,f as H,l as h,X as C,i as P,h as _,v as Z,t as U,d as O,j as N,k as x,n as ee,x as te}from"../chunks/scheduler.BSglW4Eu.js";import{S as Q,i as W,c as M,a as S,m as I,t as v,g as re,b as q,d as se,e as T}from"../chunks/index.B6nwG8t1.js";import{A as ne,f as y,$ as ae}from"../chunks/Store.CTd4Mu2p.js";import{T as Y}from"../chunks/UnderConstruction.svelte_svelte_type_style_lang.C1ZryWqR.js";import{S as oe}from"../chunks/Spacer.KOUuNspR.js";import{S as le}from"../chunks/Switch.BDHj__sh.js";/* empty css                                                       */import"../chunks/Role.svelte_svelte_type_style_lang.CkTYuCET.js";import"../chunks/entry.Dg0HDiL8.js";/* empty css                                                    */import{B as ie}from"../chunks/Icon.BqMCh1x7.js";import{L as fe}from"../chunks/Label.zwdWYNtQ.js";import{S as me}from"../chunks/SettingSection.CB9nSmdZ.js";import{G as ce}from"../chunks/GamepadListener.BXuQEiiV.js";function ue(s){let e;return{c(){e=U(s[0])},l(t){e=O(t,s[0])},m(t,r){P(t,e,r)},p(t,r){r&1&&N(e,t[0])},d(t){t&&H(e)}}}function J(s){let e,t;return e=new ie({props:{small:!0,appearance:ne.Primary,$$slots:{default:[ge]},$$scope:{ctx:s}}}),e.$on("click",s[4]),{c(){M(e.$$.fragment)},l(r){S(e.$$.fragment,r)},m(r,n){I(e,r,n),t=!0},p(r,n){const i={};n&32768&&(i.$$scope={dirty:n,ctx:r}),e.$set(i)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){q(e.$$.fragment,r),t=!1},d(r){T(e,r)}}}function ge(s){let e;return{c(){e=U("Try Again?")},l(t){e=O(t,"Try Again?")},m(t,r){P(t,e,r)},d(t){t&&H(e)}}}function pe(s){let e,t,r,n,i,l,m,p='<img src="/assets/arrow.png" alt="Up Arrow" class="svelte-zlqq0d"/>',$,f,w='<img src="/assets/arrow.png" alt="Down Arrow" class="svelte-zlqq0d"/>',o,a,A='<img src="/assets/arrow.png" alt="Left Arrow" class="svelte-zlqq0d"/>',z,d,R='<img src="/assets/arrow.png" alt="Right Arrow" class="svelte-zlqq0d"/>',G,k;t=new fe({props:{text:`time: ${s[1].toFixed(2)}`}}),n=new Y({props:{$$slots:{default:[ue]},$$scope:{ctx:s}}});let u=s[2]&&J(s);return{c(){e=V("div"),M(t.$$.fragment),r=L(),M(n.$$.fragment),i=L(),l=V("div"),m=V("div"),m.innerHTML=p,$=L(),f=V("div"),f.innerHTML=w,o=L(),a=V("div"),a.innerHTML=A,z=L(),d=V("div"),d.innerHTML=R,G=L(),u&&u.c(),this.h()},l(c){e=E(c,"DIV",{id:!0,class:!0});var g=F(e);S(t.$$.fragment,g),r=D(g),S(n.$$.fragment,g),i=D(g),l=E(g,"DIV",{class:!0});var b=F(l);m=E(b,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),j(m)!=="svelte-1xf1w3r"&&(m.innerHTML=p),$=D(b),f=E(b,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),j(f)!=="svelte-16y1un4"&&(f.innerHTML=w),o=D(b),a=E(b,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),j(a)!=="svelte-10pvjuj"&&(a.innerHTML=A),z=D(b),d=E(b,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),j(d)!=="svelte-1g9colw"&&(d.innerHTML=R),b.forEach(H),G=D(g),u&&u.l(g),g.forEach(H),this.h()},h(){h(m,"class","arrow svelte-zlqq0d"),h(m,"id","up"),C(m,"active",s[3]==="up"),h(f,"class","arrow svelte-zlqq0d"),h(f,"id","down"),C(f,"active",s[3]==="down"),h(a,"class","arrow svelte-zlqq0d"),h(a,"id","left"),C(a,"active",s[3]==="left"),h(d,"class","arrow svelte-zlqq0d"),h(d,"id","right"),C(d,"active",s[3]==="right"),h(l,"class","arrows svelte-zlqq0d"),h(e,"id","game"),h(e,"class","svelte-zlqq0d")},m(c,g){P(c,e,g),I(t,e,null),_(e,r),I(n,e,null),_(e,i),_(e,l),_(l,m),_(l,$),_(l,f),_(l,o),_(l,a),_(l,z),_(l,d),_(e,G),u&&u.m(e,null),k=!0},p(c,[g]){const b={};g&2&&(b.text=`time: ${c[1].toFixed(2)}`),t.$set(b);const X={};g&32769&&(X.$$scope={dirty:g,ctx:c}),n.$set(X),(!k||g&8)&&C(m,"active",c[3]==="up"),(!k||g&8)&&C(f,"active",c[3]==="down"),(!k||g&8)&&C(a,"active",c[3]==="left"),(!k||g&8)&&C(d,"active",c[3]==="right"),c[2]?u?(u.p(c,g),g&4&&v(u,1)):(u=J(c),u.c(),v(u,1),u.m(e,null)):u&&(re(),q(u,1,1,()=>{u=null}),se())},i(c){k||(v(t.$$.fragment,c),v(n.$$.fragment,c),v(u),k=!0)},o(c){q(t.$$.fragment,c),q(n.$$.fragment,c),q(u),k=!1},d(c){c&&H(e),T(t),T(n),u&&u.d()}}}const $e=.5;function B(){const s=document.querySelector(".arrows");s&&Array.from(s.children).sort(()=>Math.random()-.5).forEach(t=>{s.appendChild(t)})}function de(s,e,t){let r=0,n=null,i=10,l,m=!1,p=!1;const $=["up","down","left","right"];let f=null;function w(){return $[Math.floor(Math.random()*$.length)]}function o(d){t(3,f=d),n=d}function a(){clearInterval(l),l=setInterval(()=>{t(1,i-=.01),i<=0&&A()},10)}function A(){clearInterval(l),t(2,m=!0),t(3,f=null)}function z(){t(0,r=0),t(1,i=10),B(),o(w()),t(2,m=!1),p=!1}return Z(()=>{document.addEventListener("keydown",d=>{const R={ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right"};m||(p||(p=!0,a()),R[d.key]===n?(t(0,r++,r),t(1,i+=$e),B(),o(w())):A())}),B(),o(w())}),[r,i,m,f,z]}class _e extends Q{constructor(e){super(),W(this,e,de,pe,K,{})}}function he(s){let e,t;return e=new le({props:{on:s[2]&&s[2].gamepad?s[2].gamepad.enabled:!0}}),e.$on("toggle",s[3]),{c(){M(e.$$.fragment)},l(r){S(e.$$.fragment,r)},m(r,n){I(e,r,n),t=!0},p(r,n){const i={};n&4&&(i.on=r[2]&&r[2].gamepad?r[2].gamepad.enabled:!0),e.$set(i)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){q(e.$$.fragment,r),t=!1},d(r){T(e,r)}}}function ve(s){let e=s[1]("settings.gamepad.testDescription")+"",t;return{c(){t=U(e)},l(r){t=O(r,e)},m(r,n){P(r,t,n)},p(r,n){n&2&&e!==(e=r[1]("settings.gamepad.testDescription")+"")&&N(t,e)},d(r){r&&H(t)}}}function we(s){let e,t,r,n,i,l,m,p,$,f,w;return t=new me({props:{name:s[1]("settings.gamepad.enabled"),description:s[1]("settings.gamepad.enabledDescription"),$$slots:{default:[he]},$$scope:{ctx:s}}}),n=new ce({props:{gui:!0}}),l=new oe({}),p=new Y({props:{$$slots:{default:[ve]},$$scope:{ctx:s}}}),f=new _e({}),{c(){e=V("div"),M(t.$$.fragment),r=L(),M(n.$$.fragment),i=L(),M(l.$$.fragment),m=L(),M(p.$$.fragment),$=L(),M(f.$$.fragment),this.h()},l(o){e=E(o,"DIV",{id:!0,class:!0});var a=F(e);S(t.$$.fragment,a),r=D(a),S(n.$$.fragment,a),i=D(a),S(l.$$.fragment,a),m=D(a),S(p.$$.fragment,a),$=D(a),S(f.$$.fragment,a),a.forEach(H),this.h()},h(){h(e,"id","page"),h(e,"class","svelte-1m6g4am")},m(o,a){P(o,e,a),I(t,e,null),_(e,r),I(n,e,null),_(e,i),I(l,e,null),_(e,m),I(p,e,null),_(e,$),I(f,e,null),w=!0},p(o,[a]){const A={};a&2&&(A.name=o[1]("settings.gamepad.enabled")),a&2&&(A.description=o[1]("settings.gamepad.enabledDescription")),a&20&&(A.$$scope={dirty:a,ctx:o}),t.$set(A);const z={};a&18&&(z.$$scope={dirty:a,ctx:o}),p.$set(z)},i(o){w||(v(t.$$.fragment,o),v(n.$$.fragment,o),v(l.$$.fragment,o),v(p.$$.fragment,o),v(f.$$.fragment,o),w=!0)},o(o){q(t.$$.fragment,o),q(n.$$.fragment,o),q(l.$$.fragment,o),q(p.$$.fragment,o),q(f.$$.fragment,o),w=!1},d(o){o&&H(e),T(t),T(n),T(l),T(p),T(f)}}}function be(s,e,t){let r,n,i,l=ee,m=()=>(l(),l=te(r,$=>t(2,i=$)),r);x(s,ae,$=>t(1,n=$)),s.$$.on_destroy.push(()=>l());const p=$=>{y.update({...i,gamepad:{...i.gamepad,enabled:$.detail}})};return m(t(0,r=y.state)),[r,n,i,p]}class Pe extends Q{constructor(e){super(),W(this,e,be,we,K,{})}}export{Pe as component};
